function eO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var tO={exports:{}},uh={},rO={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=Symbol.for("react.element"),XT=Symbol.for("react.portal"),YT=Symbol.for("react.fragment"),JT=Symbol.for("react.strict_mode"),QT=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),e2=Symbol.for("react.context"),t2=Symbol.for("react.forward_ref"),r2=Symbol.for("react.suspense"),n2=Symbol.for("react.memo"),a2=Symbol.for("react.lazy"),tx=Symbol.iterator;function i2(e){return e===null||typeof e!="object"?null:(e=tx&&e[tx]||e["@@iterator"],typeof e=="function"?e:null)}var nO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aO=Object.assign,iO={};function Ds(e,t,r){this.props=e,this.context=t,this.refs=iO,this.updater=r||nO}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oO(){}oO.prototype=Ds.prototype;function Ly(e,t,r){this.props=e,this.context=t,this.refs=iO,this.updater=r||nO}var By=Ly.prototype=new oO;By.constructor=Ly;aO(By,Ds.prototype);By.isPureReactComponent=!0;var rx=Array.isArray,sO=Object.prototype.hasOwnProperty,Fy={current:null},lO={key:!0,ref:!0,__self:!0,__source:!0};function cO(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sO.call(t,n)&&!lO.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:eu,type:e,key:i,ref:o,props:a,_owner:Fy.current}}function o2(e,t){return{$$typeof:eu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uy(e){return typeof e=="object"&&e!==null&&e.$$typeof===eu}function s2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nx=/\/+/g;function $p(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s2(""+e.key):t.toString(36)}function cd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case eu:case XT:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+$p(o,0):n,rx(a)?(r="",e!=null&&(r=e.replace(nx,"$&/")+"/"),cd(a,t,r,"",function(c){return c})):a!=null&&(Uy(a)&&(a=o2(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(nx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",rx(e))for(var s=0;s<e.length;s++){i=e[s];var l=n+$p(i,s);o+=cd(i,t,r,l,a)}else if(l=i2(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=n+$p(i,s++),o+=cd(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(e,t,r){if(e==null)return e;var n=[],a=0;return cd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function l2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},ud={transition:null},c2={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:ud,ReactCurrentOwner:Fy};function uO(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:wu,forEach:function(e,t,r){wu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wu(e,function(){t++}),t},toArray:function(e){return wu(e,function(t){return t})||[]},only:function(e){if(!Uy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Ds;Ce.Fragment=YT;Ce.Profiler=QT;Ce.PureComponent=Ly;Ce.StrictMode=JT;Ce.Suspense=r2;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2;Ce.act=uO;Ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=aO({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Fy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)sO.call(t,l)&&!lO.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:eu,type:e.type,key:a,ref:i,props:n,_owner:o}};Ce.createContext=function(e){return e={$$typeof:e2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZT,_context:e},e.Consumer=e};Ce.createElement=cO;Ce.createFactory=function(e){var t=cO.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:t2,render:e}};Ce.isValidElement=Uy;Ce.lazy=function(e){return{$$typeof:a2,_payload:{_status:-1,_result:e},_init:l2}};Ce.memo=function(e,t){return{$$typeof:n2,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=ud.transition;ud.transition={};try{e()}finally{ud.transition=t}};Ce.unstable_act=uO;Ce.useCallback=function(e,t){return fr.current.useCallback(e,t)};Ce.useContext=function(e){return fr.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return fr.current.useEffect(e,t)};Ce.useId=function(){return fr.current.useId()};Ce.useImperativeHandle=function(e,t,r){return fr.current.useImperativeHandle(e,t,r)};Ce.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return fr.current.useMemo(e,t)};Ce.useReducer=function(e,t,r){return fr.current.useReducer(e,t,r)};Ce.useRef=function(e){return fr.current.useRef(e)};Ce.useState=function(e){return fr.current.useState(e)};Ce.useSyncExternalStore=function(e,t,r){return fr.current.useSyncExternalStore(e,t,r)};Ce.useTransition=function(){return fr.current.useTransition()};Ce.version="18.3.1";rO.exports=Ce;var E=rO.exports;const N=ze(E),u2=eO({__proto__:null,default:N},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=E,f2=Symbol.for("react.element"),h2=Symbol.for("react.fragment"),p2=Object.prototype.hasOwnProperty,m2=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g2={key:!0,ref:!0,__self:!0,__source:!0};function dO(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)p2.call(t,n)&&!g2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:f2,type:e,key:i,ref:o,props:a,_owner:m2.current}}uh.Fragment=h2;uh.jsx=dO;uh.jsxs=dO;tO.exports=uh;var u=tO.exports,Wm={},fO={exports:{}},Mr={},hO={exports:{}},pO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var q=A.length;A.push(D);e:for(;0<q;){var V=q-1>>>1,J=A[V];if(0<a(J,D))A[V]=D,A[q]=J,q=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],q=A.pop();if(q!==D){A[0]=q;e:for(var V=0,J=A.length,re=J>>>1;V<re;){var pe=2*(V+1)-1,le=A[pe],xe=pe+1,He=A[xe];if(0>a(le,q))xe<J&&0>a(He,le)?(A[V]=He,A[xe]=q,V=xe):(A[V]=le,A[pe]=q,V=pe);else if(xe<J&&0>a(He,q))A[V]=He,A[xe]=q,V=xe;else break e}}return D}function a(A,D){var q=A.sortIndex-D.sortIndex;return q!==0?q:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=A)n(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(c)}}function j(A){if(v=!1,x(A),!m)if(r(l)!==null)m=!0,B(w);else{var D=r(c);D!==null&&F(j,D.startTime-A)}}function w(A,D){m=!1,v&&(v=!1,y(P),P=-1),p=!0;var q=h;try{for(x(D),f=r(l);f!==null&&(!(f.expirationTime>D)||A&&!$());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var J=V(f.expirationTime<=D);D=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(l)&&n(l),x(D)}else n(l);f=r(l)}if(f!==null)var re=!0;else{var pe=r(c);pe!==null&&F(j,pe.startTime-D),re=!1}return re}finally{f=null,h=q,p=!1}}var _=!1,O=null,P=-1,k=5,R=-1;function $(){return!(e.unstable_now()-R<k)}function L(){if(O!==null){var A=e.unstable_now();R=A;var D=!0;try{D=O(!0,A)}finally{D?U():(_=!1,O=null)}}else _=!1}var U;if(typeof b=="function")U=function(){b(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=L,U=function(){M.postMessage(null)}}else U=function(){g(L,0)};function B(A){O=A,_||(_=!0,U())}function F(A,D){P=g(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,B(w))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var q=h;h=D;try{return A()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=h;h=A;try{return D()}finally{h=q}},e.unstable_scheduleCallback=function(A,D,q){var V=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?V+q:V):q=V,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,A={id:d++,callback:D,priorityLevel:A,startTime:q,expirationTime:J,sortIndex:-1},q>V?(A.sortIndex=q,t(c,A),r(l)===null&&A===r(c)&&(v?(y(P),P=-1):v=!0,F(j,q-V))):(A.sortIndex=J,t(l,A),m||p||(m=!0,B(w))),A},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(A){var D=h;return function(){var q=h;h=D;try{return A.apply(this,arguments)}finally{h=q}}}})(pO);hO.exports=pO;var v2=hO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2=E,Dr=v2;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mO=new Set,Yl={};function ro(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(Yl[e]=t,e=0;e<t.length;e++)mO.add(t[e])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,b2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ax={},ix={};function x2(e){return Vm.call(ix,e)?!0:Vm.call(ax,e)?!1:b2.test(e)?ix[e]=!0:(ax[e]=!0,!1)}function w2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _2(e,t,r,n){if(t===null||typeof t>"u"||w2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zy,qy);Jt[t]=new hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zy,qy);Jt[t]=new hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zy,qy);Jt[t]=new hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wy(e,t,r,n){var a=Jt.hasOwnProperty(t)?Jt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_2(t,r,a,n)&&(r=null),n||a===null?x2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ma=y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),So=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),gO=Symbol.for("react.provider"),vO=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),yO=Symbol.for("react.offscreen"),ox=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,Ip;function Sl(e){if(Ip===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ip=t&&t[1]||""}return`
`+Ip+e}var Rp=!1;function Dp(e,t){if(!e||Rp)return"";Rp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Rp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sl(e):""}function j2(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=Dp(e.type,!1),e;case 11:return e=Dp(e.type.render,!1),e;case 1:return e=Dp(e.type,!0),e;default:return""}}function Xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case So:return"Portal";case Hm:return"Profiler";case Vy:return"StrictMode";case Km:return"Suspense";case Gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vO:return(e.displayName||"Context")+".Consumer";case gO:return(e._context.displayName||"Context")+".Provider";case Hy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ky:return t=e.displayName||null,t!==null?t:Xm(e.type)||"Memo";case Oa:t=e._payload,e=e._init;try{return Xm(e(t))}catch{}}return null}function S2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(t);case 8:return t===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ga(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O2(e){var t=bO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ju(e){e._valueTracker||(e._valueTracker=O2(e))}function xO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ed(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ym(e,t){var r=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ga(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wO(e,t){t=t.checked,t!=null&&Wy(e,"checked",t,!1)}function Jm(e,t){wO(e,t);var r=Ga(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,Ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qm(e,t,r){(t!=="number"||Ed(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ol=Array.isArray;function Uo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ga(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Ol(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ga(r)}}function _O(e,t){var r=Ga(t.value),n=Ga(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ux(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Su,SO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Su.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E2=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(e){E2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cl[t]=Cl[e]})});function OO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cl.hasOwnProperty(e)&&Cl[e]?(""+t).trim():t+"px"}function EO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=OO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var P2=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(e,t){if(t){if(P2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function Gy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ag=null,zo=null,qo=null;function dx(e){if(e=nu(e)){if(typeof ag!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=mh(t),ag(e.stateNode,e.type,t))}}function PO(e){zo?qo?qo.push(e):qo=[e]:zo=e}function AO(){if(zo){var e=zo,t=qo;if(qo=zo=null,dx(e),t)for(e=0;e<t.length;e++)dx(t[e])}}function kO(e,t){return e(t)}function NO(){}var Mp=!1;function CO(e,t,r){if(Mp)return e(t,r);Mp=!0;try{return kO(e,t,r)}finally{Mp=!1,(zo!==null||qo!==null)&&(NO(),AO())}}function Ql(e,t){var r=e.stateNode;if(r===null)return null;var n=mh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var ig=!1;if(la)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){ig=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{ig=!1}function A2(e,t,r,n,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Tl=!1,Pd=null,Ad=!1,og=null,k2={onError:function(e){Tl=!0,Pd=e}};function N2(e,t,r,n,a,i,o,s,l){Tl=!1,Pd=null,A2.apply(k2,arguments)}function C2(e,t,r,n,a,i,o,s,l){if(N2.apply(this,arguments),Tl){if(Tl){var c=Pd;Tl=!1,Pd=null}else throw Error(Z(198));Ad||(Ad=!0,og=c)}}function no(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function TO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fx(e){if(no(e)!==e)throw Error(Z(188))}function T2(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return fx(a),e;if(i===n)return fx(a),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function $O(e){return e=T2(e),e!==null?IO(e):null}function IO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=IO(e);if(t!==null)return t;e=e.sibling}return null}var RO=Dr.unstable_scheduleCallback,hx=Dr.unstable_cancelCallback,$2=Dr.unstable_shouldYield,I2=Dr.unstable_requestPaint,yt=Dr.unstable_now,R2=Dr.unstable_getCurrentPriorityLevel,Xy=Dr.unstable_ImmediatePriority,DO=Dr.unstable_UserBlockingPriority,kd=Dr.unstable_NormalPriority,D2=Dr.unstable_LowPriority,MO=Dr.unstable_IdlePriority,dh=null,$n=null;function M2(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(dh,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:F2,L2=Math.log,B2=Math.LN2;function F2(e){return e>>>=0,e===0?32:31-(L2(e)/B2|0)|0}var Ou=64,Eu=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=El(s):(i&=o,i!==0&&(n=El(i)))}else o=r&~a,o!==0?n=El(o):i!==0&&(n=El(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gn(t),a=1<<r,n|=e[r],t&=~a;return n}function U2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gn(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=U2(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function sg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LO(){var e=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),e}function Lp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=r}function q2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-gn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Yy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var We=0;function BO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FO,Jy,UO,zO,qO,lg=!1,Pu=[],La=null,Ba=null,Fa=null,Zl=new Map,ec=new Map,Aa=[],W2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(t.pointerId)}}function ll(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=nu(t),t!==null&&Jy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function V2(e,t,r,n,a){switch(t){case"focusin":return La=ll(La,e,t,r,n,a),!0;case"dragenter":return Ba=ll(Ba,e,t,r,n,a),!0;case"mouseover":return Fa=ll(Fa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Zl.set(i,ll(Zl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ec.set(i,ll(ec.get(i)||null,e,t,r,n,a)),!0}return!1}function WO(e){var t=ki(e.target);if(t!==null){var r=no(t);if(r!==null){if(t=r.tag,t===13){if(t=TO(r),t!==null){e.blockedOn=t,qO(e.priority,function(){UO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ng=n,r.target.dispatchEvent(n),ng=null}else return t=nu(r),t!==null&&Jy(t),e.blockedOn=r,!1;t.shift()}return!0}function mx(e,t,r){dd(e)&&r.delete(t)}function H2(){lg=!1,La!==null&&dd(La)&&(La=null),Ba!==null&&dd(Ba)&&(Ba=null),Fa!==null&&dd(Fa)&&(Fa=null),Zl.forEach(mx),ec.forEach(mx)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,H2)))}function tc(e){function t(a){return cl(a,e)}if(0<Pu.length){cl(Pu[0],e);for(var r=1;r<Pu.length;r++){var n=Pu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(La!==null&&cl(La,e),Ba!==null&&cl(Ba,e),Fa!==null&&cl(Fa,e),Zl.forEach(t),ec.forEach(t),r=0;r<Aa.length;r++)n=Aa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)WO(r),r.blockedOn===null&&Aa.shift()}var Wo=ma.ReactCurrentBatchConfig,Cd=!0;function K2(e,t,r,n){var a=We,i=Wo.transition;Wo.transition=null;try{We=1,Qy(e,t,r,n)}finally{We=a,Wo.transition=i}}function G2(e,t,r,n){var a=We,i=Wo.transition;Wo.transition=null;try{We=4,Qy(e,t,r,n)}finally{We=a,Wo.transition=i}}function Qy(e,t,r,n){if(Cd){var a=cg(e,t,r,n);if(a===null)Gp(e,t,n,Td,r),px(e,n);else if(V2(a,e,t,r,n))n.stopPropagation();else if(px(e,n),t&4&&-1<W2.indexOf(e)){for(;a!==null;){var i=nu(a);if(i!==null&&FO(i),i=cg(e,t,r,n),i===null&&Gp(e,t,n,Td,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Gp(e,t,n,null,r)}}var Td=null;function cg(e,t,r,n){if(Td=null,e=Gy(n),e=ki(e),e!==null)if(t=no(e),t===null)e=null;else if(r=t.tag,r===13){if(e=TO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Td=e,null}function VO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R2()){case Xy:return 1;case DO:return 4;case kd:case D2:return 16;case MO:return 536870912;default:return 16}default:return 16}}var $a=null,Zy=null,fd=null;function HO(){if(fd)return fd;var e,t=Zy,r=t.length,n,a="value"in $a?$a.value:$a.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return fd=a.slice(e,1<n?1-n:void 0)}function hd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Au(){return!0}function gx(){return!1}function Lr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Au:gx,this.isPropagationStopped=gx,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),t}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e0=Lr(Ms),ru=ht({},Ms,{view:0,detail:0}),X2=Lr(ru),Bp,Fp,ul,fh=ht({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(Bp=e.screenX-ul.screenX,Fp=e.screenY-ul.screenY):Fp=Bp=0,ul=e),Bp)},movementY:function(e){return"movementY"in e?e.movementY:Fp}}),vx=Lr(fh),Y2=ht({},fh,{dataTransfer:0}),J2=Lr(Y2),Q2=ht({},ru,{relatedTarget:0}),Up=Lr(Q2),Z2=ht({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),e$=Lr(Z2),t$=ht({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r$=Lr(t$),n$=ht({},Ms,{data:0}),yx=Lr(n$),a$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o$[e])?!!t[e]:!1}function t0(){return s$}var l$=ht({},ru,{key:function(e){if(e.key){var t=a$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(e){return e.type==="keypress"?hd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c$=Lr(l$),u$=ht({},fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bx=Lr(u$),d$=ht({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),f$=Lr(d$),h$=ht({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),p$=Lr(h$),m$=ht({},fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g$=Lr(m$),v$=[9,13,27,32],r0=la&&"CompositionEvent"in window,$l=null;la&&"documentMode"in document&&($l=document.documentMode);var y$=la&&"TextEvent"in window&&!$l,KO=la&&(!r0||$l&&8<$l&&11>=$l),xx=" ",wx=!1;function GO(e,t){switch(e){case"keyup":return v$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function b$(e,t){switch(e){case"compositionend":return XO(t);case"keypress":return t.which!==32?null:(wx=!0,xx);case"textInput":return e=t.data,e===xx&&wx?null:e;default:return null}}function x$(e,t){if(Eo)return e==="compositionend"||!r0&&GO(e,t)?(e=HO(),fd=Zy=$a=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return KO&&t.locale!=="ko"?null:t.data;default:return null}}var w$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w$[e.type]:t==="textarea"}function YO(e,t,r,n){PO(n),t=$d(t,"onChange"),0<t.length&&(r=new e0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Il=null,rc=null;function _$(e){sE(e,0)}function hh(e){var t=ko(e);if(xO(t))return e}function j$(e,t){if(e==="change")return t}var JO=!1;if(la){var zp;if(la){var qp="oninput"in document;if(!qp){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),qp=typeof jx.oninput=="function"}zp=qp}else zp=!1;JO=zp&&(!document.documentMode||9<document.documentMode)}function Sx(){Il&&(Il.detachEvent("onpropertychange",QO),rc=Il=null)}function QO(e){if(e.propertyName==="value"&&hh(rc)){var t=[];YO(t,rc,e,Gy(e)),CO(_$,t)}}function S$(e,t,r){e==="focusin"?(Sx(),Il=t,rc=r,Il.attachEvent("onpropertychange",QO)):e==="focusout"&&Sx()}function O$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hh(rc)}function E$(e,t){if(e==="click")return hh(t)}function P$(e,t){if(e==="input"||e==="change")return hh(t)}function A$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:A$;function nc(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vm.call(t,a)||!bn(e[a],t[a]))return!1}return!0}function Ox(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ex(e,t){var r=Ox(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ox(r)}}function ZO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eE(){for(var e=window,t=Ed();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ed(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k$(e){var t=eE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ZO(r.ownerDocument.documentElement,r)){if(n!==null&&n0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Ex(r,i);var o=Ex(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N$=la&&"documentMode"in document&&11>=document.documentMode,Po=null,ug=null,Rl=null,dg=!1;function Px(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dg||Po==null||Po!==Ed(n)||(n=Po,"selectionStart"in n&&n0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rl&&nc(Rl,n)||(Rl=n,n=$d(ug,"onSelect"),0<n.length&&(t=new e0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Po)))}function ku(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ao={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Wp={},tE={};la&&(tE=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ph(e){if(Wp[e])return Wp[e];if(!Ao[e])return e;var t=Ao[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tE)return Wp[e]=t[r];return e}var rE=ph("animationend"),nE=ph("animationiteration"),aE=ph("animationstart"),iE=ph("transitionend"),oE=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(e,t){oE.set(e,t),ro(t,[e])}for(var Vp=0;Vp<Ax.length;Vp++){var Hp=Ax[Vp],C$=Hp.toLowerCase(),T$=Hp[0].toUpperCase()+Hp.slice(1);Ya(C$,"on"+T$)}Ya(rE,"onAnimationEnd");Ya(nE,"onAnimationIteration");Ya(aE,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(iE,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function kx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,C2(n,t,void 0,e),e.currentTarget=null}function sE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;kx(a,s,c),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;kx(a,s,c),i=l}}}if(Ad)throw e=og,Ad=!1,og=null,e}function at(e,t){var r=t[gg];r===void 0&&(r=t[gg]=new Set);var n=e+"__bubble";r.has(n)||(lE(t,e,2,!1),r.add(n))}function Kp(e,t,r){var n=0;t&&(n|=4),lE(r,e,n,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[Nu]){e[Nu]=!0,mO.forEach(function(r){r!=="selectionchange"&&($$.has(r)||Kp(r,!1,e),Kp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,Kp("selectionchange",!1,t))}}function lE(e,t,r,n){switch(VO(t)){case 1:var a=K2;break;case 4:a=G2;break;default:a=Qy}r=a.bind(null,t,r,e),a=void 0,!ig||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Gp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ki(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}CO(function(){var c=i,d=Gy(r),f=[];e:{var h=oE.get(e);if(h!==void 0){var p=e0,m=e;switch(e){case"keypress":if(hd(r)===0)break e;case"keydown":case"keyup":p=c$;break;case"focusin":m="focus",p=Up;break;case"focusout":m="blur",p=Up;break;case"beforeblur":case"afterblur":p=Up;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=f$;break;case rE:case nE:case aE:p=e$;break;case iE:p=p$;break;case"scroll":p=X2;break;case"wheel":p=g$;break;case"copy":case"cut":case"paste":p=r$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bx}var v=(t&4)!==0,g=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,x;b!==null;){x=b;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,y!==null&&(j=Ql(b,y),j!=null&&v.push(ic(b,j,x)))),g)break;b=b.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ng&&(m=r.relatedTarget||r.fromElement)&&(ki(m)||m[ca]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ki(m):null,m!==null&&(g=no(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=vx,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=bx,j="onPointerLeave",y="onPointerEnter",b="pointer"),g=p==null?h:ko(p),x=m==null?h:ko(m),h=new v(j,b+"leave",p,r,d),h.target=g,h.relatedTarget=x,j=null,ki(d)===c&&(v=new v(y,b+"enter",m,r,d),v.target=x,v.relatedTarget=g,j=v),g=j,p&&m)t:{for(v=p,y=m,b=0,x=v;x;x=ho(x))b++;for(x=0,j=y;j;j=ho(j))x++;for(;0<b-x;)v=ho(v),b--;for(;0<x-b;)y=ho(y),x--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=ho(v),y=ho(y)}v=null}else v=null;p!==null&&Nx(f,h,p,v,!1),m!==null&&g!==null&&Nx(f,g,m,v,!0)}}e:{if(h=c?ko(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=j$;else if(_x(h))if(JO)w=P$;else{w=O$;var _=S$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=E$);if(w&&(w=w(e,c))){YO(f,w,r,d);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Qm(h,"number",h.value)}switch(_=c?ko(c):window,e){case"focusin":(_x(_)||_.contentEditable==="true")&&(Po=_,ug=c,Rl=null);break;case"focusout":Rl=ug=Po=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,Px(f,r,d);break;case"selectionchange":if(N$)break;case"keydown":case"keyup":Px(f,r,d)}var O;if(r0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Eo?GO(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(KO&&r.locale!=="ko"&&(Eo||P!=="onCompositionStart"?P==="onCompositionEnd"&&Eo&&(O=HO()):($a=d,Zy="value"in $a?$a.value:$a.textContent,Eo=!0)),_=$d(c,P),0<_.length&&(P=new yx(P,e,null,r,d),f.push({event:P,listeners:_}),O?P.data=O:(O=XO(r),O!==null&&(P.data=O)))),(O=y$?b$(e,r):x$(e,r))&&(c=$d(c,"onBeforeInput"),0<c.length&&(d=new yx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=O))}sE(f,t)})}function ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $d(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ql(e,r),i!=null&&n.unshift(ic(e,i,a)),i=Ql(e,t),i!=null&&n.push(ic(e,i,a))),e=e.return}return n}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,a?(l=Ql(r,i),l!=null&&o.unshift(ic(r,l,s))):a||(l=Ql(r,i),l!=null&&o.push(ic(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var I$=/\r\n?/g,R$=/\u0000|\uFFFD/g;function Cx(e){return(typeof e=="string"?e:""+e).replace(I$,`
`).replace(R$,"")}function Cu(e,t,r){if(t=Cx(t),Cx(e)!==t&&r)throw Error(Z(425))}function Id(){}var fg=null,hg=null;function pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,D$=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,M$=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(e){return Tx.resolve(null).then(e).catch(L$)}:mg;function L$(e){setTimeout(function(){throw e})}function Xp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tc(t)}function Ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ls,oc="__reactProps$"+Ls,ca="__reactContainer$"+Ls,gg="__reactEvents$"+Ls,B$="__reactListeners$"+Ls,F$="__reactHandles$"+Ls;function ki(e){var t=e[Nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ca]||r[Nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$x(e);e!==null;){if(r=e[Nn])return r;e=$x(e)}return t}e=r,r=e.parentNode}return null}function nu(e){return e=e[Nn]||e[ca],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function mh(e){return e[oc]||null}var vg=[],No=-1;function Ja(e){return{current:e}}function st(e){0>No||(e.current=vg[No],vg[No]=null,No--)}function tt(e,t){No++,vg[No]=e.current,e.current=t}var Xa={},ir=Ja(Xa),br=Ja(!1),qi=Xa;function Zo(e,t){var r=e.type.contextTypes;if(!r)return Xa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xr(e){return e=e.childContextTypes,e!=null}function Rd(){st(br),st(ir)}function Ix(e,t,r){if(ir.current!==Xa)throw Error(Z(168));tt(ir,t),tt(br,r)}function cE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Z(108,S2(e)||"Unknown",a));return ht({},r,n)}function Dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xa,qi=ir.current,tt(ir,e),tt(br,br.current),!0}function Rx(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=cE(e,t,qi),n.__reactInternalMemoizedMergedChildContext=e,st(br),st(ir),tt(ir,e)):st(br),tt(br,r)}var Jn=null,gh=!1,Yp=!1;function uE(e){Jn===null?Jn=[e]:Jn.push(e)}function U$(e){gh=!0,uE(e)}function Qa(){if(!Yp&&Jn!==null){Yp=!0;var e=0,t=We;try{var r=Jn;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jn=null,gh=!1}catch(a){throw Jn!==null&&(Jn=Jn.slice(e+1)),RO(Xy,Qa),a}finally{We=t,Yp=!1}}return null}var Co=[],To=0,Md=null,Ld=0,Vr=[],Hr=0,Wi=null,Qn=1,Zn="";function yi(e,t){Co[To++]=Ld,Co[To++]=Md,Md=e,Ld=t}function dE(e,t,r){Vr[Hr++]=Qn,Vr[Hr++]=Zn,Vr[Hr++]=Wi,Wi=e;var n=Qn;e=Zn;var a=32-gn(n)-1;n&=~(1<<a),r+=1;var i=32-gn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Qn=1<<32-gn(t)+a|r<<a|n,Zn=i+e}else Qn=1<<i|r<<a|n,Zn=e}function a0(e){e.return!==null&&(yi(e,1),dE(e,1,0))}function i0(e){for(;e===Md;)Md=Co[--To],Co[To]=null,Ld=Co[--To],Co[To]=null;for(;e===Wi;)Wi=Vr[--Hr],Vr[Hr]=null,Zn=Vr[--Hr],Vr[Hr]=null,Qn=Vr[--Hr],Vr[Hr]=null}var $r=null,Tr=null,ct=!1,pn=null;function fE(e,t){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Tr=Ua(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wi!==null?{id:Qn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$r=e,Tr=null,!0):!1;default:return!1}}function yg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bg(e){if(ct){var t=Tr;if(t){var r=t;if(!Dx(e,t)){if(yg(e))throw Error(Z(418));t=Ua(r.nextSibling);var n=$r;t&&Dx(e,t)?fE(n,r):(e.flags=e.flags&-4097|2,ct=!1,$r=e)}}else{if(yg(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ct=!1,$r=e}}}function Mx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function Tu(e){if(e!==$r)return!1;if(!ct)return Mx(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pg(e.type,e.memoizedProps)),t&&(t=Tr)){if(yg(e))throw hE(),Error(Z(418));for(;t;)fE(e,t),t=Ua(t.nextSibling)}if(Mx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=Ua(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=$r?Ua(e.stateNode.nextSibling):null;return!0}function hE(){for(var e=Tr;e;)e=Ua(e.nextSibling)}function es(){Tr=$r=null,ct=!1}function o0(e){pn===null?pn=[e]:pn.push(e)}var z$=ma.ReactCurrentBatchConfig;function dl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function $u(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lx(e){var t=e._init;return t(e._payload)}function pE(e){function t(y,b){if(e){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Va(y,b),y.index=0,y.sibling=null,y}function i(y,b,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,b,x,j){return b===null||b.tag!==6?(b=nm(x,y.mode,j),b.return=y,b):(b=a(b,x),b.return=y,b)}function l(y,b,x,j){var w=x.type;return w===Oo?d(y,b,x.props.children,j,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Oa&&Lx(w)===b.type)?(j=a(b,x.props),j.ref=dl(y,b,x),j.return=y,j):(j=xd(x.type,x.key,x.props,null,y.mode,j),j.ref=dl(y,b,x),j.return=y,j)}function c(y,b,x,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=am(x,y.mode,j),b.return=y,b):(b=a(b,x.children||[]),b.return=y,b)}function d(y,b,x,j,w){return b===null||b.tag!==7?(b=Bi(x,y.mode,j,w),b.return=y,b):(b=a(b,x),b.return=y,b)}function f(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nm(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _u:return x=xd(b.type,b.key,b.props,null,y.mode,x),x.ref=dl(y,null,b),x.return=y,x;case So:return b=am(b,y.mode,x),b.return=y,b;case Oa:var j=b._init;return f(y,j(b._payload),x)}if(Ol(b)||ol(b))return b=Bi(b,y.mode,x,null),b.return=y,b;$u(y,b)}return null}function h(y,b,x,j){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(y,b,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _u:return x.key===w?l(y,b,x,j):null;case So:return x.key===w?c(y,b,x,j):null;case Oa:return w=x._init,h(y,b,w(x._payload),j)}if(Ol(x)||ol(x))return w!==null?null:d(y,b,x,j,null);$u(y,x)}return null}function p(y,b,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(x)||null,s(b,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _u:return y=y.get(j.key===null?x:j.key)||null,l(b,y,j,w);case So:return y=y.get(j.key===null?x:j.key)||null,c(b,y,j,w);case Oa:var _=j._init;return p(y,b,x,_(j._payload),w)}if(Ol(j)||ol(j))return y=y.get(x)||null,d(b,y,j,w,null);$u(b,j)}return null}function m(y,b,x,j){for(var w=null,_=null,O=b,P=b=0,k=null;O!==null&&P<x.length;P++){O.index>P?(k=O,O=null):k=O.sibling;var R=h(y,O,x[P],j);if(R===null){O===null&&(O=k);break}e&&O&&R.alternate===null&&t(y,O),b=i(R,b,P),_===null?w=R:_.sibling=R,_=R,O=k}if(P===x.length)return r(y,O),ct&&yi(y,P),w;if(O===null){for(;P<x.length;P++)O=f(y,x[P],j),O!==null&&(b=i(O,b,P),_===null?w=O:_.sibling=O,_=O);return ct&&yi(y,P),w}for(O=n(y,O);P<x.length;P++)k=p(O,y,P,x[P],j),k!==null&&(e&&k.alternate!==null&&O.delete(k.key===null?P:k.key),b=i(k,b,P),_===null?w=k:_.sibling=k,_=k);return e&&O.forEach(function($){return t(y,$)}),ct&&yi(y,P),w}function v(y,b,x,j){var w=ol(x);if(typeof w!="function")throw Error(Z(150));if(x=w.call(x),x==null)throw Error(Z(151));for(var _=w=null,O=b,P=b=0,k=null,R=x.next();O!==null&&!R.done;P++,R=x.next()){O.index>P?(k=O,O=null):k=O.sibling;var $=h(y,O,R.value,j);if($===null){O===null&&(O=k);break}e&&O&&$.alternate===null&&t(y,O),b=i($,b,P),_===null?w=$:_.sibling=$,_=$,O=k}if(R.done)return r(y,O),ct&&yi(y,P),w;if(O===null){for(;!R.done;P++,R=x.next())R=f(y,R.value,j),R!==null&&(b=i(R,b,P),_===null?w=R:_.sibling=R,_=R);return ct&&yi(y,P),w}for(O=n(y,O);!R.done;P++,R=x.next())R=p(O,y,P,R.value,j),R!==null&&(e&&R.alternate!==null&&O.delete(R.key===null?P:R.key),b=i(R,b,P),_===null?w=R:_.sibling=R,_=R);return e&&O.forEach(function(L){return t(y,L)}),ct&&yi(y,P),w}function g(y,b,x,j){if(typeof x=="object"&&x!==null&&x.type===Oo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _u:e:{for(var w=x.key,_=b;_!==null;){if(_.key===w){if(w=x.type,w===Oo){if(_.tag===7){r(y,_.sibling),b=a(_,x.props.children),b.return=y,y=b;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Oa&&Lx(w)===_.type){r(y,_.sibling),b=a(_,x.props),b.ref=dl(y,_,x),b.return=y,y=b;break e}r(y,_);break}else t(y,_);_=_.sibling}x.type===Oo?(b=Bi(x.props.children,y.mode,j,x.key),b.return=y,y=b):(j=xd(x.type,x.key,x.props,null,y.mode,j),j.ref=dl(y,b,x),j.return=y,y=j)}return o(y);case So:e:{for(_=x.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),b=a(b,x.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=am(x,y.mode,j),b.return=y,y=b}return o(y);case Oa:return _=x._init,g(y,b,_(x._payload),j)}if(Ol(x))return m(y,b,x,j);if(ol(x))return v(y,b,x,j);$u(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,x),b.return=y,y=b):(r(y,b),b=nm(x,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return g}var ts=pE(!0),mE=pE(!1),Bd=Ja(null),Fd=null,$o=null,s0=null;function l0(){s0=$o=Fd=null}function c0(e){var t=Bd.current;st(Bd),e._currentValue=t}function xg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vo(e,t){Fd=e,s0=$o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(s0!==e)if(e={context:e,memoizedValue:t,next:null},$o===null){if(Fd===null)throw Error(Z(308));$o=e,Fd.dependencies={lanes:0,firstContext:e}}else $o=$o.next=e;return t}var Ni=null;function u0(e){Ni===null?Ni=[e]:Ni.push(e)}function gE(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,u0(t)):(r.next=a.next,a.next=r),t.interleaved=r,ua(e,n)}function ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ea=!1;function d0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ua(e,r)}return a=n.interleaved,a===null?(t.next=t,u0(n)):(t.next=a.next,a.next=t),n.interleaved=t,ua(e,r)}function pd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yy(e,r)}}function Bx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ud(e,t,r,n){var a=e.updateQueue;Ea=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ht({},f,h);break e;case 2:Ea=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;h=s,s=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Hi|=o,e.lanes=o,e.memoizedState=f}}function Fx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Z(191,a));a.call(n)}}}var au={},In=Ja(au),sc=Ja(au),lc=Ja(au);function Ci(e){if(e===au)throw Error(Z(174));return e}function f0(e,t){switch(tt(lc,t),tt(sc,e),tt(In,au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eg(t,e)}st(In),tt(In,t)}function rs(){st(In),st(sc),st(lc)}function yE(e){Ci(lc.current);var t=Ci(In.current),r=eg(t,e.type);t!==r&&(tt(sc,e),tt(In,r))}function h0(e){sc.current===e&&(st(In),st(sc))}var dt=Ja(0);function zd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jp=[];function p0(){for(var e=0;e<Jp.length;e++)Jp[e]._workInProgressVersionPrimary=null;Jp.length=0}var md=ma.ReactCurrentDispatcher,Qp=ma.ReactCurrentBatchConfig,Vi=0,ft=null,Ct=null,Bt=null,qd=!1,Dl=!1,cc=0,q$=0;function Zt(){throw Error(Z(321))}function m0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bn(e[r],t[r]))return!1;return!0}function g0(e,t,r,n,a,i){if(Vi=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,md.current=e===null||e.memoizedState===null?K$:G$,e=r(n,a),Dl){i=0;do{if(Dl=!1,cc=0,25<=i)throw Error(Z(301));i+=1,Bt=Ct=null,t.updateQueue=null,md.current=X$,e=r(n,a)}while(Dl)}if(md.current=Wd,t=Ct!==null&&Ct.next!==null,Vi=0,Bt=Ct=ft=null,qd=!1,t)throw Error(Z(300));return e}function v0(){var e=cc!==0;return cc=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ft.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Qr(){if(Ct===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Bt===null?ft.memoizedState:Bt.next;if(t!==null)Bt=t,Ct=e;else{if(e===null)throw Error(Z(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Bt===null?ft.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function uc(e,t){return typeof t=="function"?t(e):t}function Zp(e){var t=Qr(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=Ct,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((Vi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,ft.lanes|=d,Hi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=s,bn(n,t.memoizedState)||(vr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ft.lanes|=i,Hi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function em(e){var t=Qr(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);bn(i,t.memoizedState)||(vr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function bE(){}function xE(e,t){var r=ft,n=Qr(),a=t(),i=!bn(n.memoizedState,a);if(i&&(n.memoizedState=a,vr=!0),n=n.queue,y0(jE.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,dc(9,_E.bind(null,r,n,a,t),void 0,null),zt===null)throw Error(Z(349));Vi&30||wE(r,t,a)}return a}function wE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _E(e,t,r,n){t.value=r,t.getSnapshot=n,SE(t)&&OE(e)}function jE(e,t,r){return r(function(){SE(t)&&OE(e)})}function SE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bn(e,r)}catch{return!0}}function OE(e){var t=ua(e,1);t!==null&&vn(t,e,1,-1)}function Ux(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=H$.bind(null,ft,e),[t.memoizedState,e]}function dc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function EE(){return Qr().memoizedState}function gd(e,t,r,n){var a=Pn();ft.flags|=e,a.memoizedState=dc(1|t,r,void 0,n===void 0?null:n)}function vh(e,t,r,n){var a=Qr();n=n===void 0?null:n;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,n!==null&&m0(n,o.deps)){a.memoizedState=dc(t,r,i,n);return}}ft.flags|=e,a.memoizedState=dc(1|t,r,i,n)}function zx(e,t){return gd(8390656,8,e,t)}function y0(e,t){return vh(2048,8,e,t)}function PE(e,t){return vh(4,2,e,t)}function AE(e,t){return vh(4,4,e,t)}function kE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NE(e,t,r){return r=r!=null?r.concat([e]):null,vh(4,4,kE.bind(null,t,e),r)}function b0(){}function CE(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function TE(e,t){var r=Qr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&m0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $E(e,t,r){return Vi&21?(bn(r,t)||(r=LO(),ft.lanes|=r,Hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=r)}function W$(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Qp.transition;Qp.transition={};try{e(!1),t()}finally{We=r,Qp.transition=n}}function IE(){return Qr().memoizedState}function V$(e,t,r){var n=Wa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RE(e))DE(t,r);else if(r=gE(e,t,r,n),r!==null){var a=dr();vn(r,e,n,a),ME(r,t,n)}}function H$(e,t,r){var n=Wa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RE(e))DE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,bn(s,o)){var l=t.interleaved;l===null?(a.next=a,u0(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=gE(e,t,a,n),r!==null&&(a=dr(),vn(r,e,n,a),ME(r,t,n))}}function RE(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function DE(e,t){Dl=qd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ME(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yy(e,r)}}var Wd={readContext:Jr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},K$={readContext:Jr,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:zx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gd(4194308,4,kE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gd(4194308,4,e,t)},useInsertionEffect:function(e,t){return gd(4,2,e,t)},useMemo:function(e,t){var r=Pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=V$.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:Ux,useDebugValue:b0,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=Ux(!1),t=e[0];return e=W$.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ft,a=Pn();if(ct){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),zt===null)throw Error(Z(349));Vi&30||wE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,zx(jE.bind(null,n,i,e),[e]),n.flags|=2048,dc(9,_E.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Pn(),t=zt.identifierPrefix;if(ct){var r=Zn,n=Qn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=q$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G$={readContext:Jr,useCallback:CE,useContext:Jr,useEffect:y0,useImperativeHandle:NE,useInsertionEffect:PE,useLayoutEffect:AE,useMemo:TE,useReducer:Zp,useRef:EE,useState:function(){return Zp(uc)},useDebugValue:b0,useDeferredValue:function(e){var t=Qr();return $E(t,Ct.memoizedState,e)},useTransition:function(){var e=Zp(uc)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:bE,useSyncExternalStore:xE,useId:IE,unstable_isNewReconciler:!1},X$={readContext:Jr,useCallback:CE,useContext:Jr,useEffect:y0,useImperativeHandle:NE,useInsertionEffect:PE,useLayoutEffect:AE,useMemo:TE,useReducer:em,useRef:EE,useState:function(){return em(uc)},useDebugValue:b0,useDeferredValue:function(e){var t=Qr();return Ct===null?t.memoizedState=e:$E(t,Ct.memoizedState,e)},useTransition:function(){var e=em(uc)[0],t=Qr().memoizedState;return[e,t]},useMutableSource:bE,useSyncExternalStore:xE,useId:IE,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ht({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yh={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dr(),a=Wa(e),i=aa(n,a);i.payload=t,r!=null&&(i.callback=r),t=za(e,i,a),t!==null&&(vn(t,e,a,n),pd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dr(),a=Wa(e),i=aa(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=za(e,i,a),t!==null&&(vn(t,e,a,n),pd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dr(),n=Wa(e),a=aa(r,n);a.tag=2,t!=null&&(a.callback=t),t=za(e,a,n),t!==null&&(vn(t,e,n,r),pd(t,e,n))}};function qx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!nc(r,n)||!nc(a,i):!0}function LE(e,t,r){var n=!1,a=Xa,i=t.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(a=xr(t)?qi:ir.current,n=t.contextTypes,i=(n=n!=null)?Zo(e,a):Xa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function _g(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},d0(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Jr(i):(i=xr(t)?qi:ir.current,a.context=Zo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wg(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yh.enqueueReplaceState(a,a.state,null),Ud(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t){try{var r="",n=t;do r+=j2(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function tm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Y$=typeof WeakMap=="function"?WeakMap:Map;function BE(e,t,r){r=aa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hd||(Hd=!0,$g=n),jg(e,t)},r}function FE(e,t,r){r=aa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jg(e,t),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Y$;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=uI.bind(null,e,t,r),t.then(e,e))}function Hx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=aa(-1,1),t.tag=2,za(r,t,1))),r.lanes|=1),e)}var J$=ma.ReactCurrentOwner,vr=!1;function or(e,t,r,n){t.child=e===null?mE(t,null,r,n):ts(t,e.child,r,n)}function Gx(e,t,r,n,a){r=r.render;var i=t.ref;return Vo(t,a),n=g0(e,t,r,n,i,a),r=v0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,da(e,t,a)):(ct&&r&&a0(t),t.flags|=1,or(e,t,n,a),t.child)}function Xx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!P0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,UE(e,t,i,n,a)):(e=xd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:nc,r(o,n)&&e.ref===t.ref)return da(e,t,a)}return t.flags|=1,e=Va(i,n),e.ref=t.ref,e.return=t,t.child=e}function UE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(nc(i,n)&&e.ref===t.ref)if(vr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,da(e,t,a)}return Sg(e,t,r,n,a)}function zE(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ro,Ar),Ar|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ro,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,tt(Ro,Ar),Ar|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,tt(Ro,Ar),Ar|=n;return or(e,t,a,r),t.child}function qE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sg(e,t,r,n,a){var i=xr(r)?qi:ir.current;return i=Zo(t,i),Vo(t,a),r=g0(e,t,r,n,i,a),n=v0(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,da(e,t,a)):(ct&&n&&a0(t),t.flags|=1,or(e,t,r,a),t.child)}function Yx(e,t,r,n,a){if(xr(r)){var i=!0;Dd(t)}else i=!1;if(Vo(t,a),t.stateNode===null)vd(e,t),LE(t,r,n),_g(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Jr(c):(c=xr(r)?qi:ir.current,c=Zo(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Wx(t,o,n,c),Ea=!1;var h=t.memoizedState;o.state=h,Ud(t,n,o,a),l=t.memoizedState,s!==n||h!==l||br.current||Ea?(typeof d=="function"&&(wg(t,r,d,n),l=t.memoizedState),(s=Ea||qx(t,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vE(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ln(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=xr(r)?qi:ir.current,l=Zo(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Wx(t,o,n,l),Ea=!1,h=t.memoizedState,o.state=h,Ud(t,n,o,a);var m=t.memoizedState;s!==f||h!==m||br.current||Ea?(typeof p=="function"&&(wg(t,r,p,n),m=t.memoizedState),(c=Ea||qx(t,r,c,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Og(e,t,r,n,i,a)}function Og(e,t,r,n,a,i){qE(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Rx(t,r,!1),da(e,t,i);n=t.stateNode,J$.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ts(t,e.child,null,i),t.child=ts(t,null,s,i)):or(e,t,s,i),t.memoizedState=n.state,a&&Rx(t,r,!0),t.child}function WE(e){var t=e.stateNode;t.pendingContext?Ix(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ix(e,t.context,!1),f0(e,t.containerInfo)}function Jx(e,t,r,n,a){return es(),o0(a),t.flags|=256,or(e,t,r,n),t.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function VE(e,t,r){var n=t.pendingProps,a=dt.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tt(dt,a&1),e===null)return bg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wh(o,n,0,null),e=Bi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pg(r),t.memoizedState=Eg,e):x0(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return Q$(e,t,o,n,s,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Va(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Va(s,i):(i=Bi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Pg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Eg,n}return i=e.child,e=i.sibling,n=Va(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function x0(e,t){return t=wh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,r,n){return n!==null&&o0(n),ts(t,e.child,null,r),e=x0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q$(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=tm(Error(Z(422))),Iu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=wh({mode:"visible",children:n.children},a,0,null),i=Bi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ts(t,e.child,null,o),t.child.memoizedState=Pg(o),t.memoizedState=Eg,i);if(!(t.mode&1))return Iu(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(Z(419)),n=tm(i,n,void 0),Iu(e,t,o,n)}if(s=(o&e.childLanes)!==0,vr||s){if(n=zt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ua(e,a),vn(n,e,a,-1))}return E0(),n=tm(Error(Z(421))),Iu(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=dI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Tr=Ua(a.nextSibling),$r=t,ct=!0,pn=null,e!==null&&(Vr[Hr++]=Qn,Vr[Hr++]=Zn,Vr[Hr++]=Wi,Qn=e.id,Zn=e.overflow,Wi=t),t=x0(t,n.children),t.flags|=4096,t)}function Qx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xg(e.return,t,r)}function rm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function HE(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(or(e,t,n.children,r),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qx(e,r,t);else if(e.tag===19)Qx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(dt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&zd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rm(t,!0,r,null,i);break;case"together":rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function da(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=Va(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Va(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Z$(e,t,r){switch(t.tag){case 3:WE(t),es();break;case 5:yE(t);break;case 1:xr(t.type)&&Dd(t);break;case 4:f0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;tt(Bd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(dt,dt.current&1),t.flags|=128,null):r&t.child.childLanes?VE(e,t,r):(tt(dt,dt.current&1),e=da(e,t,r),e!==null?e.sibling:null);tt(dt,dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return HE(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tt(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,zE(e,t,r)}return da(e,t,r)}var KE,Ag,GE,XE;KE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ag=function(){};GE=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ci(In.current);var i=null;switch(r){case"input":a=Ym(e,a),n=Ym(e,n),i=[];break;case"select":a=ht({},a,{value:void 0}),n=ht({},n,{value:void 0}),i=[];break;case"textarea":a=Zm(e,a),n=Zm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Id)}tg(r,n);var o;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(s=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};XE=function(e,t,r,n){r!==n&&(t.flags|=4)};function fl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function eI(e,t,r){var n=t.pendingProps;switch(i0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return xr(t.type)&&Rd(),er(t),null;case 3:return n=t.stateNode,rs(),st(br),st(ir),p0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(Dg(pn),pn=null))),Ag(e,t),er(t),null;case 5:h0(t);var a=Ci(lc.current);if(r=t.type,e!==null&&t.stateNode!=null)GE(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return er(t),null}if(e=Ci(In.current),Tu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nn]=t,n[oc]=i,e=(t.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)at(Pl[a],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":sx(n,i),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},at("invalid",n);break;case"textarea":cx(n,i),at("invalid",n)}tg(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,s,e),a=["children",""+s]):Yl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&at("scroll",n)}switch(r){case"input":ju(n),lx(n,i,!0);break;case"textarea":ju(n),ux(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Id)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Nn]=t,e[oc]=n,KE(e,t,!1,!1),t.stateNode=e;e:{switch(o=rg(r,n),r){case"dialog":at("cancel",e),at("close",e),a=n;break;case"iframe":case"object":case"embed":at("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pl.length;a++)at(Pl[a],e);a=n;break;case"source":at("error",e),a=n;break;case"img":case"image":case"link":at("error",e),at("load",e),a=n;break;case"details":at("toggle",e),a=n;break;case"input":sx(e,n),a=Ym(e,n),at("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ht({},n,{value:void 0}),at("invalid",e);break;case"textarea":cx(e,n),a=Zm(e,n),at("invalid",e);break;default:a=n}tg(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?EO(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SO(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jl(e,l):typeof l=="number"&&Jl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&at("scroll",e):l!=null&&Wy(e,i,l,o))}switch(r){case"input":ju(e),lx(e,n,!1);break;case"textarea":ju(e),ux(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ga(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Uo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Uo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Id)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)XE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=Ci(lc.current),Ci(In.current),Tu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,(i=n.nodeValue!==r)&&(e=$r,e!==null))switch(e.tag){case 3:Cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=t,t.stateNode=n}return er(t),null;case 13:if(st(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&Tr!==null&&t.mode&1&&!(t.flags&128))hE(),es(),t.flags|=98560,i=!1;else if(i=Tu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Nn]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),i=!1}else pn!==null&&(Dg(pn),pn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?$t===0&&($t=3):E0())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return rs(),Ag(e,t),e===null&&ac(t.stateNode.containerInfo),er(t),null;case 10:return c0(t.type._context),er(t),null;case 17:return xr(t.type)&&Rd(),er(t),null;case 19:if(st(dt),i=t.memoizedState,i===null)return er(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)fl(i,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zd(e),o!==null){for(t.flags|=128,fl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&yt()>as&&(t.flags|=128,n=!0,fl(i,!1),t.lanes=4194304)}else{if(!n)if(e=zd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return er(t),null}else 2*yt()-i.renderingStartTime>as&&r!==1073741824&&(t.flags|=128,n=!0,fl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=yt(),t.sibling=null,r=dt.current,tt(dt,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return O0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ar&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function tI(e,t){switch(i0(t),t.tag){case 1:return xr(t.type)&&Rd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),st(br),st(ir),p0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h0(t),null;case 13:if(st(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(dt),null;case 4:return rs(),null;case 10:return c0(t.type._context),null;case 22:case 23:return O0(),null;case 24:return null;default:return null}}var Ru=!1,rr=!1,rI=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Io(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pt(e,t,n)}else r.current=null}function kg(e,t,r){try{r()}catch(n){pt(e,t,n)}}var Zx=!1;function nI(e,t){if(fg=Cd,e=eE(),n0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(s=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hg={focusedElem:e,selectionRange:r},Cd=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ln(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){pt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return m=Zx,Zx=!1,m}function Ml(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&kg(t,r,i)}a=a.next}while(a!==n)}}function bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ng(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function YE(e){var t=e.alternate;t!==null&&(e.alternate=null,YE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[oc],delete t[gg],delete t[B$],delete t[F$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JE(e){return e.tag===5||e.tag===3||e.tag===4}function ew(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Id));else if(n!==4&&(e=e.child,e!==null))for(Cg(e,t,r),e=e.sibling;e!==null;)Cg(e,t,r),e=e.sibling}function Tg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tg(e,t,r),e=e.sibling;e!==null;)Tg(e,t,r),e=e.sibling}var Xt=null,un=!1;function ja(e,t,r){for(r=r.child;r!==null;)QE(e,t,r),r=r.sibling}function QE(e,t,r){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(dh,r)}catch{}switch(r.tag){case 5:rr||Io(r,t);case 6:var n=Xt,a=un;Xt=null,ja(e,t,r),Xt=n,un=a,Xt!==null&&(un?(e=Xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(un?(e=Xt,r=r.stateNode,e.nodeType===8?Xp(e.parentNode,r):e.nodeType===1&&Xp(e,r),tc(e)):Xp(Xt,r.stateNode));break;case 4:n=Xt,a=un,Xt=r.stateNode.containerInfo,un=!0,ja(e,t,r),Xt=n,un=a;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&kg(r,t,o),a=a.next}while(a!==n)}ja(e,t,r);break;case 1:if(!rr&&(Io(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){pt(r,t,s)}ja(e,t,r);break;case 21:ja(e,t,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,ja(e,t,r),rr=n):ja(e,t,r);break;default:ja(e,t,r)}}function tw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rI),t.forEach(function(n){var a=fI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function an(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Xt=s.stateNode,un=!1;break e;case 3:Xt=s.stateNode.containerInfo,un=!0;break e;case 4:Xt=s.stateNode.containerInfo,un=!0;break e}s=s.return}if(Xt===null)throw Error(Z(160));QE(i,o,a),Xt=null,un=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){pt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZE(t,e),t=t.sibling}function ZE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),En(e),n&4){try{Ml(3,e,e.return),bh(3,e)}catch(v){pt(e,e.return,v)}try{Ml(5,e,e.return)}catch(v){pt(e,e.return,v)}}break;case 1:an(t,e),En(e),n&512&&r!==null&&Io(r,r.return);break;case 5:if(an(t,e),En(e),n&512&&r!==null&&Io(r,r.return),e.flags&32){var a=e.stateNode;try{Jl(a,"")}catch(v){pt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&wO(a,i),rg(s,o);var c=rg(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?EO(a,f):d==="dangerouslySetInnerHTML"?SO(a,f):d==="children"?Jl(a,f):Wy(a,d,f,c)}switch(s){case"input":Jm(a,i);break;case"textarea":_O(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Uo(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Uo(a,!!i.multiple,i.defaultValue,!0):Uo(a,!!i.multiple,i.multiple?[]:"",!1))}a[oc]=i}catch(v){pt(e,e.return,v)}}break;case 6:if(an(t,e),En(e),n&4){if(e.stateNode===null)throw Error(Z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){pt(e,e.return,v)}}break;case 3:if(an(t,e),En(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tc(t.containerInfo)}catch(v){pt(e,e.return,v)}break;case 4:an(t,e),En(e);break;case 13:an(t,e),En(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(j0=yt())),n&4&&tw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rr=(c=rr)||d,an(t,e),rr=c):an(t,e),En(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ml(4,h,h.return);break;case 1:Io(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){pt(n,r,v)}}break;case 5:Io(h,h.return);break;case 22:if(h.memoizedState!==null){nw(f);continue}}p!==null?(p.return=h,ae=p):nw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=OO("display",o))}catch(v){pt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){pt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:an(t,e),En(e),n&4&&tw(e);break;case 21:break;default:an(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(JE(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Jl(a,""),n.flags&=-33);var i=ew(e);Tg(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=ew(e);Cg(e,s,o);break;default:throw Error(Z(161))}}catch(l){pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aI(e,t,r){ae=e,eP(e)}function eP(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var a=ae,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ru;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||rr;s=Ru;var c=rr;if(Ru=o,(rr=l)&&!c)for(ae=a;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?aw(a):l!==null?(l.return=o,ae=l):aw(a);for(;i!==null;)ae=i,eP(i),i=i.sibling;ae=a,Ru=s,rr=c}rw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ae=i):rw(e)}}function rw(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rr||bh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ln(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fx(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}rr||t.flags&512&&Ng(t)}catch(h){pt(t,t.return,h)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function nw(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function aw(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bh(4,t)}catch(l){pt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){pt(t,a,l)}}var i=t.return;try{Ng(t)}catch(l){pt(t,i,l)}break;case 5:var o=t.return;try{Ng(t)}catch(l){pt(t,o,l)}}}catch(l){pt(t,t.return,l)}if(t===e){ae=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ae=s;break}ae=t.return}}var iI=Math.ceil,Vd=ma.ReactCurrentDispatcher,w0=ma.ReactCurrentOwner,Yr=ma.ReactCurrentBatchConfig,Le=0,zt=null,Et=null,Yt=0,Ar=0,Ro=Ja(0),$t=0,fc=null,Hi=0,xh=0,_0=0,Ll=null,mr=null,j0=0,as=1/0,Xn=null,Hd=!1,$g=null,qa=null,Du=!1,Ia=null,Kd=0,Bl=0,Ig=null,yd=-1,bd=0;function dr(){return Le&6?yt():yd!==-1?yd:yd=yt()}function Wa(e){return e.mode&1?Le&2&&Yt!==0?Yt&-Yt:z$.transition!==null?(bd===0&&(bd=LO()),bd):(e=We,e!==0||(e=window.event,e=e===void 0?16:VO(e.type)),e):1}function vn(e,t,r,n){if(50<Bl)throw Bl=0,Ig=null,Error(Z(185));tu(e,r,n),(!(Le&2)||e!==zt)&&(e===zt&&(!(Le&2)&&(xh|=r),$t===4&&ka(e,Yt)),wr(e,n),r===1&&Le===0&&!(t.mode&1)&&(as=yt()+500,gh&&Qa()))}function wr(e,t){var r=e.callbackNode;z2(e,t);var n=Nd(e,e===zt?Yt:0);if(n===0)r!==null&&hx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hx(r),t===1)e.tag===0?U$(iw.bind(null,e)):uE(iw.bind(null,e)),M$(function(){!(Le&6)&&Qa()}),r=null;else{switch(BO(n)){case 1:r=Xy;break;case 4:r=DO;break;case 16:r=kd;break;case 536870912:r=MO;break;default:r=kd}r=lP(r,tP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tP(e,t){if(yd=-1,bd=0,Le&6)throw Error(Z(327));var r=e.callbackNode;if(Ho()&&e.callbackNode!==r)return null;var n=Nd(e,e===zt?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gd(e,n);else{t=n;var a=Le;Le|=2;var i=nP();(zt!==e||Yt!==t)&&(Xn=null,as=yt()+500,Li(e,t));do try{lI();break}catch(s){rP(e,s)}while(!0);l0(),Vd.current=i,Le=a,Et!==null?t=0:(zt=null,Yt=0,t=$t)}if(t!==0){if(t===2&&(a=sg(e),a!==0&&(n=a,t=Rg(e,a))),t===1)throw r=fc,Li(e,0),ka(e,n),wr(e,yt()),r;if(t===6)ka(e,n);else{if(a=e.current.alternate,!(n&30)&&!oI(a)&&(t=Gd(e,n),t===2&&(i=sg(e),i!==0&&(n=i,t=Rg(e,i))),t===1))throw r=fc,Li(e,0),ka(e,n),wr(e,yt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:bi(e,mr,Xn);break;case 3:if(ka(e,n),(n&130023424)===n&&(t=j0+500-yt(),10<t)){if(Nd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){dr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=mg(bi.bind(null,e,mr,Xn),t);break}bi(e,mr,Xn);break;case 4:if(ka(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-gn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iI(n/1960))-n,10<n){e.timeoutHandle=mg(bi.bind(null,e,mr,Xn),n);break}bi(e,mr,Xn);break;case 5:bi(e,mr,Xn);break;default:throw Error(Z(329))}}}return wr(e,yt()),e.callbackNode===r?tP.bind(null,e):null}function Rg(e,t){var r=Ll;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=Gd(e,t),e!==2&&(t=mr,mr=r,t!==null&&Dg(t)),e}function Dg(e){mr===null?mr=e:mr.push.apply(mr,e)}function oI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ka(e,t){for(t&=~_0,t&=~xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gn(t),n=1<<r;e[r]=-1,t&=~n}}function iw(e){if(Le&6)throw Error(Z(327));Ho();var t=Nd(e,0);if(!(t&1))return wr(e,yt()),null;var r=Gd(e,t);if(e.tag!==0&&r===2){var n=sg(e);n!==0&&(t=n,r=Rg(e,n))}if(r===1)throw r=fc,Li(e,0),ka(e,t),wr(e,yt()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bi(e,mr,Xn),wr(e,yt()),null}function S0(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(as=yt()+500,gh&&Qa())}}function Ki(e){Ia!==null&&Ia.tag===0&&!(Le&6)&&Ho();var t=Le;Le|=1;var r=Yr.transition,n=We;try{if(Yr.transition=null,We=1,e)return e()}finally{We=n,Yr.transition=r,Le=t,!(Le&6)&&Qa()}}function O0(){Ar=Ro.current,st(Ro)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D$(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(i0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rd();break;case 3:rs(),st(br),st(ir),p0();break;case 5:h0(n);break;case 4:rs();break;case 13:st(dt);break;case 19:st(dt);break;case 10:c0(n.type._context);break;case 22:case 23:O0()}r=r.return}if(zt=e,Et=e=Va(e.current,null),Yt=Ar=t,$t=0,fc=null,_0=xh=Hi=0,mr=Ll=null,Ni!==null){for(t=0;t<Ni.length;t++)if(r=Ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ni=null}return e}function rP(e,t){do{var r=Et;try{if(l0(),md.current=Wd,qd){for(var n=ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qd=!1}if(Vi=0,Bt=Ct=ft=null,Dl=!1,cc=0,w0.current=null,r===null||r.return===null){$t=1,fc=t,Et=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=Yt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Hx(o);if(p!==null){p.flags&=-257,Kx(p,o,s,i,t),p.mode&1&&Vx(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Vx(i,c,t),E0();break e}l=Error(Z(426))}}else if(ct&&s.mode&1){var g=Hx(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Kx(g,o,s,i,t),o0(ns(l,s));break e}}i=l=ns(l,s),$t!==4&&($t=2),Ll===null?Ll=[i]:Ll.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=BE(i,l,t);Bx(i,y);break e;case 1:s=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qa===null||!qa.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=FE(i,s,t);Bx(i,j);break e}}i=i.return}while(i!==null)}iP(r)}catch(w){t=w,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function nP(){var e=Vd.current;return Vd.current=Wd,e===null?Wd:e}function E0(){($t===0||$t===3||$t===2)&&($t=4),zt===null||!(Hi&268435455)&&!(xh&268435455)||ka(zt,Yt)}function Gd(e,t){var r=Le;Le|=2;var n=nP();(zt!==e||Yt!==t)&&(Xn=null,Li(e,t));do try{sI();break}catch(a){rP(e,a)}while(!0);if(l0(),Le=r,Vd.current=n,Et!==null)throw Error(Z(261));return zt=null,Yt=0,$t}function sI(){for(;Et!==null;)aP(Et)}function lI(){for(;Et!==null&&!$2();)aP(Et)}function aP(e){var t=sP(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?iP(e):Et=t,w0.current=null}function iP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tI(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$t=6,Et=null;return}}else if(r=eI(r,t,Ar),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);$t===0&&($t=5)}function bi(e,t,r){var n=We,a=Yr.transition;try{Yr.transition=null,We=1,cI(e,t,r,n)}finally{Yr.transition=a,We=n}return null}function cI(e,t,r,n){do Ho();while(Ia!==null);if(Le&6)throw Error(Z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(q2(e,i),e===zt&&(Et=zt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Du||(Du=!0,lP(kd,function(){return Ho(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Yr.transition,Yr.transition=null;var o=We;We=1;var s=Le;Le|=4,w0.current=null,nI(e,r),ZE(r,e),k$(hg),Cd=!!fg,hg=fg=null,e.current=r,aI(r),I2(),Le=s,We=o,Yr.transition=i}else e.current=r;if(Du&&(Du=!1,Ia=e,Kd=a),i=e.pendingLanes,i===0&&(qa=null),M2(r.stateNode),wr(e,yt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hd)throw Hd=!1,e=$g,$g=null,e;return Kd&1&&e.tag!==0&&Ho(),i=e.pendingLanes,i&1?e===Ig?Bl++:(Bl=0,Ig=e):Bl=0,Qa(),null}function Ho(){if(Ia!==null){var e=BO(Kd),t=Yr.transition,r=We;try{if(Yr.transition=null,We=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,Kd=0,Le&6)throw Error(Z(331));var a=Le;for(Le|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Ml(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,p=d.return;if(YE(d),d===c){ae=null;break}if(h!==null){h.return=p,ae=h;break}ae=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ml(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ae=y;break e}ae=i.return}}var b=e.current;for(ae=b;ae!==null;){o=ae;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ae=x;else e:for(o=b;ae!==null;){if(s=ae,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:bh(9,s)}}catch(w){pt(s,s.return,w)}if(s===o){ae=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,ae=j;break e}ae=s.return}}if(Le=a,Qa(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(dh,e)}catch{}n=!0}return n}finally{We=r,Yr.transition=t}}return!1}function ow(e,t,r){t=ns(r,t),t=BE(e,t,1),e=za(e,t,1),t=dr(),e!==null&&(tu(e,1,t),wr(e,t))}function pt(e,t,r){if(e.tag===3)ow(e,e,r);else for(;t!==null;){if(t.tag===3){ow(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qa===null||!qa.has(n))){e=ns(r,e),e=FE(t,e,1),t=za(t,e,1),e=dr(),t!==null&&(tu(t,1,e),wr(t,e));break}}t=t.return}}function uI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Yt&r)===r&&($t===4||$t===3&&(Yt&130023424)===Yt&&500>yt()-j0?Li(e,0):_0|=r),wr(e,t)}function oP(e,t){t===0&&(e.mode&1?(t=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):t=1);var r=dr();e=ua(e,t),e!==null&&(tu(e,t,r),wr(e,r))}function dI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),oP(e,r)}function fI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),oP(e,r)}var sP;sP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)vr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vr=!1,Z$(e,t,r);vr=!!(e.flags&131072)}else vr=!1,ct&&t.flags&1048576&&dE(t,Ld,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vd(e,t),e=t.pendingProps;var a=Zo(t,ir.current);Vo(t,r),a=g0(null,t,n,e,a,r);var i=v0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(i=!0,Dd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,d0(t),a.updater=yh,t.stateNode=a,a._reactInternals=t,_g(t,n,e,r),t=Og(null,t,n,!0,i,r)):(t.tag=0,ct&&i&&a0(t),or(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=pI(n),e=ln(n,e),a){case 0:t=Sg(null,t,n,e,r);break e;case 1:t=Yx(null,t,n,e,r);break e;case 11:t=Gx(null,t,n,e,r);break e;case 14:t=Xx(null,t,n,ln(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),Sg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),Yx(e,t,n,a,r);case 3:e:{if(WE(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,a=i.element,vE(e,t),Ud(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ns(Error(Z(423)),t),t=Jx(e,t,n,r,a);break e}else if(n!==a){a=ns(Error(Z(424)),t),t=Jx(e,t,n,r,a);break e}else for(Tr=Ua(t.stateNode.containerInfo.firstChild),$r=t,ct=!0,pn=null,r=mE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(es(),n===a){t=da(e,t,r);break e}or(e,t,n,r)}t=t.child}return t;case 5:return yE(t),e===null&&bg(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,pg(n,a)?o=null:i!==null&&pg(n,i)&&(t.flags|=32),qE(e,t),or(e,t,o,r),t.child;case 6:return e===null&&bg(t),null;case 13:return VE(e,t,r);case 4:return f0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ts(t,null,n,r):or(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),Gx(e,t,n,a,r);case 7:return or(e,t,t.pendingProps,r),t.child;case 8:return or(e,t,t.pendingProps.children,r),t.child;case 12:return or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,tt(Bd,n._currentValue),n._currentValue=o,i!==null)if(bn(i.value,o)){if(i.children===a.children&&!br.current){t=da(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=aa(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xg(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),xg(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}or(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vo(t,r),a=Jr(a),n=n(a),t.flags|=1,or(e,t,n,r),t.child;case 14:return n=t.type,a=ln(n,t.pendingProps),a=ln(n.type,a),Xx(e,t,n,a,r);case 15:return UE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),vd(e,t),t.tag=1,xr(n)?(e=!0,Dd(t)):e=!1,Vo(t,r),LE(t,n,a),_g(t,n,a,r),Og(null,t,n,!0,e,r);case 19:return HE(e,t,r);case 22:return zE(e,t,r)}throw Error(Z(156,t.tag))};function lP(e,t){return RO(e,t)}function hI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,r,n){return new hI(e,t,r,n)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pI(e){if(typeof e=="function")return P0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hy)return 11;if(e===Ky)return 14}return 2}function Va(e,t){var r=e.alternate;return r===null?(r=Gr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xd(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")P0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Oo:return Bi(r.children,a,i,t);case Vy:o=8,a|=8;break;case Hm:return e=Gr(12,r,t,a|2),e.elementType=Hm,e.lanes=i,e;case Km:return e=Gr(13,r,t,a),e.elementType=Km,e.lanes=i,e;case Gm:return e=Gr(19,r,t,a),e.elementType=Gm,e.lanes=i,e;case yO:return wh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gO:o=10;break e;case vO:o=9;break e;case Hy:o=11;break e;case Ky:o=14;break e;case Oa:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Gr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Bi(e,t,r,n){return e=Gr(7,e,n,t),e.lanes=r,e}function wh(e,t,r,n){return e=Gr(22,e,n,t),e.elementType=yO,e.lanes=r,e.stateNode={isHidden:!1},e}function nm(e,t,r){return e=Gr(6,e,null,t),e.lanes=r,e}function am(e,t,r){return t=Gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function A0(e,t,r,n,a,i,o,s,l){return e=new mI(e,t,r,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},d0(i),e}function gI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function cP(e){if(!e)return Xa;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(xr(r))return cE(e,r,t)}return t}function uP(e,t,r,n,a,i,o,s,l){return e=A0(r,n,!0,e,a,i,o,s,l),e.context=cP(null),r=e.current,n=dr(),a=Wa(r),i=aa(n,a),i.callback=t??null,za(r,i,a),e.current.lanes=a,tu(e,a,n),wr(e,n),e}function _h(e,t,r,n){var a=t.current,i=dr(),o=Wa(a);return r=cP(r),t.context===null?t.context=r:t.pendingContext=r,t=aa(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=za(a,t,o),e!==null&&(vn(e,a,o,i),pd(e,a,o)),o}function Xd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function k0(e,t){sw(e,t),(e=e.alternate)&&sw(e,t)}function vI(){return null}var dP=typeof reportError=="function"?reportError:function(e){console.error(e)};function N0(e){this._internalRoot=e}jh.prototype.render=N0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));_h(e,t,null,null)};jh.prototype.unmount=N0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){_h(null,e,null,null)}),t[ca]=null}};function jh(e){this._internalRoot=e}jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=zO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Aa.length&&t!==0&&t<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&WO(e)}};function C0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lw(){}function yI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Xd(o);i.call(c)}}var o=uP(t,n,e,0,null,!1,!1,"",lw);return e._reactRootContainer=o,e[ca]=o.current,ac(e.nodeType===8?e.parentNode:e),Ki(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var c=Xd(l);s.call(c)}}var l=A0(e,0,!1,null,null,!1,!1,"",lw);return e._reactRootContainer=l,e[ca]=l.current,ac(e.nodeType===8?e.parentNode:e),Ki(function(){_h(t,l,r,n)}),l}function Oh(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Xd(o);s.call(l)}}_h(t,o,e,a)}else o=yI(r,t,e,a,n);return Xd(o)}FO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=El(t.pendingLanes);r!==0&&(Yy(t,r|1),wr(t,yt()),!(Le&6)&&(as=yt()+500,Qa()))}break;case 13:Ki(function(){var n=ua(e,1);if(n!==null){var a=dr();vn(n,e,1,a)}}),k0(e,1)}};Jy=function(e){if(e.tag===13){var t=ua(e,134217728);if(t!==null){var r=dr();vn(t,e,134217728,r)}k0(e,134217728)}};UO=function(e){if(e.tag===13){var t=Wa(e),r=ua(e,t);if(r!==null){var n=dr();vn(r,e,t,n)}k0(e,t)}};zO=function(){return We};qO=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};ag=function(e,t,r){switch(t){case"input":if(Jm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=mh(n);if(!a)throw Error(Z(90));xO(n),Jm(n,a)}}}break;case"textarea":_O(e,r);break;case"select":t=r.value,t!=null&&Uo(e,!!r.multiple,t,!1)}};kO=S0;NO=Ki;var bI={usingClientEntryPoint:!1,Events:[nu,ko,mh,PO,AO,S0]},hl={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$O(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||vI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{dh=Mu.inject(xI),$n=Mu}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bI;Mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C0(t))throw Error(Z(200));return gI(e,t,null,r)};Mr.createRoot=function(e,t){if(!C0(e))throw Error(Z(299));var r=!1,n="",a=dP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=A0(e,1,!1,null,null,r,!1,n,a),e[ca]=t.current,ac(e.nodeType===8?e.parentNode:e),new N0(t)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=$O(t),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return Ki(e)};Mr.hydrate=function(e,t,r){if(!Sh(t))throw Error(Z(200));return Oh(null,e,t,!0,r)};Mr.hydrateRoot=function(e,t,r){if(!C0(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=dP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=uP(t,null,e,1,r??null,a,!1,i,o),e[ca]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new jh(t)};Mr.render=function(e,t,r){if(!Sh(t))throw Error(Z(200));return Oh(null,e,t,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Sh(e))throw Error(Z(40));return e._reactRootContainer?(Ki(function(){Oh(null,null,e,!1,function(){e._reactRootContainer=null,e[ca]=null})}),!0):!1};Mr.unstable_batchedUpdates=S0;Mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sh(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Oh(e,t,r,!1,n)};Mr.version="18.3.1-next-f1338f8080-20240426";function fP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fP)}catch(e){console.error(e)}}fP(),fO.exports=Mr;var wI=fO.exports,cw=wI;Wm.createRoot=cw.createRoot,Wm.hydrateRoot=cw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}var Ra;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ra||(Ra={}));const uw="popstate";function _I(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return Mg("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yd(a)}return SI(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jI(){return Math.random().toString(36).substr(2,8)}function dw(e,t){return{usr:e.state,key:e.key,idx:t}}function Mg(e,t,r,n){return r===void 0&&(r=null),hc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bs(t):t,{state:r,key:t&&t.key||n||jI()})}function Yd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function SI(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Ra.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(hc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Ra.Pop;let g=d(),y=g==null?null:g-c;c=g,l&&l({action:s,location:v.location,delta:y})}function h(g,y){s=Ra.Push;let b=Mg(v.location,g,y);c=d()+1;let x=dw(b,c),j=v.createHref(b);try{o.pushState(x,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(j)}i&&l&&l({action:s,location:v.location,delta:1})}function p(g,y){s=Ra.Replace;let b=Mg(v.location,g,y);c=d();let x=dw(b,c),j=v.createHref(b);o.replaceState(x,"",j),i&&l&&l({action:s,location:v.location,delta:0})}function m(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof g=="string"?g:Yd(g);return b=b.replace(/ $/,"%20"),xt(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let v={get action(){return s},get location(){return e(a,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(uw,f),l=g,()=>{a.removeEventListener(uw,f),l=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return o.go(g)}};return v}var fw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fw||(fw={}));function OI(e,t,r){return r===void 0&&(r="/"),EI(e,t,r)}function EI(e,t,r,n){let a=typeof t=="string"?Bs(t):t,i=$0(a.pathname||"/",r);if(i==null)return null;let o=hP(e);PI(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=BI(i);s=DI(o[l],c)}return s}function hP(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ha([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hP(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:II(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of pP(i.path))a(i,o,l)}),t}function pP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=pP(n.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function PI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AI=/^:[\w-]+$/,kI=3,NI=2,CI=1,TI=10,$I=-2,hw=e=>e==="*";function II(e,t){let r=e.split("/"),n=r.length;return r.some(hw)&&(n+=$I),t&&(n+=NI),r.filter(a=>!hw(a)).reduce((a,i)=>a+(AI.test(i)?kI:i===""?CI:TI),n)}function RI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function DI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=MI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ha([i,f.pathname]),pathnameBase:WI(Ha([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ha([i,f.pathnameBase]))}return o}function MI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=LI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=s[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function LI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),T0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function BI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const FI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UI=e=>FI.test(e);function zI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bs(e):e,i;if(r)if(UI(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),T0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=pw(r.substring(1),"/"):i=pw(r,t)}else i=t;return{pathname:i,search:VI(n),hash:HI(a)}}function pw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function im(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I0(e,t){let r=qI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function R0(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Bs(e):(a=hc({},e),xt(!a.pathname||!a.pathname.includes("?"),im("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),im("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),im("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=zI(a,s),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ha=e=>e.join("/").replace(/\/\/+/g,"/"),WI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mP=["post","put","patch","delete"];new Set(mP);const GI=["get",...mP];new Set(GI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}const D0=E.createContext(null),XI=E.createContext(null),Za=E.createContext(null),Eh=E.createContext(null),ei=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gP=E.createContext(null);function YI(e,t){let{relative:r}=t===void 0?{}:t;Fs()||xt(!1);let{basename:n,navigator:a}=E.useContext(Za),{hash:i,pathname:o,search:s}=yP(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ha([n,o])),a.createHref({pathname:l,search:s,hash:i})}function Fs(){return E.useContext(Eh)!=null}function ao(){return Fs()||xt(!1),E.useContext(Eh).location}function vP(e){E.useContext(Za).static||E.useLayoutEffect(e)}function iu(){let{isDataRoute:e}=E.useContext(ei);return e?cR():JI()}function JI(){Fs()||xt(!1);let e=E.useContext(D0),{basename:t,future:r,navigator:n}=E.useContext(Za),{matches:a}=E.useContext(ei),{pathname:i}=ao(),o=JSON.stringify(I0(a,r.v7_relativeSplatPath)),s=E.useRef(!1);return vP(()=>{s.current=!0}),E.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let f=R0(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ha([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function yP(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(Za),{matches:a}=E.useContext(ei),{pathname:i}=ao(),o=JSON.stringify(I0(a,n.v7_relativeSplatPath));return E.useMemo(()=>R0(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function QI(e,t){return ZI(e,t)}function ZI(e,t,r,n){Fs()||xt(!1);let{navigator:a}=E.useContext(Za),{matches:i}=E.useContext(ei),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ao(),d;if(t){var f;let g=typeof t=="string"?Bs(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||xt(!1),d=g}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=OI(e,{pathname:p}),v=aR(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Ha([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ha([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&v?E.createElement(Eh.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ra.Pop}},v):v}function eR(){let e=lR(),t=KI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:a},r):null,null)}const tR=E.createElement(eR,null);class rR extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(ei.Provider,{value:this.props.routeContext},E.createElement(gP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nR(e){let{routeContext:t,match:r,children:n}=e,a=E.useContext(D0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(ei.Provider,{value:t},n)}function aR(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||xt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,v=null,g=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||tR,l&&(c<0&&h===0?(uR("route-fallback"),m=!0,g=null):c===h&&(m=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let x;return p?x=v:m?x=g:f.route.Component?x=E.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,E.createElement(nR,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?E.createElement(rR,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var bP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bP||{}),xP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xP||{});function iR(e){let t=E.useContext(D0);return t||xt(!1),t}function oR(e){let t=E.useContext(XI);return t||xt(!1),t}function sR(e){let t=E.useContext(ei);return t||xt(!1),t}function wP(e){let t=sR(),r=t.matches[t.matches.length-1];return r.route.id||xt(!1),r.route.id}function lR(){var e;let t=E.useContext(gP),r=oR(),n=wP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cR(){let{router:e}=iR(bP.UseNavigateStable),t=wP(xP.UseNavigateStable),r=E.useRef(!1);return vP(()=>{r.current=!0}),E.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,pc({fromRouteId:t},i)))},[e,t])}const mw={};function uR(e,t,r){mw[e]||(mw[e]=!0)}function dR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mc(e){let{to:t,replace:r,state:n,relative:a}=e;Fs()||xt(!1);let{future:i,static:o}=E.useContext(Za),{matches:s}=E.useContext(ei),{pathname:l}=ao(),c=iu(),d=R0(t,I0(s,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return E.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function Dt(e){xt(!1)}function fR(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ra.Pop,navigator:i,static:o=!1,future:s}=e;Fs()&&xt(!1);let l=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:pc({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof n=="string"&&(n=Bs(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,v=E.useMemo(()=>{let g=$0(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:m},navigationType:a}},[l,d,f,h,p,m,a]);return v==null?null:E.createElement(Za.Provider,{value:c},E.createElement(Eh.Provider,{children:r,value:v}))}function hR(e){let{children:t,location:r}=e;return QI(Lg(t),r)}new Promise(()=>{});function Lg(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,a)=>{if(!E.isValidElement(n))return;let i=[...t,a];if(n.type===E.Fragment){r.push.apply(r,Lg(n.props.children,i));return}n.type!==Dt&&xt(!1),!n.props.index||!n.props.children||xt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Lg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function pR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function mR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gR(e,t){return e.button===0&&(!t||t==="_self")&&!mR(e)}function Fg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function vR(e,t){let r=Fg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const yR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bR="6";try{window.__reactRouterVersion=bR}catch{}const xR="startTransition",gw=u2[xR];function wR(e){let{basename:t,children:r,future:n,window:a}=e,i=E.useRef();i.current==null&&(i.current=_I({window:a,v5Compat:!0}));let o=i.current,[s,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=E.useCallback(f=>{c&&gw?gw(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>dR(n),[n]),E.createElement(fR,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const _R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=E.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=pR(t,yR),{basename:p}=E.useContext(Za),m,v=!1;if(typeof c=="string"&&jR.test(c)&&(m=c,_R))try{let x=new URL(window.location.href),j=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=$0(j.pathname,p);j.origin===x.origin&&w!=null?c=w+j.search+j.hash:v=!0}catch{}let g=YI(c,{relative:a}),y=SR(c,{replace:o,state:s,target:l,preventScrollReset:d,relative:a,viewTransition:f});function b(x){n&&n(x),x.defaultPrevented||y(x)}return E.createElement("a",Bg({},h,{href:m||g,onClick:v||i?n:b,ref:r,target:l}))});var vw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var yw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yw||(yw={}));function SR(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:s}=t===void 0?{}:t,l=iu(),c=ao(),d=yP(e,{relative:o});return E.useCallback(f=>{if(gR(f,r)){f.preventDefault();let h=n!==void 0?n:Yd(c)===Yd(d);l(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,d,n,a,r,e,i,o,s])}function M0(e){let t=E.useRef(Fg(e)),r=E.useRef(!1),n=ao(),a=E.useMemo(()=>vR(n.search,r.current?null:t.current),[n.search]),i=iu(),o=E.useCallback((s,l)=>{const c=Fg(typeof s=="function"?s(a):s);r.current=!0,i("?"+c,l)},[i,a]);return[a,o]}function _P(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=_P(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=_P(e))&&(n&&(n+=" "),n+=t);return n}var OR=Array.isArray,_r=OR,ER=typeof kn=="object"&&kn&&kn.Object===Object&&kn,jP=ER,PR=jP,AR=typeof self=="object"&&self&&self.Object===Object&&self,kR=PR||AR||Function("return this")(),zn=kR,NR=zn,CR=NR.Symbol,ou=CR,bw=ou,SP=Object.prototype,TR=SP.hasOwnProperty,$R=SP.toString,pl=bw?bw.toStringTag:void 0;function IR(e){var t=TR.call(e,pl),r=e[pl];try{e[pl]=void 0;var n=!0}catch{}var a=$R.call(e);return n&&(t?e[pl]=r:delete e[pl]),a}var RR=IR,DR=Object.prototype,MR=DR.toString;function LR(e){return MR.call(e)}var BR=LR,xw=ou,FR=RR,UR=BR,zR="[object Null]",qR="[object Undefined]",ww=xw?xw.toStringTag:void 0;function WR(e){return e==null?e===void 0?qR:zR:ww&&ww in Object(e)?FR(e):UR(e)}var ga=WR;function VR(e){return e!=null&&typeof e=="object"}var va=VR,HR=ga,KR=va,GR="[object Symbol]";function XR(e){return typeof e=="symbol"||KR(e)&&HR(e)==GR}var Us=XR,YR=_r,JR=Us,QR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZR=/^\w*$/;function eD(e,t){if(YR(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||JR(e)?!0:ZR.test(e)||!QR.test(e)||t!=null&&e in Object(t)}var L0=eD;function tD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ti=tD;const zs=ze(ti);var rD=ga,nD=ti,aD="[object AsyncFunction]",iD="[object Function]",oD="[object GeneratorFunction]",sD="[object Proxy]";function lD(e){if(!nD(e))return!1;var t=rD(e);return t==iD||t==oD||t==aD||t==sD}var B0=lD;const be=ze(B0);var cD=zn,uD=cD["__core-js_shared__"],dD=uD,om=dD,_w=function(){var e=/[^.]+$/.exec(om&&om.keys&&om.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fD(e){return!!_w&&_w in e}var hD=fD,pD=Function.prototype,mD=pD.toString;function gD(e){if(e!=null){try{return mD.call(e)}catch{}try{return e+""}catch{}}return""}var OP=gD,vD=B0,yD=hD,bD=ti,xD=OP,wD=/[\\^$.*+?()[\]{}|]/g,_D=/^\[object .+?Constructor\]$/,jD=Function.prototype,SD=Object.prototype,OD=jD.toString,ED=SD.hasOwnProperty,PD=RegExp("^"+OD.call(ED).replace(wD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AD(e){if(!bD(e)||yD(e))return!1;var t=vD(e)?PD:_D;return t.test(xD(e))}var kD=AD;function ND(e,t){return e==null?void 0:e[t]}var CD=ND,TD=kD,$D=CD;function ID(e,t){var r=$D(e,t);return TD(r)?r:void 0}var io=ID,RD=io,DD=RD(Object,"create"),Ph=DD,jw=Ph;function MD(){this.__data__=jw?jw(null):{},this.size=0}var LD=MD;function BD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var FD=BD,UD=Ph,zD="__lodash_hash_undefined__",qD=Object.prototype,WD=qD.hasOwnProperty;function VD(e){var t=this.__data__;if(UD){var r=t[e];return r===zD?void 0:r}return WD.call(t,e)?t[e]:void 0}var HD=VD,KD=Ph,GD=Object.prototype,XD=GD.hasOwnProperty;function YD(e){var t=this.__data__;return KD?t[e]!==void 0:XD.call(t,e)}var JD=YD,QD=Ph,ZD="__lodash_hash_undefined__";function eM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=QD&&t===void 0?ZD:t,this}var tM=eM,rM=LD,nM=FD,aM=HD,iM=JD,oM=tM;function qs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qs.prototype.clear=rM;qs.prototype.delete=nM;qs.prototype.get=aM;qs.prototype.has=iM;qs.prototype.set=oM;var sM=qs;function lM(){this.__data__=[],this.size=0}var cM=lM;function uM(e,t){return e===t||e!==e&&t!==t}var F0=uM,dM=F0;function fM(e,t){for(var r=e.length;r--;)if(dM(e[r][0],t))return r;return-1}var Ah=fM,hM=Ah,pM=Array.prototype,mM=pM.splice;function gM(e){var t=this.__data__,r=hM(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():mM.call(t,r,1),--this.size,!0}var vM=gM,yM=Ah;function bM(e){var t=this.__data__,r=yM(t,e);return r<0?void 0:t[r][1]}var xM=bM,wM=Ah;function _M(e){return wM(this.__data__,e)>-1}var jM=_M,SM=Ah;function OM(e,t){var r=this.__data__,n=SM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var EM=OM,PM=cM,AM=vM,kM=xM,NM=jM,CM=EM;function Ws(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ws.prototype.clear=PM;Ws.prototype.delete=AM;Ws.prototype.get=kM;Ws.prototype.has=NM;Ws.prototype.set=CM;var kh=Ws,TM=io,$M=zn,IM=TM($M,"Map"),U0=IM,Sw=sM,RM=kh,DM=U0;function MM(){this.size=0,this.__data__={hash:new Sw,map:new(DM||RM),string:new Sw}}var LM=MM;function BM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var FM=BM,UM=FM;function zM(e,t){var r=e.__data__;return UM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Nh=zM,qM=Nh;function WM(e){var t=qM(this,e).delete(e);return this.size-=t?1:0,t}var VM=WM,HM=Nh;function KM(e){return HM(this,e).get(e)}var GM=KM,XM=Nh;function YM(e){return XM(this,e).has(e)}var JM=YM,QM=Nh;function ZM(e,t){var r=QM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var e3=ZM,t3=LM,r3=VM,n3=GM,a3=JM,i3=e3;function Vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vs.prototype.clear=t3;Vs.prototype.delete=r3;Vs.prototype.get=n3;Vs.prototype.has=a3;Vs.prototype.set=i3;var z0=Vs,EP=z0,o3="Expected a function";function q0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(o3);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(q0.Cache||EP),r}q0.Cache=EP;var PP=q0;const s3=ze(PP);var l3=PP,c3=500;function u3(e){var t=l3(e,function(n){return r.size===c3&&r.clear(),n}),r=t.cache;return t}var d3=u3,f3=d3,h3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p3=/\\(\\)?/g,m3=f3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h3,function(r,n,a,i){t.push(a?i.replace(p3,"$1"):n||r)}),t}),g3=m3;function v3(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var W0=v3,Ow=ou,y3=W0,b3=_r,x3=Us,Ew=Ow?Ow.prototype:void 0,Pw=Ew?Ew.toString:void 0;function AP(e){if(typeof e=="string")return e;if(b3(e))return y3(e,AP)+"";if(x3(e))return Pw?Pw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var w3=AP,_3=w3;function j3(e){return e==null?"":_3(e)}var kP=j3,S3=_r,O3=L0,E3=g3,P3=kP;function A3(e,t){return S3(e)?e:O3(e,t)?[e]:E3(P3(e))}var NP=A3,k3=Us;function N3(e){if(typeof e=="string"||k3(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ch=N3,C3=NP,T3=Ch;function $3(e,t){t=C3(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[T3(t[r++])];return r&&r==n?e:void 0}var V0=$3,I3=V0;function R3(e,t,r){var n=e==null?void 0:I3(e,t);return n===void 0?r:n}var CP=R3;const Ir=ze(CP);function D3(e){return e==null}var M3=D3;const we=ze(M3);var L3=ga,B3=_r,F3=va,U3="[object String]";function z3(e){return typeof e=="string"||!B3(e)&&F3(e)&&L3(e)==U3}var q3=z3;const Gi=ze(q3);var TP={exports:{}},Ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=Symbol.for("react.element"),K0=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Dh=Symbol.for("react.context"),W3=Symbol.for("react.server_context"),Mh=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),Fh=Symbol.for("react.memo"),Uh=Symbol.for("react.lazy"),V3=Symbol.for("react.offscreen"),$P;$P=Symbol.for("react.module.reference");function en(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case H0:switch(e=e.type,e){case Th:case Ih:case $h:case Lh:case Bh:return e;default:switch(e=e&&e.$$typeof,e){case W3:case Dh:case Mh:case Uh:case Fh:case Rh:return e;default:return t}}case K0:return t}}}Ve.ContextConsumer=Dh;Ve.ContextProvider=Rh;Ve.Element=H0;Ve.ForwardRef=Mh;Ve.Fragment=Th;Ve.Lazy=Uh;Ve.Memo=Fh;Ve.Portal=K0;Ve.Profiler=Ih;Ve.StrictMode=$h;Ve.Suspense=Lh;Ve.SuspenseList=Bh;Ve.isAsyncMode=function(){return!1};Ve.isConcurrentMode=function(){return!1};Ve.isContextConsumer=function(e){return en(e)===Dh};Ve.isContextProvider=function(e){return en(e)===Rh};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===H0};Ve.isForwardRef=function(e){return en(e)===Mh};Ve.isFragment=function(e){return en(e)===Th};Ve.isLazy=function(e){return en(e)===Uh};Ve.isMemo=function(e){return en(e)===Fh};Ve.isPortal=function(e){return en(e)===K0};Ve.isProfiler=function(e){return en(e)===Ih};Ve.isStrictMode=function(e){return en(e)===$h};Ve.isSuspense=function(e){return en(e)===Lh};Ve.isSuspenseList=function(e){return en(e)===Bh};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Th||e===Ih||e===$h||e===Lh||e===Bh||e===V3||typeof e=="object"&&e!==null&&(e.$$typeof===Uh||e.$$typeof===Fh||e.$$typeof===Rh||e.$$typeof===Dh||e.$$typeof===Mh||e.$$typeof===$P||e.getModuleId!==void 0)};Ve.typeOf=en;TP.exports=Ve;var H3=TP.exports,K3=ga,G3=va,X3="[object Number]";function Y3(e){return typeof e=="number"||G3(e)&&K3(e)==X3}var IP=Y3;const J3=ze(IP);var Q3=IP;function Z3(e){return Q3(e)&&e!=+e}var eL=Z3;const Hs=ze(eL);var lr=function(t){return t===0?0:t>0?1:-1},Ti=function(t){return Gi(t)&&t.indexOf("%")===t.length-1},Q=function(t){return J3(t)&&!Hs(t)},tL=function(t){return we(t)},It=function(t){return Q(t)||Gi(t)},rL=0,oo=function(t){var r=++rL;return"".concat(t||"").concat(r)},cr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&!Gi(t))return n;var i;if(Ti(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Hs(i)&&(i=n),a&&i>r&&(i=r),i},Na=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nL=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Tt=function(t,r){return Q(t)&&Q(r)?function(n){return t+n*(r-t)}:function(){return r}};function Jd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ir(n,t))===r})}var aL=function(t,r){return Q(t)&&Q(r)?t-r:Gi(t)&&Gi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ko(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}var iL=["viewBox","children"],oL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Aw=["points","pathLength"],sm={svg:iL,polygon:Aw,polyline:Aw},G0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),!zs(n))return null;var a={};return Object.keys(n).forEach(function(i){G0.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},sL=function(t,r,n){return function(a){return t(r,n,a),null}},Xi=function(t,r,n){if(!zs(t)||Ug(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];G0.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=sL(o,r,n))}),a},lL=["children"],cL=["children"];function kw(e,t){if(e==null)return{};var r=uL(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var Nw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ia=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Cw=null,lm=null,X0=function e(t){if(t===Cw&&Array.isArray(lm))return lm;var r=[];return E.Children.forEach(t,function(n){we(n)||(H3.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),lm=r,Cw=t,r};function Rr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ia(a)}):n=[ia(t)],X0(e).forEach(function(a){var i=Ir(a,"type.displayName")||Ir(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function kr(e,t){var r=Rr(e,t);return r&&r[0]}var Tw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Q(n)||n<=0||!Q(a)||a<=0)},dL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fL=function(t){return t&&t.type&&Gi(t.type)&&dL.indexOf(t.type)>=0},RP=function(t){return t&&zg(t)==="object"&&"clipDot"in t},hL=function(t,r,n,a){var i,o=(i=sm==null?void 0:sm[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!be(t)&&(a&&o.includes(r)||oL.includes(r))||n&&G0.includes(r)},he=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(E.isValidElement(t)&&(a=t.props),!zs(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;hL((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},qg=function e(t,r){if(t===r)return!0;var n=E.Children.count(t);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $w(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!$w(i,o))return!1}return!0},$w=function(t,r){if(we(t)&&we(r))return!0;if(!we(t)&&!we(r)){var n=t.props||{},a=n.children,i=kw(n,lL),o=r.props||{},s=o.children,l=kw(o,cL);return a&&s?Ko(i,l)&&qg(a,s):!a&&!s?Ko(i,l):!1}return!1},Iw=function(t,r){var n=[],a={};return X0(t).forEach(function(i,o){if(fL(i))n.push(i);else if(i){var s=ia(i.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!a[s])){var f=c(i,s,o);n.push(f),a[s]=!0}}}),n},pL=function(t){var r=t&&t.type;return r&&Nw[r]?Nw[r]:null},mL=function(t,r){return X0(r).indexOf(t)},gL=["children","width","height","viewBox","className","style","title","desc"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function vL(e,t){if(e==null)return{};var r=yL(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=vL(e,gL),d=a||{width:r,height:n,x:0,y:0},f=je("recharts-surface",i);return N.createElement("svg",Wg({},he(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),N.createElement("title",null,s),N.createElement("desc",null,l),t)}var bL=["children","className"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function xL(e,t){if(e==null)return{};var r=wL(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ne=N.forwardRef(function(e,t){var r=e.children,n=e.className,a=xL(e,bL),i=je("recharts-layer",n);return N.createElement("g",Hg({className:i},he(a,!0),{ref:t}),r)}),yn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function _L(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var jL=_L,SL=jL;function OL(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:SL(e,t,r)}var EL=OL,PL="\\ud800-\\udfff",AL="\\u0300-\\u036f",kL="\\ufe20-\\ufe2f",NL="\\u20d0-\\u20ff",CL=AL+kL+NL,TL="\\ufe0e\\ufe0f",$L="\\u200d",IL=RegExp("["+$L+PL+CL+TL+"]");function RL(e){return IL.test(e)}var DP=RL;function DL(e){return e.split("")}var ML=DL,MP="\\ud800-\\udfff",LL="\\u0300-\\u036f",BL="\\ufe20-\\ufe2f",FL="\\u20d0-\\u20ff",UL=LL+BL+FL,zL="\\ufe0e\\ufe0f",qL="["+MP+"]",Kg="["+UL+"]",Gg="\\ud83c[\\udffb-\\udfff]",WL="(?:"+Kg+"|"+Gg+")",LP="[^"+MP+"]",BP="(?:\\ud83c[\\udde6-\\uddff]){2}",FP="[\\ud800-\\udbff][\\udc00-\\udfff]",VL="\\u200d",UP=WL+"?",zP="["+zL+"]?",HL="(?:"+VL+"(?:"+[LP,BP,FP].join("|")+")"+zP+UP+")*",KL=zP+UP+HL,GL="(?:"+[LP+Kg+"?",Kg,BP,FP,qL].join("|")+")",XL=RegExp(Gg+"(?="+Gg+")|"+GL+KL,"g");function YL(e){return e.match(XL)||[]}var JL=YL,QL=ML,ZL=DP,e4=JL;function t4(e){return ZL(e)?e4(e):QL(e)}var r4=t4,n4=EL,a4=DP,i4=r4,o4=kP;function s4(e){return function(t){t=o4(t);var r=a4(t)?i4(t):void 0,n=r?r[0]:t.charAt(0),a=r?n4(r,1).join(""):t.slice(1);return n[e]()+a}}var l4=s4,c4=l4,u4=c4("toUpperCase"),d4=u4;const zh=ze(d4);function et(e){return function(){return e}}const qP=Math.cos,Zd=Math.sin,wn=Math.sqrt,ef=Math.PI,qh=2*ef,Xg=Math.PI,Yg=2*Xg,xi=1e-6,f4=Yg-xi;function WP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function h4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class p4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WP:h4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=n-t,c=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>xi)if(!(Math.abs(f*l-c*d)>xi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-s,v=l*l+c*c,g=p*p+m*m,y=Math.sqrt(v),b=Math.sqrt(h),x=i*Math.tan((Xg-Math.acos((v+h-g)/(2*y*b)))/2),j=x/b,w=x/y;Math.abs(j-1)>xi&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),l=n*Math.sin(a),c=t+s,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xi||Math.abs(this._y1-d)>xi)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Yg+Yg),h>f4?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>xi&&this._append`A${n},${n},0,${+(h>=Xg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Y0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new p4(t)}function J0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VP(e){this._context=e}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wh(e){return new VP(e)}function HP(e){return e[0]}function KP(e){return e[1]}function GP(e,t){var r=et(!0),n=null,a=Wh,i=null,o=Y0(s);e=typeof e=="function"?e:e===void 0?HP:et(e),t=typeof t=="function"?t:t===void 0?KP:et(t);function s(l){var c,d=(l=J0(l)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:et(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:et(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:et(!!l),s):r},s.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),s):a},s.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),s):n},s}function Lu(e,t,r){var n=null,a=et(!0),i=null,o=Wh,s=null,l=Y0(c);e=typeof e=="function"?e:e===void 0?HP:et(+e),t=typeof t=="function"?t:et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KP:et(+r);function c(f){var h,p,m,v=(f=J0(f)).length,g,y=!1,b,x=new Array(v),j=new Array(v);for(i==null&&(s=o(b=l())),h=0;h<=v;++h){if(!(h<v&&a(g=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(x[m],j[m]);s.lineEnd(),s.areaEnd()}y&&(x[h]=+e(g,h,f),j[h]=+t(g,h,f),s.point(n?+n(g,h,f):x[h],r?+r(g,h,f):j[h]))}if(b)return s=null,b+""||null}function d(){return GP().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:et(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:et(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:et(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:et(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:et(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class XP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function m4(e){return new XP(e,!0)}function g4(e){return new XP(e,!1)}const Q0={draw(e,t){const r=wn(t/ef);e.moveTo(r,0),e.arc(0,0,r,0,qh)}},v4={draw(e,t){const r=wn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YP=wn(1/3),y4=YP*2,b4={draw(e,t){const r=wn(t/y4),n=r*YP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},x4={draw(e,t){const r=wn(t),n=-r/2;e.rect(n,n,r,r)}},w4=.8908130915292852,JP=Zd(ef/10)/Zd(7*ef/10),_4=Zd(qh/10)*JP,j4=-qP(qh/10)*JP,S4={draw(e,t){const r=wn(t*w4),n=_4*r,a=j4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=qh*i/5,s=qP(o),l=Zd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*a,l*n+s*a)}e.closePath()}},cm=wn(3),O4={draw(e,t){const r=-wn(t/(cm*3));e.moveTo(0,r*2),e.lineTo(-cm*r,-r),e.lineTo(cm*r,-r),e.closePath()}},Fr=-.5,Ur=wn(3)/2,Jg=1/wn(12),E4=(Jg/2+1)*3,P4={draw(e,t){const r=wn(t/E4),n=r/2,a=r*Jg,i=n,o=r*Jg+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Fr*n-Ur*a,Ur*n+Fr*a),e.lineTo(Fr*i-Ur*o,Ur*i+Fr*o),e.lineTo(Fr*s-Ur*l,Ur*s+Fr*l),e.lineTo(Fr*n+Ur*a,Fr*a-Ur*n),e.lineTo(Fr*i+Ur*o,Fr*o-Ur*i),e.lineTo(Fr*s+Ur*l,Fr*l-Ur*s),e.closePath()}};function A4(e,t){let r=null,n=Y0(a);e=typeof e=="function"?e:et(e||Q0),t=typeof t=="function"?t:et(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:et(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:et(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function tf(){}function rf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QP(e){this._context=e}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k4(e){return new QP(e)}function ZP(e){this._context=e}ZP.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N4(e){return new ZP(e)}function eA(e){this._context=e}eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C4(e){return new eA(e)}function tA(e){this._context=e}tA.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T4(e){return new tA(e)}function Rw(e){return e<0?-1:1}function Dw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Rw(i)+Rw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Mw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function um(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function nf(e){this._context=e}nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:um(this,this._t0,Mw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,um(this,Mw(this,r=Dw(this,e,t)),r);break;default:um(this,this._t0,r=Dw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rA(e){this._context=new nA(e)}(rA.prototype=Object.create(nf.prototype)).point=function(e,t){nf.prototype.point.call(this,t,e)};function nA(e){this._context=e}nA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $4(e){return new nf(e)}function I4(e){return new rA(e)}function aA(e){this._context=e}aA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Lw(e),a=Lw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Lw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function R4(e){return new aA(e)}function Vh(e,t){this._context=e,this._t=t}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function D4(e){return new Vh(e,.5)}function M4(e){return new Vh(e,0)}function L4(e){return new Vh(e,1)}function is(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function B4(e,t){return e[t]}function F4(e){const t=[];return t.key=e,t}function U4(){var e=et([]),t=Qg,r=is,n=B4;function a(i){var o=Array.from(e.apply(this,arguments),F4),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,i)]).data=f;for(s=0,d=J0(t(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:et(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:et(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qg:typeof i=="function"?i:et(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??is,a):r},a}function z4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}is(e,t)}}function q4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}is(e,t)}}function W4(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var v=e[t[m]],g=v[n][1]||0,y=v[n-1][1]||0;p+=g-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,is(e,t)}}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var V4=["type","size","sizeType"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t,r){return t=K4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4(e){var t=G4(e,"string");return gc(t)=="symbol"?t:t+""}function G4(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e,t){if(e==null)return{};var r=Y4(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iA={symbolCircle:Q0,symbolCross:v4,symbolDiamond:b4,symbolSquare:x4,symbolStar:S4,symbolTriangle:O4,symbolWye:P4},J4=Math.PI/180,Q4=function(t){var r="symbol".concat(zh(t));return iA[r]||Q0},Z4=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*J4;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eB=function(t,r){iA["symbol".concat(zh(t))]=r},Z0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,l=X4(t,V4),c=Fw(Fw({},l),{},{type:n,size:i,sizeType:s}),d=function(){var g=Q4(n),y=A4().type(g).size(Z4(i,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=he(c,!0);return h===+h&&p===+p&&i===+i?N.createElement("path",Zg({},m,{className:je("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Z0.registerSymbol=eB;function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){vc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sA(n.key),n)}}function aB(e,t,r){return t&&nB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iB(e,t,r){return t=af(t),oB(e,oA()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function oB(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sB(e)}function sB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oA=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},af(e)}function lB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tv(e,t)}function tv(e,t){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tv(e,t)}function vc(e,t,r){return t=sA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sA(e){var t=cB(e,"string");return os(t)=="symbol"?t:t+""}function cB(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zr=32,eb=function(e){function t(){return rB(this,t),iB(this,t,arguments)}return lB(t,e),aB(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=zr/2,o=zr/6,s=zr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:zr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(zr,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return N.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zr/8,"h").concat(zr,"v").concat(zr*3/4,"h").concat(-zr,"z"),className:"recharts-legend-icon"});if(N.isValidElement(n.legendIcon)){var c=tB({},n);return delete c.legendIcon,N.cloneElement(n.legendIcon,c)}return N.createElement(Z0,{fill:l,cx:i,cy:i,size:zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,l=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:zr,height:zr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var v=p.formatter||l,g=je(vc(vc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=be(p.value)?null:p.value;yn(!be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return N.createElement("li",ev({className:g,style:f,key:"legend-item-".concat(m)},Xi(n.props,p,m)),N.createElement(Vg,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(E.PureComponent);vc(eb,"displayName","Legend");vc(eb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uB=kh;function dB(){this.__data__=new uB,this.size=0}var fB=dB;function hB(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var pB=hB;function mB(e){return this.__data__.get(e)}var gB=mB;function vB(e){return this.__data__.has(e)}var yB=vB,bB=kh,xB=U0,wB=z0,_B=200;function jB(e,t){var r=this.__data__;if(r instanceof bB){var n=r.__data__;if(!xB||n.length<_B-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wB(n)}return r.set(e,t),this.size=r.size,this}var SB=jB,OB=kh,EB=fB,PB=pB,AB=gB,kB=yB,NB=SB;function Ks(e){var t=this.__data__=new OB(e);this.size=t.size}Ks.prototype.clear=EB;Ks.prototype.delete=PB;Ks.prototype.get=AB;Ks.prototype.has=kB;Ks.prototype.set=NB;var lA=Ks,CB="__lodash_hash_undefined__";function TB(e){return this.__data__.set(e,CB),this}var $B=TB;function IB(e){return this.__data__.has(e)}var RB=IB,DB=z0,MB=$B,LB=RB;function of(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new DB;++t<r;)this.add(e[t])}of.prototype.add=of.prototype.push=MB;of.prototype.has=LB;var cA=of;function BB(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var uA=BB;function FB(e,t){return e.has(t)}var dA=FB,UB=cA,zB=uA,qB=dA,WB=1,VB=2;function HB(e,t,r,n,a,i){var o=r&WB,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=r&VB?new UB:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var m=e[f],v=t[f];if(n)var g=o?n(v,m,f,t,e,i):n(m,v,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!zB(t,function(y,b){if(!qB(p,b)&&(m===y||a(m,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===v||a(m,v,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var fA=HB,KB=zn,GB=KB.Uint8Array,XB=GB;function YB(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var JB=YB;function QB(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tb=QB,zw=ou,qw=XB,ZB=F0,e5=fA,t5=JB,r5=tb,n5=1,a5=2,i5="[object Boolean]",o5="[object Date]",s5="[object Error]",l5="[object Map]",c5="[object Number]",u5="[object RegExp]",d5="[object Set]",f5="[object String]",h5="[object Symbol]",p5="[object ArrayBuffer]",m5="[object DataView]",Ww=zw?zw.prototype:void 0,dm=Ww?Ww.valueOf:void 0;function g5(e,t,r,n,a,i,o){switch(r){case m5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case p5:return!(e.byteLength!=t.byteLength||!i(new qw(e),new qw(t)));case i5:case o5:case c5:return ZB(+e,+t);case s5:return e.name==t.name&&e.message==t.message;case u5:case f5:return e==t+"";case l5:var s=t5;case d5:var l=n&n5;if(s||(s=r5),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=a5,o.set(e,t);var d=e5(s(e),s(t),n,a,i,o);return o.delete(e),d;case h5:if(dm)return dm.call(e)==dm.call(t)}return!1}var v5=g5;function y5(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var hA=y5,b5=hA,x5=_r;function w5(e,t,r){var n=t(e);return x5(e)?n:b5(n,r(e))}var _5=w5;function j5(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var S5=j5;function O5(){return[]}var E5=O5,P5=S5,A5=E5,k5=Object.prototype,N5=k5.propertyIsEnumerable,Vw=Object.getOwnPropertySymbols,C5=Vw?function(e){return e==null?[]:(e=Object(e),P5(Vw(e),function(t){return N5.call(e,t)}))}:A5,T5=C5;function $5(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var I5=$5,R5=ga,D5=va,M5="[object Arguments]";function L5(e){return D5(e)&&R5(e)==M5}var B5=L5,Hw=B5,F5=va,pA=Object.prototype,U5=pA.hasOwnProperty,z5=pA.propertyIsEnumerable,q5=Hw(function(){return arguments}())?Hw:function(e){return F5(e)&&U5.call(e,"callee")&&!z5.call(e,"callee")},rb=q5,sf={exports:{}};function W5(){return!1}var V5=W5;sf.exports;(function(e,t){var r=zn,n=V5,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(sf,sf.exports);var mA=sf.exports,H5=9007199254740991,K5=/^(?:0|[1-9]\d*)$/;function G5(e,t){var r=typeof e;return t=t??H5,!!t&&(r=="number"||r!="symbol"&&K5.test(e))&&e>-1&&e%1==0&&e<t}var nb=G5,X5=9007199254740991;function Y5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=X5}var ab=Y5,J5=ga,Q5=ab,Z5=va,e6="[object Arguments]",t6="[object Array]",r6="[object Boolean]",n6="[object Date]",a6="[object Error]",i6="[object Function]",o6="[object Map]",s6="[object Number]",l6="[object Object]",c6="[object RegExp]",u6="[object Set]",d6="[object String]",f6="[object WeakMap]",h6="[object ArrayBuffer]",p6="[object DataView]",m6="[object Float32Array]",g6="[object Float64Array]",v6="[object Int8Array]",y6="[object Int16Array]",b6="[object Int32Array]",x6="[object Uint8Array]",w6="[object Uint8ClampedArray]",_6="[object Uint16Array]",j6="[object Uint32Array]",it={};it[m6]=it[g6]=it[v6]=it[y6]=it[b6]=it[x6]=it[w6]=it[_6]=it[j6]=!0;it[e6]=it[t6]=it[h6]=it[r6]=it[p6]=it[n6]=it[a6]=it[i6]=it[o6]=it[s6]=it[l6]=it[c6]=it[u6]=it[d6]=it[f6]=!1;function S6(e){return Z5(e)&&Q5(e.length)&&!!it[J5(e)]}var O6=S6;function E6(e){return function(t){return e(t)}}var gA=E6,lf={exports:{}};lf.exports;(function(e,t){var r=jP,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(lf,lf.exports);var P6=lf.exports,A6=O6,k6=gA,Kw=P6,Gw=Kw&&Kw.isTypedArray,N6=Gw?k6(Gw):A6,vA=N6,C6=I5,T6=rb,$6=_r,I6=mA,R6=nb,D6=vA,M6=Object.prototype,L6=M6.hasOwnProperty;function B6(e,t){var r=$6(e),n=!r&&T6(e),a=!r&&!n&&I6(e),i=!r&&!n&&!a&&D6(e),o=r||n||a||i,s=o?C6(e.length,String):[],l=s.length;for(var c in e)(t||L6.call(e,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||R6(c,l)))&&s.push(c);return s}var F6=B6,U6=Object.prototype;function z6(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||U6;return e===r}var q6=z6;function W6(e,t){return function(r){return e(t(r))}}var yA=W6,V6=yA,H6=V6(Object.keys,Object),K6=H6,G6=q6,X6=K6,Y6=Object.prototype,J6=Y6.hasOwnProperty;function Q6(e){if(!G6(e))return X6(e);var t=[];for(var r in Object(e))J6.call(e,r)&&r!="constructor"&&t.push(r);return t}var Z6=Q6,eF=B0,tF=ab;function rF(e){return e!=null&&tF(e.length)&&!eF(e)}var su=rF,nF=F6,aF=Z6,iF=su;function oF(e){return iF(e)?nF(e):aF(e)}var Hh=oF,sF=_5,lF=T5,cF=Hh;function uF(e){return sF(e,cF,lF)}var dF=uF,Xw=dF,fF=1,hF=Object.prototype,pF=hF.hasOwnProperty;function mF(e,t,r,n,a,i){var o=r&fF,s=Xw(e),l=s.length,c=Xw(t),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in t:pF.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var v=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<l;){h=s[f];var y=e[h],b=t[h];if(n)var x=o?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(x===void 0?y===b||a(y,b,r,n,i):x)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(e),i.delete(t),v}var gF=mF,vF=io,yF=zn,bF=vF(yF,"DataView"),xF=bF,wF=io,_F=zn,jF=wF(_F,"Promise"),SF=jF,OF=io,EF=zn,PF=OF(EF,"Set"),bA=PF,AF=io,kF=zn,NF=AF(kF,"WeakMap"),CF=NF,rv=xF,nv=U0,av=SF,iv=bA,ov=CF,xA=ga,Gs=OP,Yw="[object Map]",TF="[object Object]",Jw="[object Promise]",Qw="[object Set]",Zw="[object WeakMap]",e_="[object DataView]",$F=Gs(rv),IF=Gs(nv),RF=Gs(av),DF=Gs(iv),MF=Gs(ov),wi=xA;(rv&&wi(new rv(new ArrayBuffer(1)))!=e_||nv&&wi(new nv)!=Yw||av&&wi(av.resolve())!=Jw||iv&&wi(new iv)!=Qw||ov&&wi(new ov)!=Zw)&&(wi=function(e){var t=xA(e),r=t==TF?e.constructor:void 0,n=r?Gs(r):"";if(n)switch(n){case $F:return e_;case IF:return Yw;case RF:return Jw;case DF:return Qw;case MF:return Zw}return t});var LF=wi,fm=lA,BF=fA,FF=v5,UF=gF,t_=LF,r_=_r,n_=mA,zF=vA,qF=1,a_="[object Arguments]",i_="[object Array]",Bu="[object Object]",WF=Object.prototype,o_=WF.hasOwnProperty;function VF(e,t,r,n,a,i){var o=r_(e),s=r_(t),l=o?i_:t_(e),c=s?i_:t_(t);l=l==a_?Bu:l,c=c==a_?Bu:c;var d=l==Bu,f=c==Bu,h=l==c;if(h&&n_(e)){if(!n_(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new fm),o||zF(e)?BF(e,t,r,n,a,i):FF(e,t,l,r,n,a,i);if(!(r&qF)){var p=d&&o_.call(e,"__wrapped__"),m=f&&o_.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,g=m?t.value():t;return i||(i=new fm),a(v,g,r,n,i)}}return h?(i||(i=new fm),UF(e,t,r,n,a,i)):!1}var HF=VF,KF=HF,s_=va;function wA(e,t,r,n,a){return e===t?!0:e==null||t==null||!s_(e)&&!s_(t)?e!==e&&t!==t:KF(e,t,r,n,wA,a)}var ib=wA,GF=lA,XF=ib,YF=1,JF=2;function QF(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var l=s[0],c=e[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new GF;if(n)var h=n(c,d,l,e,t,f);if(!(h===void 0?XF(d,c,YF|JF,n,f):h))return!1}}return!0}var ZF=QF,eU=ti;function tU(e){return e===e&&!eU(e)}var _A=tU,rU=_A,nU=Hh;function aU(e){for(var t=nU(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,rU(a)]}return t}var iU=aU;function oU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jA=oU,sU=ZF,lU=iU,cU=jA;function uU(e){var t=lU(e);return t.length==1&&t[0][2]?cU(t[0][0],t[0][1]):function(r){return r===e||sU(r,e,t)}}var dU=uU;function fU(e,t){return e!=null&&t in Object(e)}var hU=fU,pU=NP,mU=rb,gU=_r,vU=nb,yU=ab,bU=Ch;function xU(e,t,r){t=pU(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=bU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&yU(a)&&vU(o,a)&&(gU(e)||mU(e)))}var wU=xU,_U=hU,jU=wU;function SU(e,t){return e!=null&&jU(e,t,_U)}var OU=SU,EU=ib,PU=CP,AU=OU,kU=L0,NU=_A,CU=jA,TU=Ch,$U=1,IU=2;function RU(e,t){return kU(e)&&NU(t)?CU(TU(e),t):function(r){var n=PU(r,e);return n===void 0&&n===t?AU(r,e):EU(t,n,$U|IU)}}var DU=RU;function MU(e){return e}var Xs=MU;function LU(e){return function(t){return t==null?void 0:t[e]}}var BU=LU,FU=V0;function UU(e){return function(t){return FU(t,e)}}var zU=UU,qU=BU,WU=zU,VU=L0,HU=Ch;function KU(e){return VU(e)?qU(HU(e)):WU(e)}var GU=KU,XU=dU,YU=DU,JU=Xs,QU=_r,ZU=GU;function ez(e){return typeof e=="function"?e:e==null?JU:typeof e=="object"?QU(e)?YU(e[0],e[1]):XU(e):ZU(e)}var qn=ez;function tz(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var SA=tz;function rz(e){return e!==e}var nz=rz;function az(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var iz=az,oz=SA,sz=nz,lz=iz;function cz(e,t,r){return t===t?lz(e,t,r):oz(e,sz,r)}var uz=cz,dz=uz;function fz(e,t){var r=e==null?0:e.length;return!!r&&dz(e,t,0)>-1}var hz=fz;function pz(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var mz=pz;function gz(){}var vz=gz,hm=bA,yz=vz,bz=tb,xz=1/0,wz=hm&&1/bz(new hm([,-0]))[1]==xz?function(e){return new hm(e)}:yz,_z=wz,jz=cA,Sz=hz,Oz=mz,Ez=dA,Pz=_z,Az=tb,kz=200;function Nz(e,t,r){var n=-1,a=Sz,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=Oz;else if(i>=kz){var c=t?null:Pz(e);if(c)return Az(c);o=!1,a=Ez,l=new jz}else l=t?[]:s;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else a(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var Cz=Nz,Tz=qn,$z=Cz;function Iz(e,t){return e&&e.length?$z(e,Tz(t)):[]}var Rz=Iz;const l_=ze(Rz);function OA(e,t,r){return t===!0?l_(e,r):be(t)?l_(e,t):e}function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}var Dz=["ref"];function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PA(n.key),n)}}function Lz(e,t,r){return t&&u_(e.prototype,t),r&&u_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bz(e,t,r){return t=cf(t),Fz(e,EA()?Reflect.construct(t,r||[],cf(e).constructor):t.apply(e,r))}function Fz(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uz(e)}function Uz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EA=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cf(e)}function zz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sv(e,t)}function sv(e,t){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sv(e,t)}function Kh(e,t,r){return t=PA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PA(e){var t=qz(e,"string");return ss(t)=="symbol"?t:t+""}function qz(e,t){if(ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wz(e,t){if(e==null)return{};var r=Vz(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hz(e){return e.value}function Kz(e,t){if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return N.createElement(e,t);t.ref;var r=Wz(t,Dz);return N.createElement(eb,r)}var d_=1,oa=function(e){function t(){var r;Mz(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Bz(this,t,[].concat(a)),Kh(r,"lastBoundingBox",{width:-1,height:-1}),r}return zz(t,e),Lz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>d_||Math.abs(a.height-this.lastBoundingBox.height)>d_)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,l=a.margin,c=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Gn(Gn({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,f=Gn(Gn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return N.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Kz(i,Gn(Gn({},this.props),{},{payload:OA(d,c,Hz)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Gn(Gn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Q(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(E.PureComponent);Kh(oa,"displayName","Legend");Kh(oa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var f_=ou,Gz=rb,Xz=_r,h_=f_?f_.isConcatSpreadable:void 0;function Yz(e){return Xz(e)||Gz(e)||!!(h_&&e&&e[h_])}var Jz=Yz,Qz=hA,Zz=Jz;function AA(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Zz),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?AA(s,t-1,r,n,a):Qz(a,s):n||(a[a.length]=s)}return a}var kA=AA;function e8(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(r(i[l],l,i)===!1)break}return t}}var t8=e8,r8=t8,n8=r8(),a8=n8,i8=a8,o8=Hh;function s8(e,t){return e&&i8(e,t,o8)}var NA=s8,l8=su;function c8(e,t){return function(r,n){if(r==null)return r;if(!l8(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var u8=c8,d8=NA,f8=u8,h8=f8(d8),ob=h8,p8=ob,m8=su;function g8(e,t){var r=-1,n=m8(e)?Array(e.length):[];return p8(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var CA=g8;function v8(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var y8=v8,p_=Us;function b8(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=p_(e),o=t!==void 0,s=t===null,l=t===t,c=p_(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0}var x8=b8,w8=x8;function _8(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=w8(a[n],i[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var j8=_8,pm=W0,S8=V0,O8=qn,E8=CA,P8=y8,A8=gA,k8=j8,N8=Xs,C8=_r;function T8(e,t,r){t.length?t=pm(t,function(i){return C8(i)?function(o){return S8(o,i.length===1?i[0]:i)}:i}):t=[N8];var n=-1;t=pm(t,A8(O8));var a=E8(e,function(i,o,s){var l=pm(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return P8(a,function(i,o){return k8(i,o,r)})}var $8=T8;function I8(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var R8=I8,D8=R8,m_=Math.max;function M8(e,t,r){return t=m_(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=m_(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),D8(e,this,s)}}var L8=M8;function B8(e){return function(){return e}}var F8=B8,U8=io,z8=function(){try{var e=U8(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TA=z8,q8=F8,g_=TA,W8=Xs,V8=g_?function(e,t){return g_(e,"toString",{configurable:!0,enumerable:!1,value:q8(t),writable:!0})}:W8,H8=V8,K8=800,G8=16,X8=Date.now;function Y8(e){var t=0,r=0;return function(){var n=X8(),a=G8-(n-r);if(r=n,a>0){if(++t>=K8)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var J8=Y8,Q8=H8,Z8=J8,eq=Z8(Q8),tq=eq,rq=Xs,nq=L8,aq=tq;function iq(e,t){return aq(nq(e,t,rq),e+"")}var oq=iq,sq=F0,lq=su,cq=nb,uq=ti;function dq(e,t,r){if(!uq(r))return!1;var n=typeof t;return(n=="number"?lq(r)&&cq(t,r.length):n=="string"&&t in r)?sq(r[t],e):!1}var Gh=dq,fq=kA,hq=$8,pq=oq,v_=Gh,mq=pq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&v_(e,t[0],t[1])?t=[]:r>2&&v_(t[0],t[1],t[2])&&(t=[t[0]]),hq(e,fq(t,1),[])}),gq=mq;const sb=ze(gq);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}function vq(e,t){return wq(e)||xq(e,t)||bq(e,t)||yq()}function yq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bq(e,t){if(e){if(typeof e=="string")return y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y_(e,t)}}function y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function wq(e){if(Array.isArray(e))return e}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Sq(e,"string");return yc(t)=="symbol"?t:t+""}function Sq(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oq(e){return Array.isArray(e)&&It(e[0])&&It(e[1])?e.join(" ~ "):e}var Eq=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(d&&d.length){var L={padding:0,margin:0},U=(h?sb(d,h):d).map(function(C,M){if(C.type==="none")return null;var B=mm({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},s),F=C.formatter||f||Oq,A=C.value,D=C.name,q=A,V=D;if(F&&q!=null&&V!=null){var J=F(A,D,C,M,d);if(Array.isArray(J)){var re=vq(J,2);q=re[0],V=re[1]}else q=J}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:B},It(V)?N.createElement("span",{className:"recharts-tooltip-item-name"},V):null,It(V)?N.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,N.createElement("span",{className:"recharts-tooltip-item-value"},q),N.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:L},U)}return null},j=mm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=mm({margin:0},c),_=!we(v),O=_?v:"",P=je("recharts-default-tooltip",p),k=je("recharts-tooltip-label",m);_&&g&&d!==void 0&&d!==null&&(O=g(v,d));var R=b?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",lv({className:P,style:j},R),N.createElement("p",{className:k,style:w},N.isValidElement(O)?O:"".concat(O)),x())};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Fu(e,t,r){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Aq(e,"string");return bc(t)=="symbol"?t:t+""}function Aq(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ml="recharts-tooltip-wrapper",kq={visibility:"hidden"};function Nq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return je(ml,Fu(Fu(Fu(Fu({},"".concat(ml,"-right"),Q(r)&&t&&Q(t.x)&&r>=t.x),"".concat(ml,"-left"),Q(r)&&t&&Q(t.x)&&r<t.x),"".concat(ml,"-bottom"),Q(n)&&t&&Q(t.y)&&n>=t.y),"".concat(ml,"-top"),Q(n)&&t&&Q(t.y)&&n<t.y))}function x_(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Q(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,v=l[n]+c;return m>v?Math.max(d,l[n]):Math.max(f,l[n])}function Cq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Tq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=x_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=x_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Cq({translateX:d,translateY:f,useTranslate3d:s})):c=kq,{cssProperties:c,cssClasses:Nq({translateX:d,translateY:f,coordinate:r})}}function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IA(n.key),n)}}function Rq(e,t,r){return t&&Iq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dq(e,t,r){return t=uf(t),Mq(e,$A()?Reflect.construct(t,r||[],uf(e).constructor):t.apply(e,r))}function Mq(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lq(e)}function Lq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(e)}function Bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cv(e,t)}function uv(e,t,r){return t=IA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IA(e){var t=Fq(e,"string");return ls(t)=="symbol"?t:t+""}function Fq(e,t){if(ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j_=1,Uq=function(e){function t(){var r;$q(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Dq(this,t,[].concat(a)),uv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return Bq(t,e),Rq(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>j_||Math.abs(n.height-this.state.lastBoundingBox.height)>j_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,v=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,x=Tq({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),j=x.cssClasses,w=x.cssProperties,_=__(__({transition:h&&i?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return N.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(P){n.wrapperNode=P}},c)}}])}(E.PureComponent),zq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ri={isSsr:zq()};function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){lb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function Vq(e,t,r){return t&&Wq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=df(t),Kq(e,RA()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function Kq(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gq(e)}function Gq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RA=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dv(e,t)}function lb(e,t,r){return t=DA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=Yq(e,"string");return cs(t)=="symbol"?t:t+""}function Yq(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jq(e){return e.dataKey}function Qq(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(Eq,t)}var sr=function(e){function t(){return qq(this,t),Hq(this,t,arguments)}return Xq(t,e),Vq(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,l=a.animationEasing,c=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,v=a.payloadUniqBy,g=a.position,y=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=m??[];f&&w.length&&(w=OA(m.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),v,Jq));var _=w.length>0;return N.createElement(Uq,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:p,position:g,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:j},Qq(c,O_(O_({},this.props),{},{payload:w})))}}])}(E.PureComponent);lb(sr,"displayName","Tooltip");lb(sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ri.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zq=zn,e7=function(){return Zq.Date.now()},t7=e7,r7=/\s/;function n7(e){for(var t=e.length;t--&&r7.test(e.charAt(t)););return t}var a7=n7,i7=a7,o7=/^\s+/;function s7(e){return e&&e.slice(0,i7(e)+1).replace(o7,"")}var l7=s7,c7=l7,E_=ti,u7=Us,P_=NaN,d7=/^[-+]0x[0-9a-f]+$/i,f7=/^0b[01]+$/i,h7=/^0o[0-7]+$/i,p7=parseInt;function m7(e){if(typeof e=="number")return e;if(u7(e))return P_;if(E_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=E_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=c7(e);var r=f7.test(e);return r||h7.test(e)?p7(e.slice(2),r?2:8):d7.test(e)?P_:+e}var MA=m7,g7=ti,gm=t7,A_=MA,v7="Expected a function",y7=Math.max,b7=Math.min;function x7(e,t,r){var n,a,i,o,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(v7);t=A_(t)||0,g7(r)&&(d=!!r.leading,f="maxWait"in r,i=f?y7(A_(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(_){var O=n,P=a;return n=a=void 0,c=_,o=e.apply(P,O),o}function m(_){return c=_,s=setTimeout(y,t),d?p(_):o}function v(_){var O=_-l,P=_-c,k=t-O;return f?b7(k,i-P):k}function g(_){var O=_-l,P=_-c;return l===void 0||O>=t||O<0||f&&P>=i}function y(){var _=gm();if(g(_))return b(_);s=setTimeout(y,v(_))}function b(_){return s=void 0,h&&n?p(_):(n=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=a=s=void 0}function j(){return s===void 0?o:b(gm())}function w(){var _=gm(),O=g(_);if(n=arguments,a=this,l=_,O){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),o}return w.cancel=x,w.flush=j,w}var w7=x7,_7=w7,j7=ti,S7="Expected a function";function O7(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(S7);return j7(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_7(e,t,{leading:n,maxWait:t,trailing:a})}var E7=O7;const LA=ze(E7);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){P7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t,r){return t=A7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=k7(e,"string");return xc(t)=="symbol"?t:t+""}function k7(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N7(e,t){return I7(e)||$7(e,t)||T7(e,t)||C7()}function C7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T7(e,t){if(e){if(typeof e=="string")return N_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(e,t)}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function I7(e){if(Array.isArray(e))return e}var us=E.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,d=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,g=e.id,y=e.className,b=e.onResize,x=e.style,j=x===void 0?{}:x,w=E.useRef(null),_=E.useRef();_.current=b,E.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var O=E.useState({containerWidth:a.width,containerHeight:a.height}),P=N7(O,2),k=P[0],R=P[1],$=E.useCallback(function(U,C){R(function(M){var B=Math.round(U),F=Math.round(C);return M.containerWidth===B&&M.containerHeight===F?M:{containerWidth:B,containerHeight:F}})},[]);E.useEffect(function(){var U=function(D){var q,V=D[0].contentRect,J=V.width,re=V.height;$(J,re),(q=_.current)===null||q===void 0||q.call(_,J,re)};v>0&&(U=LA(U,v,{trailing:!0,leading:!1}));var C=new ResizeObserver(U),M=w.current.getBoundingClientRect(),B=M.width,F=M.height;return $(B,F),C.observe(w.current),function(){C.disconnect()}},[$,v]);var L=E.useMemo(function(){var U=k.containerWidth,C=k.containerHeight;if(U<0||C<0)return null;yn(Ti(o)||Ti(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),yn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Ti(o)?U:o,B=Ti(l)?C:l;r&&r>0&&(M?B=M/r:B&&(M=B*r),h&&B>h&&(B=h)),yn(M>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,B,o,l,d,f,r);var F=!Array.isArray(p)&&ia(p.type).endsWith("Chart");return N.Children.map(p,function(A){return N.isValidElement(A)?E.cloneElement(A,Uu({width:M,height:B},F?{style:Uu({height:"100%",width:"100%",maxHeight:B,maxWidth:M},A.props.style)}:{})):A})},[r,p,l,h,f,d,k,o]);return N.createElement("div",{id:g?"".concat(g):void 0,className:je("recharts-responsive-container",y),style:Uu(Uu({},j),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},L)}),Xh=function(t){return null};Xh.displayName="Cell";function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){R7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=M7(e,"string");return wc(t)=="symbol"?t:t+""}function M7(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var po={widthCache:{},cacheCount:0},L7=2e3,B7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T_="recharts_measurement_span";function F7(e){var t=fv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ul=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ri.isSsr)return{width:0,height:0};var n=F7(r),a=JSON.stringify({text:t,copyStyle:n});if(po.widthCache[a])return po.widthCache[a];try{var i=document.getElementById(T_);i||(i=document.createElement("span"),i.setAttribute("id",T_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=fv(fv({},B7),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return po.widthCache[a]=l,++po.cacheCount>L7&&(po.cacheCount=0,po.widthCache={}),l}catch{return{width:0,height:0}}},U7=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function ff(e,t){return V7(e)||W7(e,t)||q7(e,t)||z7()}function z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function V7(e){if(Array.isArray(e))return e}function H7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G7(n.key),n)}}function K7(e,t,r){return t&&I_(e.prototype,t),r&&I_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7(e){var t=X7(e,"string");return _c(t)=="symbol"?t:t+""}function X7(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q7=Object.keys(BA),Do="NaN";function Z7(e,t){return e*BA[t]}var zu=function(){function e(t,r){H7(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Y7.test(r)&&(this.num=NaN,this.unit=""),Q7.includes(r)&&(this.num=Z7(t,r),this.unit="px")}return K7(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=J7.exec(r))!==null&&n!==void 0?n:[],i=ff(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function FA(e){if(e.includes(Do))return Do;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=R_.exec(t))!==null&&r!==void 0?r:[],a=ff(n,4),i=a[1],o=a[2],s=a[3],l=zu.parse(i??""),c=zu.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Do;t=t.replace(R_,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=D_.exec(t))!==null&&f!==void 0?f:[],p=ff(h,4),m=p[1],v=p[2],g=p[3],y=zu.parse(m??""),b=zu.parse(g??""),x=v==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Do;t=t.replace(D_,x.toString())}return t}var M_=/\(([^()]*)\)/;function eW(e){for(var t=e;t.includes("(");){var r=M_.exec(t),n=ff(r,2),a=n[1];t=t.replace(M_,FA(a))}return t}function tW(e){var t=e.replace(/\s+/g,"");return t=eW(t),t=FA(t),t}function rW(e){try{return tW(e)}catch{return Do}}function vm(e){var t=rW(e.slice(5,-1));return t===Do?"":t}var nW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aW=["dx","dy","angle","className","breakAll"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}function L_(e,t){if(e==null)return{};var r=iW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B_(e,t){return cW(e)||lW(e,t)||sW(e,t)||oW()}function oW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(e,t){if(e){if(typeof e=="string")return F_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(e,t)}}function F_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function cW(e){if(Array.isArray(e))return e}var UA=/[ \f\n\r\t\v\u2028\u2029]+/,zA=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];we(r)||(n?i=r.toString().split(""):i=r.toString().split(UA));var o=i.map(function(l){return{word:l,width:Ul(l,a).width}}),s=n?0:Ul("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},uW=function(t,r,n,a,i){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,d=Q(o),f=s,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(B,F){var A=F.word,D=F.width,q=B[B.length-1];if(q&&(a==null||i||q.width+D+n<Number(a)))q.words.push(A),q.width+=D+n;else{var V={words:[A],width:D};B.push(V)}return B},[])},p=h(r),m=function(M){return M.reduce(function(B,F){return B.width>F.width?B:F})};if(!d)return p;for(var v="",g=function(M){var B=f.slice(0,M),F=zA({breakAll:c,style:l,children:B+v}).wordsWithComputedWidth,A=h(F),D=A.length>o||m(A).width>Number(a);return[D,A]},y=0,b=f.length-1,x=0,j;y<=b&&x<=f.length-1;){var w=Math.floor((y+b)/2),_=w-1,O=g(_),P=B_(O,2),k=P[0],R=P[1],$=g(w),L=B_($,1),U=L[0];if(!k&&!U&&(y=w+1),k&&U&&(b=w-1),!k&&U){j=R;break}x++}return j||p},U_=function(t){var r=we(t)?[]:t.toString().split(UA);return[{words:r}]},dW=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!ri.isSsr){var l,c,d=zA({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return U_(a);return uW({breakAll:o,children:a,maxLines:s,style:i},l,c,r,n)}return U_(a)},z_="#808080",Yi=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,g=t.fill,y=g===void 0?z_:g,b=L_(t,nW),x=E.useMemo(function(){return dW({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,w=b.dy,_=b.angle,O=b.className,P=b.breakAll,k=L_(b,aW);if(!It(n)||!It(i))return null;var R=n+(Q(j)?j:0),$=i+(Q(w)?w:0),L;switch(v){case"start":L=vm("calc(".concat(c,")"));break;case"middle":L=vm("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:L=vm("calc(".concat(x.length-1," * -").concat(s,")"));break}var U=[];if(f){var C=x[0].width,M=b.width;U.push("scale(".concat((Q(M)?M/C:1)/C,")"))}return _&&U.push("rotate(".concat(_,", ").concat(R,", ").concat($,")")),U.length&&(k.transform=U.join(" ")),N.createElement("text",hv({},he(k,!0),{x:R,y:$,className:je("recharts-text",O),textAnchor:p,fill:y.includes("url")?z_:y}),x.map(function(B,F){var A=B.words.join(P?"":" ");return N.createElement("tspan",{x:R,dy:F===0?L:s,key:"".concat(A,"-").concat(F)},A)}))};function Ka(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cb(e){let t,r,n;e.length!==2?(t=Ka,r=(s,l)=>Ka(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ka||e===fW?e:hW,r=e,n=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function hW(){return 0}function qA(e){return e===null?NaN:+e}function*pW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mW=cb(Ka),lu=mW.right;cb(qA).center;class q_ extends Map{constructor(t,r=yW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(W_(this,t))}has(t){return super.has(W_(this,t))}set(t,r){return super.set(gW(this,t),r)}delete(t){return super.delete(vW(this,t))}}function W_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bW(e=Ka){if(e===Ka)return WA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xW=Math.sqrt(50),wW=Math.sqrt(10),_W=Math.sqrt(2);function hf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=xW?10:i>=wW?5:i>=_W?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?hf(e,t,r*2):[s,l,c]}function pv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?hf(t,e,r):hf(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function mv(e,t,r){return t=+t,e=+e,r=+r,hf(e,t,r)[2]}function gv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?mv(t,e,r):mv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function V_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function H_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function VA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?WA:bW(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));VA(e,t,p,m,a)}const i=e[t];let o=r,s=n;for(gl(e,r,t),a(e[n],i)>0&&gl(e,r,n);o<s;){for(gl(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?gl(e,r,s):(++s,gl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jW(e,t,r){if(e=Float64Array.from(pW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return H_(e);if(t>=1)return V_(e);var n,a=(n-1)*t,i=Math.floor(a),o=V_(VA(e,i).subarray(0,i+1)),s=H_(e.subarray(i+1));return o+(s-o)*(a-i)}}function SW(e,t,r=qA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function OW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vv=Symbol("implicit");function ub(){var e=new q_,t=[],r=[],n=vv;function a(i){let o=e.get(i);if(o===void 0){if(n!==vv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new q_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ub(t,r).unknown(n)},tn.apply(a,arguments),a}function jc(){var e=ub().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;i=(v-m)/Math.max(1,h-l+c*2),s&&(i=Math.floor(i)),m+=(v-m-i*(h-l))*d,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var g=OW(h).map(function(y){return m+i*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return jc(t(),[n,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},tn.apply(f(),arguments)}function HA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HA(t())},e}function zl(){return HA(jc.apply(null,arguments).paddingInner(1))}function db(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cu(){}var Sc=.7,pf=1/Sc,Go="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EW=/^#([0-9a-f]{3,8})$/,PW=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),AW=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),kW=new RegExp(`^rgba\\(${Go},${Go},${Go},${Oc}\\)$`),NW=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${Oc}\\)$`),CW=new RegExp(`^hsl\\(${Oc},${Rn},${Rn}\\)$`),TW=new RegExp(`^hsla\\(${Oc},${Rn},${Rn},${Oc}\\)$`),K_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};db(cu,Ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:G_,formatHex:G_,formatHex8:$W,formatHsl:IW,formatRgb:X_,toString:X_});function G_(){return this.rgb().formatHex()}function $W(){return this.rgb().formatHex8()}function IW(){return GA(this).formatHsl()}function X_(){return this.rgb().formatRgb()}function Ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Y_(t):r===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PW.exec(e))?new yr(t[1],t[2],t[3],1):(t=AW.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kW.exec(e))?qu(t[1],t[2],t[3],t[4]):(t=NW.exec(e))?qu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CW.exec(e))?Z_(t[1],t[2]/100,t[3]/100,1):(t=TW.exec(e))?Z_(t[1],t[2]/100,t[3]/100,t[4]):K_.hasOwnProperty(e)?Y_(K_[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function Y_(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function qu(e,t,r,n){return n<=0&&(e=t=r=NaN),new yr(e,t,r,n)}function RW(e){return e instanceof cu||(e=Ec(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function yv(e,t,r,n){return arguments.length===1?RW(e):new yr(e,t,r,n??1)}function yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}db(yr,yv,KA(cu,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Fi(this.r),Fi(this.g),Fi(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J_,formatHex:J_,formatHex8:DW,formatRgb:Q_,toString:Q_}));function J_(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function DW(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q_(){const e=mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${e===1?")":`, ${e})`}`}function mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $i(e){return e=Fi(e),(e<16?"0":"")+e.toString(16)}function Z_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function GA(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof cu||(e=Ec(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new mn(o,s,l,e.opacity)}function MW(e,t,r,n){return arguments.length===1?GA(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}db(mn,MW,KA(cu,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sc:Math.pow(Sc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new yr(ym(e>=240?e-240:e+120,a,n),ym(e,a,n),ym(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new mn(e1(this.h),Wu(this.s),Wu(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mf(this.opacity);return`${e===1?"hsl(":"hsla("}${e1(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e1(e){return e=(e||0)%360,e<0?e+360:e}function Wu(e){return Math.max(0,Math.min(1,e||0))}function ym(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fb=e=>()=>e;function LW(e,t){return function(r){return e+r*t}}function BW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FW(e){return(e=+e)==1?XA:function(t,r){return r-t?BW(t,r,e):fb(isNaN(t)?r:t)}}function XA(e,t){var r=t-e;return r?LW(e,r):fb(isNaN(e)?t:e)}const t1=function e(t){var r=FW(t);function n(a,i){var o=r((a=yv(a)).r,(i=yv(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),c=XA(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function UW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function zW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ys(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function WW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function VW(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ys(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var bv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bm=new RegExp(bv.source,"g");function HW(e){return function(){return e}}function KW(e){return function(t){return e(t)+""}}function GW(e,t){var r=bv.lastIndex=bm.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=bv.exec(e))&&(a=bm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:gf(n,a)})),r=bm.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?KW(l[0].x):HW(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Ys(e,t){var r=typeof t,n;return t==null||r==="boolean"?fb(t):(r==="number"?gf:r==="string"?(n=Ec(t))?(t=n,t1):GW:t instanceof Ec?t1:t instanceof Date?WW:zW(t)?UW:Array.isArray(t)?qW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VW:gf)(e,t)}function hb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function XW(e,t){t===void 0&&(t=e,e=Ys);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function YW(e){return function(){return e}}function vf(e){return+e}var r1=[0,1];function ur(e){return e}function xv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:YW(isNaN(t)?NaN:.5)}function JW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QW(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=xv(a,n),i=r(o,i)):(n=xv(n,a),i=r(i,o)),function(s){return i(n(s))}}function ZW(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=xv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var l=lu(e,s,1,n)-1;return i[l](a[l](s))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yh(){var e=r1,t=r1,r=Ys,n,a,i,o=ur,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==ur&&(o=JW(e[0],e[h-1])),s=h>2?ZW:QW,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((c||(c=s(t,e.map(n),gf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=hb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ur,d()):o!==ur},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function pb(){return Yh()(ur,ur)}function eV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ds(e){return e=yf(Math.abs(e)),e?e[1]:NaN}function tV(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(r.substring(a-=s,a+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function rV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pc(e){if(!(t=nV.exec(e)))throw new Error("invalid format: "+e);var t;return new mb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pc.prototype=mb.prototype;function mb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aV(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var YA;function iV(e,t){var r=yf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(YA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+yf(e,Math.max(0,t+i-1))[0]}function n1(e,t){var r=yf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const a1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>n1(e*100,t),r:n1,s:iV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function i1(e){return e}var o1=Array.prototype.map,s1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oV(e){var t=e.grouping===void 0||e.thousands===void 0?i1:tV(o1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?i1:rV(o1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Pc(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,y=f.width,b=f.comma,x=f.precision,j=f.trim,w=f.type;w==="n"?(b=!0,w="g"):a1[w]||(x===void 0&&(x=12),j=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=v==="$"?n:/[%p]/.test(w)?o:"",P=a1[w],k=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function R($){var L=_,U=O,C,M,B;if(w==="c")U=P($)+U,$="";else{$=+$;var F=$<0||1/$<0;if($=isNaN($)?l:P(Math.abs($),x),j&&($=aV($)),F&&+$==0&&m!=="+"&&(F=!1),L=(F?m==="("?m:s:m==="-"||m==="("?"":m)+L,U=(w==="s"?s1[8+YA/3]:"")+U+(F&&m==="("?")":""),k){for(C=-1,M=$.length;++C<M;)if(B=$.charCodeAt(C),48>B||B>57){U=(B===46?a+$.slice(C+1):$.slice(C))+U,$=$.slice(0,C);break}}}b&&!g&&($=t($,1/0));var A=L.length+$.length+U.length,D=A<y?new Array(y-A+1).join(h):"";switch(b&&g&&($=t(D+$,D.length?y-U.length:1/0),D=""),p){case"<":$=L+$+U+D;break;case"=":$=L+D+$+U;break;case"^":$=D.slice(0,A=D.length>>1)+L+$+U+D.slice(A);break;default:$=D+L+$+U;break}return i($)}return R.toString=function(){return f+""},R}function d(f,h){var p=c((f=Pc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ds(h)/3)))*3,v=Math.pow(10,-m),g=s1[8+m/3];return function(y){return p(v*y)+g}}return{format:c,formatPrefix:d}}var Vu,gb,JA;sV({thousands:",",grouping:[3],currency:["$",""]});function sV(e){return Vu=oV(e),gb=Vu.format,JA=Vu.formatPrefix,Vu}function lV(e){return Math.max(0,-ds(Math.abs(e)))}function cV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ds(t)/3)))*3-ds(Math.abs(e)))}function uV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ds(t)-ds(e))+1}function QA(e,t,r,n){var a=gv(e,t,r),i;switch(n=Pc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=cV(a,o))&&(n.precision=i),JA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=uV(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=lV(a))&&(n.precision=i-(n.type==="%")*2);break}}return gb(n)}function ni(e){var t=e.domain;return e.ticks=function(r){var n=t();return pv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return QA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=mv(o,s,r),c===l)return n[a]=o,n[i]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function bf(){var e=pb();return e.copy=function(){return uu(e,bf())},tn.apply(e,arguments),ni(e)}function ZA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZA(e).unknown(t)},e=arguments.length?Array.from(e,vf):[0,1],ni(r)}function ek(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function l1(e){return Math.log(e)}function c1(e){return Math.exp(e)}function dV(e){return-Math.log(-e)}function fV(e){return-Math.exp(-e)}function hV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pV(e){return e===10?hV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u1(e){return(t,r)=>-e(-t,r)}function vb(e){const t=e(l1,c1),r=t.domain;let n=10,a,i;function o(){return a=mV(n),i=pV(n),r()[0]<0?(a=u1(a),i=u1(i),e(dV,fV)):e(l1,c1),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),m,v;const g=s==null?10:+s;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/i(-h):m*i(h),!(v<c)){if(v>d)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/i(-h):m*i(h),!(v<c)){if(v>d)break;y.push(v)}y.length*2<g&&(y=pv(c,d,g))}else y=pv(h,p,Math.min(p-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Pc(l)).precision==null&&(l.trim=!0),l=gb(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(ek(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function tk(){const e=vb(Yh()).domain([1,10]);return e.copy=()=>uu(e,tk()).base(e.base()),tn.apply(e,arguments),e}function d1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yb(e){var t=1,r=e(d1(t),f1(t));return r.constant=function(n){return arguments.length?e(d1(t=+n),f1(t)):t},ni(r)}function rk(){var e=yb(Yh());return e.copy=function(){return uu(e,rk()).constant(e.constant())},tn.apply(e,arguments)}function h1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vV(e){return e<0?-e*e:e*e}function bb(e){var t=e(ur,ur),r=1;function n(){return r===1?e(ur,ur):r===.5?e(gV,vV):e(h1(r),h1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ni(t)}function xb(){var e=bb(Yh());return e.copy=function(){return uu(e,xb()).exponent(e.exponent())},tn.apply(e,arguments),e}function yV(){return xb.apply(null,arguments).exponent(.5)}function p1(e){return Math.sign(e)*e*e}function bV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nk(){var e=pb(),t=[0,1],r=!1,n;function a(i){var o=bV(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(p1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,vf)).map(p1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return nk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},tn.apply(a,arguments),ni(a)}function ak(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=SW(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[lu(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ka),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ak().domain(e).range(t).unknown(n)},tn.apply(i,arguments)}function ik(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[lu(n,l,0,r)]:i}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ik().domain([e,t]).range(a).unknown(i)},tn.apply(ni(o),arguments)}function ok(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[lu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ok().domain(e).range(t).unknown(r)},tn.apply(a,arguments)}const xm=new Date,wm=new Date;function Rt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Rt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(xm.setTime(+i),wm.setTime(+o),e(xm),e(wm),Math.floor(r(xm,wm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xf=Rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xf);xf.range;const ea=1e3,Xr=ea*60,ta=Xr*60,fa=ta*24,wb=fa*7,m1=fa*30,_m=fa*365,Ii=Rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCSeconds());Ii.range;const _b=Rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getMinutes());_b.range;const jb=Rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xr)},(e,t)=>(t-e)/Xr,e=>e.getUTCMinutes());jb.range;const Sb=Rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea-e.getMinutes()*Xr)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getHours());Sb.range;const Ob=Rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCHours());Ob.range;const du=Rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xr)/fa,e=>e.getDate()-1);du.range;const Jh=Rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>e.getUTCDate()-1);Jh.range;const sk=Rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fa,e=>Math.floor(e/fa));sk.range;function so(e){return Rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xr)/wb)}const Qh=so(0),wf=so(1),xV=so(2),wV=so(3),fs=so(4),_V=so(5),jV=so(6);Qh.range;wf.range;xV.range;wV.range;fs.range;_V.range;jV.range;function lo(e){return Rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wb)}const Zh=lo(0),_f=lo(1),SV=lo(2),OV=lo(3),hs=lo(4),EV=lo(5),PV=lo(6);Zh.range;_f.range;SV.range;OV.range;hs.range;EV.range;PV.range;const Eb=Rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Eb.range;const Pb=Rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pb.range;const ha=Rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ha.range;const pa=Rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});pa.range;function lk(e,t,r,n,a,i){const o=[[Ii,1,ea],[Ii,5,5*ea],[Ii,15,15*ea],[Ii,30,30*ea],[i,1,Xr],[i,5,5*Xr],[i,15,15*Xr],[i,30,30*Xr],[a,1,ta],[a,3,3*ta],[a,6,6*ta],[a,12,12*ta],[n,1,fa],[n,2,2*fa],[r,1,wb],[t,1,m1],[t,3,3*m1],[e,1,_m]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=cb(([,,g])=>g).right(o,h);if(p===o.length)return e.every(gv(c/_m,d/_m,f));if(p===0)return xf.every(Math.max(gv(c,d,f),1));const[m,v]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(v)}return[s,l]}const[AV,kV]=lk(pa,Pb,Zh,sk,Ob,jb),[NV,CV]=lk(ha,Eb,Qh,du,Sb,_b);function jm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TV(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=yl(a),d=bl(a),f=yl(i),h=bl(i),p=yl(o),m=bl(o),v=yl(s),g=bl(s),y=yl(l),b=bl(l),x={a:F,A,b:D,B:q,c:null,d:w1,e:w1,f:tH,g:dH,G:hH,H:QV,I:ZV,j:eH,L:ck,m:rH,M:nH,p:V,q:J,Q:S1,s:O1,S:aH,u:iH,U:oH,V:sH,w:lH,W:cH,x:null,X:null,y:uH,Y:fH,Z:pH,"%":j1},j={a:re,A:pe,b:le,B:xe,c:null,d:_1,e:_1,f:yH,g:AH,G:NH,H:mH,I:gH,j:vH,L:dk,m:bH,M:xH,p:He,q:Ke,Q:S1,s:O1,S:wH,u:_H,U:jH,V:SH,w:OH,W:EH,x:null,X:null,y:PH,Y:kH,Z:CH,"%":j1},w={a:R,A:$,b:L,B:U,c:C,d:b1,e:b1,f:GV,g:y1,G:v1,H:x1,I:x1,j:WV,L:KV,m:qV,M:VV,p:k,q:zV,Q:YV,s:JV,S:HV,u:MV,U:LV,V:BV,w:DV,W:FV,x:M,X:B,y:y1,Y:v1,Z:UV,"%":XV};x.x=_(r,x),x.X=_(n,x),x.c=_(t,x),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(ee,te){return function(ne){var G=[],Se=-1,T=0,X=ee.length,de,ce,Re;for(ne instanceof Date||(ne=new Date(+ne));++Se<X;)ee.charCodeAt(Se)===37&&(G.push(ee.slice(T,Se)),(ce=g1[de=ee.charAt(++Se)])!=null?de=ee.charAt(++Se):ce=de==="e"?" ":"0",(Re=te[de])&&(de=Re(ne,ce)),G.push(de),T=Se+1);return G.push(ee.slice(T,Se)),G.join("")}}function O(ee,te){return function(ne){var G=vl(1900,void 0,1),Se=P(G,ee,ne+="",0),T,X;if(Se!=ne.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(te&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(T=Sm(vl(G.y,0,1)),X=T.getUTCDay(),T=X>4||X===0?_f.ceil(T):_f(T),T=Jh.offset(T,(G.V-1)*7),G.y=T.getUTCFullYear(),G.m=T.getUTCMonth(),G.d=T.getUTCDate()+(G.w+6)%7):(T=jm(vl(G.y,0,1)),X=T.getDay(),T=X>4||X===0?wf.ceil(T):wf(T),T=du.offset(T,(G.V-1)*7),G.y=T.getFullYear(),G.m=T.getMonth(),G.d=T.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),X="Z"in G?Sm(vl(G.y,0,1)).getUTCDay():jm(vl(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(X+5)%7:G.w+G.U*7-(X+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Sm(G)):jm(G)}}function P(ee,te,ne,G){for(var Se=0,T=te.length,X=ne.length,de,ce;Se<T;){if(G>=X)return-1;if(de=te.charCodeAt(Se++),de===37){if(de=te.charAt(Se++),ce=w[de in g1?te.charAt(Se++):de],!ce||(G=ce(ee,ne,G))<0)return-1}else if(de!=ne.charCodeAt(G++))return-1}return G}function k(ee,te,ne){var G=c.exec(te.slice(ne));return G?(ee.p=d.get(G[0].toLowerCase()),ne+G[0].length):-1}function R(ee,te,ne){var G=p.exec(te.slice(ne));return G?(ee.w=m.get(G[0].toLowerCase()),ne+G[0].length):-1}function $(ee,te,ne){var G=f.exec(te.slice(ne));return G?(ee.w=h.get(G[0].toLowerCase()),ne+G[0].length):-1}function L(ee,te,ne){var G=y.exec(te.slice(ne));return G?(ee.m=b.get(G[0].toLowerCase()),ne+G[0].length):-1}function U(ee,te,ne){var G=v.exec(te.slice(ne));return G?(ee.m=g.get(G[0].toLowerCase()),ne+G[0].length):-1}function C(ee,te,ne){return P(ee,t,te,ne)}function M(ee,te,ne){return P(ee,r,te,ne)}function B(ee,te,ne){return P(ee,n,te,ne)}function F(ee){return o[ee.getDay()]}function A(ee){return i[ee.getDay()]}function D(ee){return l[ee.getMonth()]}function q(ee){return s[ee.getMonth()]}function V(ee){return a[+(ee.getHours()>=12)]}function J(ee){return 1+~~(ee.getMonth()/3)}function re(ee){return o[ee.getUTCDay()]}function pe(ee){return i[ee.getUTCDay()]}function le(ee){return l[ee.getUTCMonth()]}function xe(ee){return s[ee.getUTCMonth()]}function He(ee){return a[+(ee.getUTCHours()>=12)]}function Ke(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var te=_(ee+="",x);return te.toString=function(){return ee},te},parse:function(ee){var te=O(ee+="",!1);return te.toString=function(){return ee},te},utcFormat:function(ee){var te=_(ee+="",j);return te.toString=function(){return ee},te},utcParse:function(ee){var te=O(ee+="",!0);return te.toString=function(){return ee},te}}}var g1={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,$V=/^%/,IV=/[\\^$*+?|[\]().{}]/g;function Fe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function RV(e){return e.replace(IV,"\\$&")}function yl(e){return new RegExp("^(?:"+e.map(RV).join("|")+")","i")}function bl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DV(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function MV(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function LV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function BV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function v1(e,t,r){var n=qt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function y1(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zV(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b1(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WV(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function x1(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HV(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KV(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GV(e,t,r){var n=qt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function XV(e,t,r){var n=$V.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function YV(e,t,r){var n=qt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function JV(e,t,r){var n=qt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function w1(e,t){return Fe(e.getDate(),t,2)}function QV(e,t){return Fe(e.getHours(),t,2)}function ZV(e,t){return Fe(e.getHours()%12||12,t,2)}function eH(e,t){return Fe(1+du.count(ha(e),e),t,3)}function ck(e,t){return Fe(e.getMilliseconds(),t,3)}function tH(e,t){return ck(e,t)+"000"}function rH(e,t){return Fe(e.getMonth()+1,t,2)}function nH(e,t){return Fe(e.getMinutes(),t,2)}function aH(e,t){return Fe(e.getSeconds(),t,2)}function iH(e){var t=e.getDay();return t===0?7:t}function oH(e,t){return Fe(Qh.count(ha(e)-1,e),t,2)}function uk(e){var t=e.getDay();return t>=4||t===0?fs(e):fs.ceil(e)}function sH(e,t){return e=uk(e),Fe(fs.count(ha(e),e)+(ha(e).getDay()===4),t,2)}function lH(e){return e.getDay()}function cH(e,t){return Fe(wf.count(ha(e)-1,e),t,2)}function uH(e,t){return Fe(e.getFullYear()%100,t,2)}function dH(e,t){return e=uk(e),Fe(e.getFullYear()%100,t,2)}function fH(e,t){return Fe(e.getFullYear()%1e4,t,4)}function hH(e,t){var r=e.getDay();return e=r>=4||r===0?fs(e):fs.ceil(e),Fe(e.getFullYear()%1e4,t,4)}function pH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fe(t/60|0,"0",2)+Fe(t%60,"0",2)}function _1(e,t){return Fe(e.getUTCDate(),t,2)}function mH(e,t){return Fe(e.getUTCHours(),t,2)}function gH(e,t){return Fe(e.getUTCHours()%12||12,t,2)}function vH(e,t){return Fe(1+Jh.count(pa(e),e),t,3)}function dk(e,t){return Fe(e.getUTCMilliseconds(),t,3)}function yH(e,t){return dk(e,t)+"000"}function bH(e,t){return Fe(e.getUTCMonth()+1,t,2)}function xH(e,t){return Fe(e.getUTCMinutes(),t,2)}function wH(e,t){return Fe(e.getUTCSeconds(),t,2)}function _H(e){var t=e.getUTCDay();return t===0?7:t}function jH(e,t){return Fe(Zh.count(pa(e)-1,e),t,2)}function fk(e){var t=e.getUTCDay();return t>=4||t===0?hs(e):hs.ceil(e)}function SH(e,t){return e=fk(e),Fe(hs.count(pa(e),e)+(pa(e).getUTCDay()===4),t,2)}function OH(e){return e.getUTCDay()}function EH(e,t){return Fe(_f.count(pa(e)-1,e),t,2)}function PH(e,t){return Fe(e.getUTCFullYear()%100,t,2)}function AH(e,t){return e=fk(e),Fe(e.getUTCFullYear()%100,t,2)}function kH(e,t){return Fe(e.getUTCFullYear()%1e4,t,4)}function NH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hs(e):hs.ceil(e),Fe(e.getUTCFullYear()%1e4,t,4)}function CH(){return"+0000"}function j1(){return"%"}function S1(e){return+e}function O1(e){return Math.floor(+e/1e3)}var mo,hk,pk;TH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TH(e){return mo=TV(e),hk=mo.format,mo.parse,pk=mo.utcFormat,mo.utcParse,mo}function $H(e){return new Date(e)}function IH(e){return e instanceof Date?+e:+new Date(+e)}function Ab(e,t,r,n,a,i,o,s,l,c){var d=pb(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),j=c("%Y");function w(_){return(l(_)<_?p:s(_)<_?m:o(_)<_?v:i(_)<_?g:n(_)<_?a(_)<_?y:b:r(_)<_?x:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,IH)):h().map($H)},d.ticks=function(_){var O=h();return e(O[0],O[O.length-1],_??10)},d.tickFormat=function(_,O){return O==null?w:c(O)},d.nice=function(_){var O=h();return(!_||typeof _.range!="function")&&(_=t(O[0],O[O.length-1],_??10)),_?h(ek(O,_)):d},d.copy=function(){return uu(d,Ab(e,t,r,n,a,i,o,s,l,c))},d}function RH(){return tn.apply(Ab(NV,CV,ha,Eb,Qh,du,Sb,_b,Ii,hk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DH(){return tn.apply(Ab(AV,kV,pa,Pb,Zh,Jh,Ob,jb,Ii,pk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ep(){var e=0,t=1,r,n,a,i,o=ur,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=d(Ys),c.rangeRound=d(hb),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function ai(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mk(){var e=ni(ep()(ur));return e.copy=function(){return ai(e,mk())},ya.apply(e,arguments)}function gk(){var e=vb(ep()).domain([1,10]);return e.copy=function(){return ai(e,gk()).base(e.base())},ya.apply(e,arguments)}function vk(){var e=yb(ep());return e.copy=function(){return ai(e,vk()).constant(e.constant())},ya.apply(e,arguments)}function kb(){var e=bb(ep());return e.copy=function(){return ai(e,kb()).exponent(e.exponent())},ya.apply(e,arguments)}function MH(){return kb.apply(null,arguments).exponent(.5)}function yk(){var e=[],t=ur;function r(n){if(n!=null&&!isNaN(n=+n))return t((lu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ka),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jW(e,i/n))},r.copy=function(){return yk(t).domain(e)},ya.apply(r,arguments)}function tp(){var e=0,t=.5,r=1,n=1,a,i,o,s,l,c=ur,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?s:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var y,b,x;return arguments.length?([y,b,x]=g,c=XW(v,[y,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ys),p.rangeRound=m(hb),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),i=v(t),o=v(r),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function bk(){var e=ni(tp()(ur));return e.copy=function(){return ai(e,bk())},ya.apply(e,arguments)}function xk(){var e=vb(tp()).domain([.1,1,10]);return e.copy=function(){return ai(e,xk()).base(e.base())},ya.apply(e,arguments)}function wk(){var e=yb(tp());return e.copy=function(){return ai(e,wk()).constant(e.constant())},ya.apply(e,arguments)}function Nb(){var e=bb(tp());return e.copy=function(){return ai(e,Nb()).exponent(e.exponent())},ya.apply(e,arguments)}function LH(){return Nb.apply(null,arguments).exponent(.5)}const E1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jc,scaleDiverging:bk,scaleDivergingLog:xk,scaleDivergingPow:Nb,scaleDivergingSqrt:LH,scaleDivergingSymlog:wk,scaleIdentity:ZA,scaleImplicit:vv,scaleLinear:bf,scaleLog:tk,scaleOrdinal:ub,scalePoint:zl,scalePow:xb,scaleQuantile:ak,scaleQuantize:ik,scaleRadial:nk,scaleSequential:mk,scaleSequentialLog:gk,scaleSequentialPow:kb,scaleSequentialQuantile:yk,scaleSequentialSqrt:MH,scaleSequentialSymlog:vk,scaleSqrt:yV,scaleSymlog:rk,scaleThreshold:ok,scaleTime:RH,scaleUtc:DH,tickFormat:QA},Symbol.toStringTag,{value:"Module"}));var BH=Us;function FH(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!BH(o):r(o,s)))var s=o,l=i}return l}var rp=FH;function UH(e,t){return e>t}var _k=UH,zH=rp,qH=_k,WH=Xs;function VH(e){return e&&e.length?zH(e,WH,qH):void 0}var HH=VH;const Da=ze(HH);function KH(e,t){return e<t}var jk=KH,GH=rp,XH=jk,YH=Xs;function JH(e){return e&&e.length?GH(e,YH,XH):void 0}var QH=JH;const np=ze(QH);var ZH=W0,eK=qn,tK=CA,rK=_r;function nK(e,t){var r=rK(e)?ZH:tK;return r(e,eK(t))}var aK=nK,iK=kA,oK=aK;function sK(e,t){return iK(oK(e,t),1)}var lK=sK;const cK=ze(lK);var uK=ib;function dK(e,t){return uK(e,t)}var fK=dK;const Ji=ze(fK);var Js=1e9,hK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tb,ut=!0,Zr="[DecimalError] ",Ui=Zr+"Invalid argument: ",Cb=Zr+"Exponent out of range: ",Qs=Math.floor,_i=Math.pow,pK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Lt=1e7,ot=7,Sk=9007199254740991,jf=Qs(Sk/ot),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return sa(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return Ye(sa(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return Pt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(ut=!1,t=sa(Ac(r,i),Ac(e,i),i),ut=!0,Ye(t,a))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pk(t,e):Ok(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Zr+"NaN");return r.s?(ut=!1,t=sa(r,e,0,1).times(e),ut=!0,r.minus(t)):Ye(new n(r),a)};ie.naturalExponential=ie.exp=function(){return Ek(this)};ie.naturalLogarithm=ie.ln=function(){return Ac(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ok(t,e):Pk(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ui+e);if(t=Pt(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zr+"NaN")}for(e=Pt(s),ut=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Cn(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Qs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(sa(s,i,o+2)).times(.5),Cn(i.d).slice(0,o)===(t=Cn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ye(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ut=!0,Ye(n,r)};ie.times=ie.mul=function(e){var t,r,n,a,i,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,o=l,l=c,c=o),i=[],o=l+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%Lt|0,t=s/Lt|0;i[a]=(i[a]+t)%Lt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ut?Ye(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ln(e,0,Js),t===void 0?t=n.rounding:Ln(t,0,8),Ye(r,e+Pt(r)+1,t))};ie.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qi(n,!0):(Ln(e,0,Js),t===void 0?t=a.rounding:Ln(t,0,8),n=Ye(new a(n),e+1,t),r=Qi(n,!0,e+1)),r};ie.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qi(a):(Ln(e,0,Js),t===void 0?t=i.rounding:Ln(t,0,8),n=Ye(new i(a),e+Pt(a)+1,t),r=Qi(n.abs(),!1,e+Pt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Ye(new t(e),Pt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Nr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Zr+"Infinity");return s}if(s.eq(Nr))return s;if(n=l.precision,e.eq(Nr))return Ye(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=Sk){for(a=new l(Nr),t=Math.ceil(n/ot+4),ut=!1;r%2&&(a=a.times(s),A1(a.d,t)),r=Qs(r/2),r!==0;)s=s.times(s),A1(s.d,t);return ut=!0,e.s<0?new l(Nr).div(a):Ye(a,n)}}else if(i<0)throw Error(Zr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ut=!1,a=e.times(Ac(s,n+c)),ut=!0,a=Ek(a),a.s=i,a};ie.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pt(a),n=Qi(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ln(e,1,Js),t===void 0?t=i.rounding:Ln(t,0,8),a=Ye(new i(a),e,t),r=Pt(a),n=Qi(a,e<=r||r<=i.toExpNeg,e)),n};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ln(e,1,Js),t===void 0?t=n.rounding:Ln(t,0,8)),Ye(new n(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),r=e.constructor;return Qi(e,t<=r.toExpNeg||t>=r.toExpPos)};function Ok(e,t){var r,n,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ut?Ye(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),o=Math.ceil(f/ot),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Lt|0,l[i]%=Lt;for(r&&(l.unshift(r),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ut?Ye(t,f):t}function Ln(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ui+e)}function Cn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(i+=Pa(r)),i+=n;o=e[t],n=o+"",r=ot-n.length,r&&(i+=Pa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var sa=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%Lt|0,o=i/Lt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=a[s]){l=n[s]>a[s]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Lt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,l,c,d,f,h,p,m,v,g,y,b,x,j,w,_,O,P,k=n.constructor,R=n.s==a.s?1:-1,$=n.d,L=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Zr+"Division by zero");for(l=n.e-a.e,O=L.length,w=$.length,p=new k(R),m=p.d=[],c=0;L[c]==($[c]||0);)++c;if(L[c]>($[c]||0)&&--l,i==null?b=i=k.precision:o?b=i+(Pt(n)-Pt(a))+1:b=i,b<0)return new k(0);if(b=b/ot+2|0,c=0,O==1)for(d=0,L=L[0],b++;(c<w||d)&&b--;c++)x=d*Lt+($[c]||0),m[c]=x/L|0,d=x%L|0;else{for(d=Lt/(L[0]+1)|0,d>1&&(L=e(L,d),$=e($,d),O=L.length,w=$.length),j=O,v=$.slice(0,O),g=v.length;g<O;)v[g++]=0;P=L.slice(),P.unshift(0),_=L[0],L[1]>=Lt/2&&++_;do d=0,s=t(L,v,O,g),s<0?(y=v[0],O!=g&&(y=y*Lt+(v[1]||0)),d=y/_|0,d>1?(d>=Lt&&(d=Lt-1),f=e(L,d),h=f.length,g=v.length,s=t(f,v,h,g),s==1&&(d--,r(f,O<h?P:L,h))):(d==0&&(s=d=1),f=L.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),s==-1&&(g=v.length,s=t(L,v,O,g),s<1&&(d++,r(v,O<g?P:L,g))),g=v.length):s===0&&(d++,v=[0]),m[c++]=d,s&&v[0]?v[g++]=$[j]||0:(v=[$[j]],g=1);while((j++<w||v[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Ye(p,o?i+Pt(p)+1:i)}}();function Ek(e,t){var r,n,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Pt(e)>16)throw Error(Cb+Pt(e));if(!e.s)return new d(Nr);for(ut=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(_i(2,c))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Nr),d.precision=s;;){if(a=Ye(a.times(e),s),r=r.times(++l),o=i.plus(sa(a,r,s)),Cn(o.d).slice(0,s)===Cn(i.d).slice(0,s)){for(;c--;)i=Ye(i.times(i),s);return d.precision=f,t==null?(ut=!0,Ye(i,f)):i}i=o}}function Pt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function Om(e,t,r){if(t>e.LN10.sd())throw ut=!0,r&&(e.precision=r),Error(Zr+"LN10 precision limit exceeded");return Ye(new e(e.LN10),t)}function Pa(e){for(var t="";e--;)t+="0";return t}function Ac(e,t){var r,n,a,i,o,s,l,c,d,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(Zr+(p.s?"NaN":"-Infinity"));if(p.eq(Nr))return new v(0);if(t==null?(ut=!1,c=g):c=t,p.eq(10))return t==null&&(ut=!0),Om(v,c);if(c+=h,v.precision=c,r=Cn(m),n=r.charAt(0),i=Pt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Cn(p.d),n=r.charAt(0),f++;i=Pt(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return l=Om(v,c+2,g).times(i+""),p=Ac(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=g,t==null?(ut=!0,Ye(p,g)):p;for(s=o=p=sa(p.minus(Nr),p.plus(Nr),c),d=Ye(p.times(p),c),a=3;;){if(o=Ye(o.times(d),c),l=s.plus(sa(o,new v(a),c)),Cn(l.d).slice(0,c)===Cn(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(Om(v,c+2,g).times(i+""))),s=sa(s,new v(f),c),v.precision=g,t==null?(ut=!0,Ye(s,g)):s;s=l,a+=2}}function P1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Qs(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ut&&(e.e>jf||e.e<-jf))throw Error(Cb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ye(e,t,r){var n,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ot,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/ot),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(i=_i(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?a>0?c/_i(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Pt(e),f.length=1,t=t-i-1,f[0]=_i(10,(ot-t%ot)%ot),e.e=Qs(-t/ot)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=_i(10,ot-n),f[d]=a>0?(c/_i(10,o-a)%_i(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Lt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Lt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ut&&(e.e>jf||e.e<-jf))throw Error(Cb+Pt(e));return e}function Pk(e,t){var r,n,a,i,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ut?Ye(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),a=Math.max(Math.ceil(p/ot),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Lt-1;--l[i],l[a]+=Lt}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ut?Ye(t,p):t):new h(0)}function Qi(e,t,r){var n,a=Pt(e),i=Cn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Pa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Pa(-a-1)+i,r&&(n=r-o)>0&&(i+=Pa(n))):a>=o?(i+=Pa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Pa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Pa(n))),e.s<0?"-"+i:i}function A1(e,t){if(e.length>t)return e.length=t,!0}function Ak(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ui+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return P1(o,i.toString())}else if(typeof i!="string")throw Error(Ui+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pK.test(i))P1(o,i);else throw Error(Ui+i)}if(a.prototype=ie,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Ak,a.config=a.set=mK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function mK(e){if(!e||typeof e!="object")throw Error(Zr+"Object expected");var t,r,n,a=["precision",1,Js,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Qs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ui+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ui+r+": "+n);return this}var Tb=Ak(hK);Nr=new Tb(1);const Xe=Tb;function gK(e){return xK(e)||bK(e)||yK(e)||vK()}function vK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(e,t){if(e){if(typeof e=="string")return wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wv(e,t)}}function bK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xK(e){if(Array.isArray(e))return wv(e)}function wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wK=function(t){return t},kk={},Nk=function(t){return t===kk},k1=function(t){return function r(){return arguments.length===0||arguments.length===1&&Nk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_K=function e(t,r){return t===1?r:k1(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==kk}).length;return o>=t?r.apply(void 0,a):e(t-o,k1(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=a.map(function(f){return Nk(f)?l.shift():f});return r.apply(void 0,gK(d).concat(l))}))})},ap=function(t){return _K(t.length,t)},_v=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},jK=ap(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),SK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return wK;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,l){return l(s)},i.apply(void 0,arguments))}},jv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Ck=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,l){return s===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function OK(e){var t;return e===0?t=1:t=Math.floor(new Xe(e).abs().log(10).toNumber())+1,t}function EK(e,t,r){for(var n=new Xe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var PK=ap(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),AK=ap(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kK=ap(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ip={rangeStep:EK,getDigitCount:OK,interpolateNumber:PK,uninterpolateNumber:AK,uninterpolateTruncation:kK};function Sv(e){return TK(e)||CK(e)||Tk(e)||NK()}function NK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TK(e){if(Array.isArray(e))return Ov(e)}function kc(e,t){return RK(e)||IK(e,t)||Tk(e,t)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tk(e,t){if(e){if(typeof e=="string")return Ov(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ov(e,t)}}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function RK(e){if(Array.isArray(e))return e}function $k(e){var t=kc(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Ik(e,t,r){if(e.lte(0))return new Xe(0);var n=ip.getDigitCount(e.toNumber()),a=new Xe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Xe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=s.mul(a);return t?l:new Xe(Math.ceil(l))}function DK(e,t,r){var n=1,a=new Xe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Xe(10).pow(ip.getDigitCount(e)-1),a=new Xe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xe(Math.floor(e)))}else e===0?a=new Xe(Math.floor((t-1)/2)):r||(a=new Xe(Math.floor(e)));var o=Math.floor((t-1)/2),s=SK(jK(function(l){return a.add(new Xe(l-o).mul(n)).toNumber()}),_v);return s(0,t)}function Rk(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var i=Ik(new Xe(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Xe(0):(o=new Xe(e).add(t).div(2),o=o.sub(new Xe(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Xe(t).sub(o).div(i).toNumber()),c=s+l+1;return c>r?Rk(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:o.sub(new Xe(s).mul(i)),tickMax:o.add(new Xe(l).mul(i))})}function MK(e){var t=kc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=$k([r,n]),l=kc(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(Sv(_v(0,a-1).map(function(){return 1/0}))):[].concat(Sv(_v(0,a-1).map(function(){return-1/0})),[d]);return r>n?jv(f):f}if(c===d)return DK(c,a,i);var h=Rk(c,d,o,i),p=h.step,m=h.tickMin,v=h.tickMax,g=ip.rangeStep(m,v.add(new Xe(.1).mul(p)),p);return r>n?jv(g):g}function LK(e,t){var r=kc(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$k([n,a]),s=kc(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=Ik(new Xe(c).sub(l).div(d-1),i,0),h=[].concat(Sv(ip.rangeStep(new Xe(l),new Xe(c).sub(new Xe(.99).mul(f)),f)),[c]);return n>a?jv(h):h}var BK=Ck(MK),FK=Ck(LK),UK="Invariant failed";function Zi(e,t){throw new Error(UK)}var zK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function qK(e,t){return KK(e)||HK(e,t)||VK(e,t)||WK()}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function KK(e){if(Array.isArray(e))return e}function GK(e,t){if(e==null)return{};var r=XK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function QK(e,t,r){return t&&JK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZK(e,t,r){return t=Of(t),e9(e,Dk()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function e9(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9(e)}function t9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dk=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function r9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ev(e,t)}function Mk(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=n9(e,"string");return ps(t)=="symbol"?t:t+""}function n9(e,t){if(ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fu=function(e){function t(){return YK(this,t),ZK(this,t,arguments)}return r9(t,e),QK(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=GK(n,zK),p=he(h,!1);this.props.direction==="x"&&d.type!=="number"&&Zi();var m=l.map(function(v){var g=c(v,s),y=g.x,b=g.y,x=g.value,j=g.errorVal;if(!j)return null;var w=[],_,O;if(Array.isArray(j)){var P=qK(j,2);_=P[0],O=P[1]}else _=O=j;if(i==="vertical"){var k=d.scale,R=b+a,$=R+o,L=R-o,U=k(x-_),C=k(x+O);w.push({x1:C,y1:$,x2:C,y2:L}),w.push({x1:U,y1:R,x2:C,y2:R}),w.push({x1:U,y1:$,x2:U,y2:L})}else if(i==="horizontal"){var M=f.scale,B=y+a,F=B-o,A=B+o,D=M(x-_),q=M(x+O);w.push({x1:F,y1:q,x2:A,y2:q}),w.push({x1:B,y1:D,x2:B,y2:q}),w.push({x1:F,y1:D,x2:A,y2:D})}return N.createElement(Ne,Sf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),w.map(function(V){return N.createElement("line",Sf({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return N.createElement(Ne,{className:"recharts-errorBars"},m)}}])}(N.Component);Mk(fu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Mk(fu,"displayName","ErrorBar");function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=o9(e,"string");return Nc(t)=="symbol"?t:t+""}function o9(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bk=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=kr(r,oa);if(!o)return null;var s=oa.defaultProps,l=s!==void 0?hi(hi({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:i==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?hi(hi({},h),f.props):{},m=p.dataKey,v=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||g||"square",color:$b(f),value:v||m,payload:p}}),hi(hi(hi({},l),oa.getWithHeight(o,a)),{},{payload:c,item:o})};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function T1(e){return u9(e)||c9(e)||l9(e)||s9()}function s9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9(e,t){if(e){if(typeof e=="string")return Pv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pv(e,t)}}function c9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u9(e){if(Array.isArray(e))return Pv(e)}function Pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){Xo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xo(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=f9(e,"string");return Cc(t)=="symbol"?t:t+""}function f9(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return we(e)||we(t)?r:It(t)?Ir(e,t,r):be(t)?t(e):r}function ql(e,t,r,n){var a=cK(e,function(s){return bt(s,t)});if(r==="number"){var i=a.filter(function(s){return Q(s)||parseFloat(s)});return i.length?[np(i),Da(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!we(s)}):a;return o.map(function(s){return It(s)||s instanceof Date?s:""})}var h9=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<s;c++){var d=c>0?a[c-1].coordinate:a[s-1].coordinate,f=a[c].coordinate,h=c>=s-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(lr(f-d)!==lr(h-f)){var m=[];if(lr(h-f)===lr(l[1]-l[0])){p=h;var v=f+l[1]-l[0];m[0]=Math.min(v,(v+d)/2),m[1]=Math.max(v,(v+d)/2)}else{p=d;var g=h+l[1]-l[0];m[0]=Math.min(f,(g+f)/2),m[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){o=a[c].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(t>(b+f)/2&&t<=(x+f)/2){o=a[c].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},$b=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},p9=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var d=i[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],v=m.items,g=m.cateAxisId,y=v.filter(function(O){return ia(O.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?mt(mt({},b),y[0].props):y[0].props,j=x.barSize,w=x[g];o[w]||(o[w]=[]);var _=we(j)?r:j;o[w].push({item:y[0],stackList:y.slice(1),barSize:we(_)?void 0:cr(_,n,0)})}}return o},m9=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=cr(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/l,m=o.reduce(function(j,w){return j+w.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var v=(a-m)/2>>0,g={offset:v-c,size:0};d=o.reduce(function(j,w){var _={item:w.item,position:{offset:g.offset+g.size+c,size:h?p:w.barSize}},O=[].concat(T1(j),[_]);return g=O[O.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:g})}),O},f)}else{var y=cr(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;d=o.reduce(function(j,w,_){var O=[].concat(T1(j),[{item:w.item,position:{offset:y+(b+c)*_+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){O.push({item:P,position:O[O.length-1].position})}),O},f)}return d},g9=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=Bk({children:i,legendWidth:l});if(c){var d=a||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&Q(t[p]))return mt(mt({},t),{},Xo({},p,t[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&Q(t[m]))return mt(mt({},t),{},Xo({},m,t[m]+(h||0)))}return t},v9=function(t,r,n){return we(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Fk=function(t,r,n,a,i){var o=r.props.children,s=Rr(o,fu).filter(function(c){return v9(a,i,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var f=bt(d,n);if(we(f))return c;var h=Array.isArray(f)?[np(f),Da(f)]:[f,f],p=l.reduce(function(m,v){var g=bt(d,v,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},y9=function(t,r,n,a,i){var o=r.map(function(s){return Fk(t,s,n,i,a)}).filter(function(s){return!we(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Uk=function(t,r,n,a,i){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Fk(t,l,c,a)||ql(t,c,n,i)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},zk=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},qk=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,s=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||s.push(r),o||s.push(n),s},ra=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?lr(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return d.filter(function(f){return!Hs(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},Em=new WeakMap,Hu=function(t,r){if(typeof r!="function")return t;Em.has(t)||Em.set(t,new WeakMap);var n=Em.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Wk=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:jc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:bf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:zl(),realScaleType:"point"}:i==="category"?{scale:jc(),realScaleType:"band"}:{scale:bf(),realScaleType:"linear"};if(Gi(a)){var l="scale".concat(zh(a));return{scale:(E1[l]||zl)(),realScaleType:E1[l]?l:"point"}}return be(a)?{scale:a}:{scale:zl(),realScaleType:"point"}},I1=1e-4,Vk=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-I1,o=Math.max(a[0],a[1])+I1,s=t(r[0]),l=t(r[n-1]);(s<i||s>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},b9=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},x9=function(t,r){if(!r||r.length!==2||!Q(r[0])||!Q(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Q(t[0])||t[0]<n)&&(i[0]=n),(!Q(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},w9=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var l=Hs(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},_9=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=Hs(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},j9={sign:w9,expand:z4,none:is,silhouette:q4,wiggle:W4,positive:_9},S9=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=j9[n],o=U4().keys(a).value(function(s,l){return+bt(s,l,0)}).order(Qg).offset(i);return o(t)},O9=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mt(mt({},h.type.defaultProps),h.props):h.props,v=m.stackId,g=m.hide;if(g)return f;var y=m[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(It(v)){var x=b.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[v]=x}else b.stackGroups[oo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return mt(mt({},f),{},Xo({},y,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,g){var y=p.stackGroups[g];return mt(mt({},v),{},Xo({},g,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:S9(t,y.items,i)}))},m)}return mt(mt({},f),{},Xo({},h,p))},d)},Hk=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=BK(c,i,s);return t.domain([np(d),Da(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=FK(f,i,s);return{niceTicks:h}}return null};function Ef(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!we(a[t.dataKey])){var s=Jd(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=bt(a,we(o)?t.dataKey:o);return we(l)?null:t.scale(l)}var R1=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var l=bt(o,r.dataKey,r.domain[s]);return we(l)?null:r.scale(l)-i/2+a},E9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},P9=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(It(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},A9=function(t){return t.reduce(function(r,n){return[np(n.concat([r[0]]).filter(Q)),Da(n.concat([r[1]]).filter(Q))]},[1/0,-1/0])},Kk=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,l=s.reduce(function(c,d){var f=A9(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},D1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Av=function(t,r,n){if(be(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Q(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(D1.test(t[0])){var i=+D1.exec(t[0])[1];a[0]=r[0]-i}else be(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Q(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(M1.test(t[1])){var o=+M1.exec(t[1])[1];a[1]=r[1]+o}else be(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Pf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=sb(r,function(f){return f.coordinate}),o=1/0,s=1,l=i.length;s<l;s++){var c=i[s],d=i[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},L1=function(t,r,n){return!t||!t.length||Ji(t,Ir(n,"type.defaultProps.domain"))?r:t},Gk=function(t,r){var n=t.type.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return mt(mt({},he(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:$b(t),value:bt(r,a),type:l,payload:r,chartType:c,hide:d})};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){Xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xk(e,t,r){return t=k9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=N9(e,"string");return Tc(t)=="symbol"?t:t+""}function N9(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e,t){return R9(e)||I9(e,t)||$9(e,t)||T9()}function T9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9(e,t){if(e){if(typeof e=="string")return F1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(e,t)}}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function R9(e){if(Array.isArray(e))return e}var Af=Math.PI/180,D9=function(t){return t*180/Math.PI},rt=function(t,r,n,a){return{x:t+Math.cos(-Af*a)*n,y:r+Math.sin(-Af*a)*n}},Yk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M9=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,d=cr(t.cx,o,o/2),f=cr(t.cy,s,s/2),h=Yk(o,s,n),p=cr(t.innerRadius,h,0),m=cr(t.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(g,y){var b=r[y],x=b.domain,j=b.reversed,w;if(we(b.range))a==="angleAxis"?w=[l,c]:a==="radiusAxis"&&(w=[p,m]),j&&(w=[w[1],w[0]]);else{w=b.range;var _=w,O=C9(_,2);l=O[0],c=O[1]}var P=Wk(b,i),k=P.realScaleType,R=P.scale;R.domain(x).range(w),Vk(R);var $=Hk(R,Yn(Yn({},b),{},{realScaleType:k})),L=Yn(Yn(Yn({},b),$),{},{range:w,radius:m,realScaleType:k,scale:R,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Yn(Yn({},g),{},Xk({},y,L))},{})},L9=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},B9=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=L9({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var l=(n-i)/s,c=Math.acos(l);return a>o&&(c=2*Math.PI-c),{radius:s,angle:D9(c),angleInRadian:c}},F9=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},U9=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},U1=function(t,r){var n=t.x,a=t.y,i=B9({x:n,y:a},r),o=i.radius,s=i.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=F9(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Yn(Yn({},r),{},{radius:o,angle:U9(p,r)}):null},Jk=function(t){return!E.isValidElement(t)&&!be(t)&&typeof t!="boolean"?t.className:""};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var z9=["offset"];function q9(e){return K9(e)||H9(e)||V9(e)||W9()}function W9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9(e,t){if(e){if(typeof e=="string")return kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kv(e,t)}}function H9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K9(e){if(Array.isArray(e))return kv(e)}function kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G9(e,t){if(e==null)return{};var r=X9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){Y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y9(e,t,r){return t=J9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=Q9(e,"string");return $c(t)=="symbol"?t:t+""}function Q9(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}var Z9=function(t){var r=t.value,n=t.formatter,a=we(t.children)?r:t.children;return be(n)?n(a):a},eG=function(t,r){var n=lr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tG=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,l=i,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,v=l.clockWise,g=(f+h)/2,y=eG(p,m),b=y>=0?1:-1,x,j;a==="insideStart"?(x=p+b*o,j=v):a==="insideEnd"?(x=m-b*o,j=!v):a==="end"&&(x=m+b*o,j=v),j=y<=0?j:!j;var w=rt(c,d,g,x),_=rt(c,d,g,x+(j?1:-1)*359),O="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),P=we(t.id)?oo("recharts-radial-line-"):t.id;return N.createElement("text",Ic({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:P,d:O})),N.createElement("textPath",{xlinkHref:"#".concat(P)},r))},rG=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,l=i.innerRadius,c=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=rt(o,s,c+n,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=rt(o,s,g,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},nG=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",v=c>=0?1:-1,g=v*a,y=v>0?"end":"start",b=v>0?"start":"end";if(i==="top"){var x={x:s+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Nt(Nt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var j={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Nt(Nt({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(i==="left"){var w={x:s-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Nt(Nt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:s+c+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Nt(Nt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var O=n?{width:c,height:d}:{};return i==="insideLeft"?Nt({x:s+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},O):i==="insideRight"?Nt({x:s+c-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},O):i==="insideTop"?Nt({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},O):i==="insideBottom"?Nt({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},O):i==="insideTopLeft"?Nt({x:s+g,y:l+h,textAnchor:b,verticalAnchor:m},O):i==="insideTopRight"?Nt({x:s+c-g,y:l+h,textAnchor:y,verticalAnchor:m},O):i==="insideBottomLeft"?Nt({x:s+g,y:l+d-h,textAnchor:b,verticalAnchor:p},O):i==="insideBottomRight"?Nt({x:s+c-g,y:l+d-h,textAnchor:y,verticalAnchor:p},O):zs(i)&&(Q(i.x)||Ti(i.x))&&(Q(i.y)||Ti(i.y))?Nt({x:s+cr(i.x,c),y:l+cr(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Nt({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},aG=function(t){return"cx"in t&&Q(t.cx)};function Ft(e){var t=e.offset,r=t===void 0?5:t,n=G9(e,z9),a=Nt({offset:r},n),i=a.viewBox,o=a.position,s=a.value,l=a.children,c=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||we(s)&&we(l)&&!E.isValidElement(c)&&!be(c))return null;if(E.isValidElement(c))return E.cloneElement(c,a);var p;if(be(c)){if(p=E.createElement(c,a),E.isValidElement(p))return p}else p=Z9(a);var m=aG(i),v=he(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tG(a,p,v);var g=m?rG(a):nG(a);return N.createElement(Yi,Ic({className:je("recharts-label",f)},v,g,{breakAll:h}),p)}Ft.displayName="Label";var Qk=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,v=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Q(v)&&Q(g)){if(Q(f)&&Q(h))return{x:f,y:h,width:v,height:g};if(Q(p)&&Q(m))return{x:p,y:m,width:v,height:g}}return Q(f)&&Q(h)?{x:f,y:h,width:0,height:0}:Q(r)&&Q(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},iG=function(t,r){return t?t===!0?N.createElement(Ft,{key:"label-implicit",viewBox:r}):It(t)?N.createElement(Ft,{key:"label-implicit",viewBox:r,value:t}):E.isValidElement(t)?t.type===Ft?E.cloneElement(t,{key:"label-implicit",viewBox:r}):N.createElement(Ft,{key:"label-implicit",content:t,viewBox:r}):be(t)?N.createElement(Ft,{key:"label-implicit",content:t,viewBox:r}):zs(t)?N.createElement(Ft,Ic({viewBox:r},t,{key:"label-implicit"})):null:null},oG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Qk(t),o=Rr(a,Ft).map(function(l,c){return E.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return o;var s=iG(t.label,r||i);return[s].concat(q9(o))};Ft.parseViewBox=Qk;Ft.renderCallByParent=oG;function sG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lG=sG;const cG=ze(lG);function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}var uG=["valueAccessor"],dG=["data","dataKey","clockWise","id","textBreakAll"];function fG(e){return gG(e)||mG(e)||pG(e)||hG()}function hG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(e,t){if(e){if(typeof e=="string")return Nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nv(e,t)}}function mG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gG(e){if(Array.isArray(e))return Nv(e)}function Nv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(this,arguments)}function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=bG(e,"string");return Rc(t)=="symbol"?t:t+""}function bG(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V1(e,t){if(e==null)return{};var r=xG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wG=function(t){return Array.isArray(t.value)?cG(t.value):t.value};function Dn(e){var t=e.valueAccessor,r=t===void 0?wG:t,n=V1(e,uG),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=V1(n,dG);return!a||!a.length?null:N.createElement(Ne,{className:"recharts-label-list"},a.map(function(d,f){var h=we(i)?r(d,f):bt(d&&d.payload,i),p=we(s)?{}:{id:"".concat(s,"-").concat(f)};return N.createElement(Ft,kf({},he(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Ft.parseViewBox(we(o)?d:W1(W1({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Dn.displayName="LabelList";function _G(e,t){return e?e===!0?N.createElement(Dn,{key:"labelList-implicit",data:t}):N.isValidElement(e)||be(e)?N.createElement(Dn,{key:"labelList-implicit",data:t,content:e}):zs(e)?N.createElement(Dn,kf({data:t},e,{key:"labelList-implicit"})):null:null}function jG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Rr(n,Dn).map(function(o,s){return E.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=_G(e.label,t);return[i].concat(fG(a))}Dn.renderCallByParent=jG;function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(this,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=EG(e,"string");return Dc(t)=="symbol"?t:t+""}function EG(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PG=function(t,r){var n=lr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ku=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,d=l*(s?1:-1)+a,f=Math.asin(l/d)/Af,h=c?i:i+o*f,p=rt(r,n,d,h),m=rt(r,n,a,h),v=c?i-o*f:i,g=rt(r,n,d*Math.cos(f*Af),v);return{center:p,circleTangency:m,lineTangency:g,theta:f}},Zk=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,l=PG(o,s),c=o+l,d=rt(r,n,i,o),f=rt(r,n,i,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=rt(r,n,a,o),m=rt(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},AG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=lr(d-c),h=Ku({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,v=h.theta,g=Ku({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,x=g.theta,j=l?Math.abs(c-d):Math.abs(c-d)-v-x;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Zk({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var _=Ku({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=_.circleTangency,P=_.lineTangency,k=_.theta,R=Ku({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),$=R.circleTangency,L=R.lineTangency,U=R.theta,C=l?Math.abs(c-d):Math.abs(c-d)-k-U;if(C<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},kG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eN=function(t){var r=K1(K1({},kG),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=je("recharts-sector",h),m=o-i,v=cr(s,m,0,!0),g;return v>0&&Math.abs(d-f)<360?g=AG({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):g=Zk({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),N.createElement("path",Cv({},he(r,!0),{className:p,d:g,role:"img"}))};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){NG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NG(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=TG(e,"string");return Mc(t)=="symbol"?t:t+""}function TG(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y1={curveBasisClosed:N4,curveBasisOpen:C4,curveBasis:k4,curveBumpX:m4,curveBumpY:g4,curveLinearClosed:T4,curveLinear:Wh,curveMonotoneX:$4,curveMonotoneY:I4,curveNatural:R4,curveStep:D4,curveStepAfter:L4,curveStepBefore:M4},Gu=function(t){return t.x===+t.x&&t.y===+t.y},xl=function(t){return t.x},wl=function(t){return t.y},$G=function(t,r){if(be(t))return t;var n="curve".concat(zh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Y1["".concat(n).concat(r==="vertical"?"Y":"X")]:Y1[n]||Wh},IG=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,d=$G(n,s),f=c?i.filter(function(v){return Gu(v)}):i,h;if(Array.isArray(o)){var p=c?o.filter(function(v){return Gu(v)}):o,m=f.map(function(v,g){return X1(X1({},v),{},{base:p[g]})});return s==="vertical"?h=Lu().y(wl).x1(xl).x0(function(v){return v.base.x}):h=Lu().x(xl).y1(wl).y0(function(v){return v.base.y}),h.defined(Gu).curve(d),h(m)}return s==="vertical"&&Q(o)?h=Lu().y(wl).x1(xl).x0(o):Q(o)?h=Lu().x(xl).y1(wl).y0(o):h=GP().x(xl).y(wl),h.defined(Gu).curve(d),h(f)},zi=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?IG(t):a;return E.createElement("path",Tv({},he(t,!1),Qd(t),{className:je("recharts-curve",r),d:o,ref:i}))},tN={exports:{}},RG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DG=RG,MG=DG;function rN(){}function nN(){}nN.resetWarningCache=rN;var LG=function(){function e(n,a,i,o,s,l){if(l!==MG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nN,resetWarningCache:rN};return r.PropTypes=r,r};tN.exports=LG();var BG=tN.exports;const Ue=ze(BG);var FG=Object.getOwnPropertyNames,UG=Object.getOwnPropertySymbols,zG=Object.prototype.hasOwnProperty;function J1(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Xu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function qG(e){return e!=null?e[Symbol.toStringTag]:void 0}function Q1(e){return FG(e).concat(UG(e))}var WG=Object.hasOwn||function(e,t){return zG.call(e,t)};function co(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var VG="__v",HG="__o",KG="_owner",Z1=Object.getOwnPropertyDescriptor,ej=Object.keys;function GG(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XG(e,t){return co(e.getTime(),t.getTime())}function YG(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function JG(e,t){return e===t}function tj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,l=0;(o=i.next())&&!o.done;){for(var c=t.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(a[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var QG=co;function ZG(e,t,r){var n=ej(e),a=n.length;if(ej(t).length!==a)return!1;for(;a-- >0;)if(!aN(e,t,r,n[a]))return!1;return!0}function _l(e,t,r){var n=Q1(e),a=n.length;if(Q1(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!aN(e,t,r,i)||(o=Z1(e,i),s=Z1(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function eX(e,t){return co(e.valueOf(),t.valueOf())}function tX(e,t){return e.source===t.source&&e.flags===t.flags}function rj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function rX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function nX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function aN(e,t,r,n){return(n===KG||n===HG||n===VG)&&(e.$$typeof||t.$$typeof)?!0:WG(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var aX="[object Arguments]",iX="[object Boolean]",oX="[object Date]",sX="[object Error]",lX="[object Map]",cX="[object Number]",uX="[object Object]",dX="[object RegExp]",fX="[object Set]",hX="[object String]",pX="[object URL]",mX=Array.isArray,nj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,aj=Object.assign,gX=Object.prototype.toString.call.bind(Object.prototype.toString);function vX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(v,g,y){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,y):b==="function"?a(v,g,y):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(v,g,y);if(mX(v))return t(v,g,y);if(nj!=null&&nj(v))return f(v,g,y);if(x===Date)return r(v,g,y);if(x===RegExp)return c(v,g,y);if(x===Map)return i(v,g,y);if(x===Set)return d(v,g,y);var j=gX(v);if(j===oX)return r(v,g,y);if(j===dX)return c(v,g,y);if(j===lX)return i(v,g,y);if(j===fX)return d(v,g,y);if(j===uX)return typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,y);if(j===pX)return h(v,g,y);if(j===sX)return n(v,g,y);if(j===aX)return s(v,g,y);if(j===iX||j===cX||j===hX)return l(v,g,y);if(p){var w=p[j];if(!w){var _=qG(v);_&&(w=p[_])}if(w)return w(v,g,y)}return!1}}function yX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?_l:GG,areDatesEqual:XG,areErrorsEqual:YG,areFunctionsEqual:JG,areMapsEqual:n?J1(tj,_l):tj,areNumbersEqual:QG,areObjectsEqual:n?_l:ZG,arePrimitiveWrappersEqual:eX,areRegExpsEqual:tX,areSetsEqual:n?J1(rj,_l):rj,areTypedArraysEqual:n?_l:rX,areUrlsEqual:nX,unknownTagComparators:void 0};if(r&&(a=aj({},a,r(a))),t){var i=Xu(a.areArraysEqual),o=Xu(a.areMapsEqual),s=Xu(a.areObjectsEqual),l=Xu(a.areSetsEqual);a=aj({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}function bX(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function xX(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var wX=ii();ii({strict:!0});ii({circular:!0});ii({circular:!0,strict:!0});ii({createInternalComparator:function(){return co}});ii({strict:!0,createInternalComparator:function(){return co}});ii({circular:!0,createInternalComparator:function(){return co}});ii({circular:!0,createInternalComparator:function(){return co},strict:!0});function ii(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=yX(e),l=vX(s),c=n?n(l):bX(l);return xX({circular:r,comparator:l,createState:a,equals:c,strict:o})}function _X(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ij(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):_X(a)};requestAnimationFrame(n)}function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function jX(e){return PX(e)||EX(e)||OX(e)||SX()}function SX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(e,t){if(e){if(typeof e=="string")return oj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(e,t)}}function oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PX(e){if(Array.isArray(e))return e}function AX(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=jX(o),l=s[0],c=s.slice(1);if(typeof l=="number"){ij(a.bind(null,c),l);return}a(l),ij(a.bind(null,c));return}$v(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){iN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iN(e,t,r){return t=kX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=NX(e,"string");return Lc(t)==="symbol"?t:String(t)}function NX(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},TX=function(t){return t},$X=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wl=function(t,r){return Object.keys(r).reduce(function(n,a){return lj(lj({},n),{},iN({},a,t(a,r[a])))},{})},cj=function(t,r,n){return t.map(function(a){return"".concat($X(a)," ").concat(r,"ms ").concat(n)}).join(",")};function IX(e,t){return MX(e)||DX(e,t)||oN(e,t)||RX()}function RX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function MX(e){if(Array.isArray(e))return e}function LX(e){return UX(e)||FX(e)||oN(e)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(e,t){if(e){if(typeof e=="string")return Iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iv(e,t)}}function FX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UX(e){if(Array.isArray(e))return Iv(e)}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nf=1e-4,sN=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lN=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},uj=function(t,r){return function(n){var a=sN(t,r);return lN(a,n)}},zX=function(t,r){return function(n){var a=sN(t,r),i=[].concat(LX(a.map(function(o,s){return o*s}).slice(1)),[0]);return lN(i,n)}},dj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=IX(c,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=uj(a,o),h=uj(i,s),p=zX(a,o),m=function(y){return y>1?1:y<0?0:y},v=function(y){for(var b=y>1?1:y,x=b,j=0;j<8;++j){var w=f(x)-b,_=p(x);if(Math.abs(w-b)<Nf||_<Nf)return h(x);x=m(x-w/_)}return h(x)};return v.isStepper=!1,v},qX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*i,v=h+(p-m)*s/1e3,g=h*s/1e3+d;return Math.abs(g-f)<Nf&&Math.abs(v)<Nf?[f,0]:[g,v]};return l.isStepper=!0,l.dt=s,l},WX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dj(a);case"spring":return qX();default:if(a.split("(")[0]==="cubic-bezier")return dj(a)}return typeof a=="function"?a:null};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function fj(e){return KX(e)||HX(e)||cN(e)||VX()}function VX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KX(e){if(Array.isArray(e))return Dv(e)}function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){Rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rv(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=XX(e,"string");return Bc(t)==="symbol"?t:String(t)}function XX(e,t){if(Bc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YX(e,t){return ZX(e)||QX(e,t)||cN(e,t)||JX()}function JX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(e,t){if(e){if(typeof e=="string")return Dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dv(e,t)}}function Dv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function ZX(e){if(Array.isArray(e))return e}var Cf=function(t,r,n){return t+(r-t)*n},Mv=function(t){var r=t.from,n=t.to;return r!==n},eY=function e(t,r,n){var a=Wl(function(i,o){if(Mv(o)){var s=t(o.from,o.to,o.velocity),l=YX(s,2),c=l[0],d=l[1];return Gt(Gt({},o),{},{from:c,velocity:d})}return o},r);return n<1?Wl(function(i,o){return Mv(o)?Gt(Gt({},o),{},{velocity:Cf(o.velocity,a[i].velocity,n),from:Cf(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const tY=function(e,t,r,n,a){var i=CX(e,t),o=i.reduce(function(g,y){return Gt(Gt({},g),{},Rv({},y,[e[y],t[y]]))},{}),s=i.reduce(function(g,y){return Gt(Gt({},g),{},Rv({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Wl(function(y,b){return b.from},s)},p=function(){return!Object.values(s).filter(Mv).length},m=function(y){c||(c=y);var b=y-c,x=b/r.dt;s=eY(r,s,x),a(Gt(Gt(Gt({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},v=function(y){d||(d=y);var b=(y-d)/n,x=Wl(function(w,_){return Cf.apply(void 0,fj(_).concat([r(b)]))},o);if(a(Gt(Gt(Gt({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var j=Wl(function(w,_){return Cf.apply(void 0,fj(_).concat([r(1)]))},o);a(Gt(Gt(Gt({},e),t),j))}};return f=r.isStepper?m:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}var rY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nY(e,t){if(e==null)return{};var r=aY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aY(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Pm(e){return lY(e)||sY(e)||oY(e)||iY()}function iY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(e,t){if(e){if(typeof e=="string")return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lv(e,t)}}function sY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lY(e){if(Array.isArray(e))return Lv(e)}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Al(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Al(e,t,r){return t=uN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uN(n.key),n)}}function dY(e,t,r){return t&&uY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uN(e){var t=fY(e,"string");return ms(t)==="symbol"?t:String(t)}function fY(e,t){if(ms(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ms(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bv(e,t)}function pY(e){var t=mY();return function(){var n=Tf(e),a;if(t){var i=Tf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Fv(this,a)}}function Fv(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uv(e)}function Uv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}var xn=function(e){hY(r,e);var t=pY(r);function r(n,a){var i;cY(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Uv(i)),i.changeStyle=i.changeStyle.bind(Uv(i)),!s||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Fv(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},Fv(i);i.state={style:l?Al({},l,c):c}}else i.state={style:{}};return i}return dY(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(s){if(!o){var p={style:l?Al({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(wX(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?f:a.to;if(this.state&&h){var g={style:l?Al({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(g)}this.runAnimation(on(on({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,l=a.duration,c=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=tY(o,s,WX(c),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,l=a.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(v,g,y){if(y===0)return v;var b=g.duration,x=g.easing,j=x===void 0?"ease":x,w=g.style,_=g.properties,O=g.onAnimationEnd,P=y>0?o[y-1]:g,k=_||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(Pm(v),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:b,easing:j}),b]);var R=cj(k,b,j),$=on(on(on({},P.style),w),{},{transition:R});return[].concat(Pm(v),[$,b,O]).filter(TX)};return this.manager.start([l].concat(Pm(o.reduce(p,[d,Math.max(h,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=AX());var i=a.begin,o=a.duration,s=a.attributeName,l=a.to,c=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=s?Al({},s,l):l,g=cj(Object.keys(v),o,c);m.start([d,i,on(on({},v),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=nY(a,rY),c=E.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||c===0||o<=0)return i;var f=function(p){var m=p.props,v=m.style,g=v===void 0?{}:v,y=m.className,b=E.cloneElement(p,on(on({},l),{},{style:on(on({},g),d),className:y}));return b};return c===1?f(E.Children.only(i)):N.createElement("div",null,E.Children.map(i,function(h){return f(h)}))}}]),r}(E.PureComponent);xn.displayName="Animate";xn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xn.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}function gY(e,t){return xY(e)||bY(e,t)||yY(e,t)||vY()}function vY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function xY(e){if(Array.isArray(e))return e}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){wY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wY(e,t,r){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=jY(e,"string");return Fc(t)=="symbol"?t:t+""}function jY(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yj=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*m,`
            L `).concat(t+n,",").concat(r+a-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-s*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},SY=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&a>=f&&a<=h}return!1},OY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ib=function(t){var r=vj(vj({},OY),t),n=E.useRef(),a=E.useState(-1),i=gY(a,2),o=i[0],s=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,v=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=je("recharts-rectangle",p);return b?N.createElement(xn,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:b},function(j){var w=j.width,_=j.height,O=j.x,P=j.y;return N.createElement(xn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,isActive:y,easing:m},N.createElement("path",$f({},he(r,!0),{className:x,d:yj(O,P,w,_,h),ref:n})))}):N.createElement("path",$f({},he(r,!0),{className:x,d:yj(l,c,d,f,h)}))},EY=["points","className","baseLinePoints","connectNulls"];function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mo.apply(this,arguments)}function PY(e,t){if(e==null)return{};var r=AY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bj(e){return TY(e)||CY(e)||NY(e)||kY()}function kY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(e,t){if(e){if(typeof e=="string")return zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zv(e,t)}}function CY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TY(e){if(Array.isArray(e))return zv(e)}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xj=function(t){return t&&t.x===+t.x&&t.y===+t.y},$Y=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xj(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Vl=function(t,r){var n=$Y(t);r&&(n=[n.reduce(function(i,o){return[].concat(bj(i),bj(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},IY=function(t,r,n){var a=Vl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Vl(r.reverse(),n).slice(1))},RY=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=PY(t,EY);if(!r||!r.length)return null;var s=je("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",c=IY(r,a,i);return N.createElement("g",{className:s},N.createElement("path",Mo({},he(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?N.createElement("path",Mo({},he(o,!0),{fill:"none",d:Vl(r,i)})):null,l?N.createElement("path",Mo({},he(o,!0),{fill:"none",d:Vl(a,i)})):null)}var d=Vl(r,i);return N.createElement("path",Mo({},he(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}var hu=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=je("recharts-dot",i);return r===+r&&n===+n&&a===+a?E.createElement("circle",qv({},he(t,!1),Qd(t),{className:o,cx:r,cy:n,r:a})):null};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var DY=["x","y","top","left","width","height","className"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=FY(e,"string");return Uc(t)=="symbol"?t:t+""}function FY(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UY(e,t){if(e==null)return{};var r=zY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qY=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},WY=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,v=UY(t,DY),g=MY({x:n,y:i,top:s,left:c,width:f,height:p},v);return!Q(n)||!Q(i)||!Q(f)||!Q(p)||!Q(s)||!Q(c)?null:N.createElement("path",Wv({},he(g,!0),{className:je("recharts-cross",m),d:qY(n,i,f,p,s,c)}))},VY=rp,HY=_k,KY=qn;function GY(e,t){return e&&e.length?VY(e,KY(t),HY):void 0}var XY=GY;const YY=ze(XY);var JY=rp,QY=qn,ZY=jk;function eJ(e,t){return e&&e.length?JY(e,QY(t),ZY):void 0}var tJ=eJ;const rJ=ze(tJ);var nJ=["cx","cy","angle","ticks","axisLine"],aJ=["ticks","tick","angle","tickFormatter","stroke"];function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jj(e,t){if(e==null)return{};var r=iJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fN(n.key),n)}}function sJ(e,t,r){return t&&Sj(e.prototype,t),r&&Sj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lJ(e,t,r){return t=If(t),cJ(e,dN()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function cJ(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uJ(e)}function uJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dN=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function dJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vv(e,t)}function op(e,t,r){return t=fN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fN(e){var t=fJ(e,"string");return gs(t)=="symbol"?t:t+""}function fJ(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sp=function(e){function t(){return oJ(this,t),lJ(this,t,arguments)}return dJ(t,e),sJ(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,l=i.cy;return rt(s,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=YY(s,function(d){return d.coordinate||0}),c=rJ(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=jj(n,nJ),d=s.reduce(function(m,v){return[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)]},[1/0,-1/0]),f=rt(a,i,d[0],o),h=rt(a,i,d[1],o),p=pi(pi(pi({},he(c,!1)),{},{fill:"none"},he(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return N.createElement("line",Hl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,l=a.tickFormatter,c=a.stroke,d=jj(a,aJ),f=this.getTickTextAnchor(),h=he(d,!1),p=he(o,!1),m=i.map(function(v,g){var y=n.getTickValueCoord(v),b=pi(pi(pi(pi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},y),{},{payload:v});return N.createElement(Ne,Hl({className:je("recharts-polar-radius-axis-tick",Jk(o)),key:"tick-".concat(v.coordinate)},Xi(n.props,v,g)),t.renderTickItem(o,b,l?l(v.value,g):v.value))});return N.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:N.createElement(Ne,{className:je("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ft.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return N.isValidElement(n)?o=N.cloneElement(n,a):be(n)?o=n(a):o=N.createElement(Yi,Hl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(E.PureComponent);op(sp,"displayName","PolarRadiusAxis");op(sp,"axisType","radiusAxis");op(sp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ej(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pN(n.key),n)}}function pJ(e,t,r){return t&&Ej(e.prototype,t),r&&Ej(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJ(e,t,r){return t=Rf(t),gJ(e,hN()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function gJ(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJ(e)}function vJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hN=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function yJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hv(e,t)}function lp(e,t,r){return t=pN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e){var t=bJ(e,"string");return vs(t)=="symbol"?t:t+""}function bJ(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xJ=Math.PI/180,Pj=1e-5,cp=function(e){function t(){return hJ(this,t),mJ(this,t,arguments)}return yJ(t,e),pJ(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,l=a.orientation,c=a.tickSize,d=c||8,f=rt(i,o,s,n.coordinate),h=rt(i,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*xJ),o;return i>Pj?o=a==="outer"?"start":"end":i<-Pj?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=mi(mi({},he(this.props,!1)),{},{fill:"none"},he(s,!1));if(l==="circle")return N.createElement(hu,Ei({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return rt(a,i,o,h.coordinate)});return N.createElement(RY,Ei({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,l=a.tickFormatter,c=a.stroke,d=he(this.props,!1),f=he(o,!1),h=mi(mi({},d),{},{fill:"none"},he(s,!1)),p=i.map(function(m,v){var g=n.getTickLineCoord(m),y=n.getTickTextAnchor(m),b=mi(mi(mi({textAnchor:y},d),{},{stroke:"none",fill:c},f),{},{index:v,payload:m,x:g.x2,y:g.y2});return N.createElement(Ne,Ei({className:je("recharts-polar-angle-axis-tick",Jk(o)),key:"tick-".concat(m.coordinate)},Xi(n.props,m,v)),s&&N.createElement("line",Ei({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,b,l?l(m.value,v):m.value))});return N.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:N.createElement(Ne,{className:je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return N.isValidElement(n)?o=N.cloneElement(n,a):be(n)?o=n(a):o=N.createElement(Yi,Ei({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(E.PureComponent);lp(cp,"displayName","PolarAngleAxis");lp(cp,"axisType","angleAxis");lp(cp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wJ=yA,_J=wJ(Object.getPrototypeOf,Object),jJ=_J,SJ=ga,OJ=jJ,EJ=va,PJ="[object Object]",AJ=Function.prototype,kJ=Object.prototype,mN=AJ.toString,NJ=kJ.hasOwnProperty,CJ=mN.call(Object);function TJ(e){if(!EJ(e)||SJ(e)!=PJ)return!1;var t=OJ(e);if(t===null)return!0;var r=NJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mN.call(r)==CJ}var $J=TJ;const IJ=ze($J);var RJ=ga,DJ=va,MJ="[object Boolean]";function LJ(e){return e===!0||e===!1||DJ(e)&&RJ(e)==MJ}var BJ=LJ;const FJ=ze(BJ);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function UJ(e,t){return VJ(e)||WJ(e,t)||qJ(e,t)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJ(e,t){if(e){if(typeof e=="string")return Aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(e,t)}}function Aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function VJ(e){if(Array.isArray(e))return e}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return t=KJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=GJ(e,"string");return zc(t)=="symbol"?t:t+""}function GJ(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cj=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},XJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YJ=function(t){var r=Nj(Nj({},XJ),t),n=E.useRef(),a=E.useState(-1),i=UJ(a,2),o=i[0],s=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,v=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=je("recharts-trapezoid",p);return y?N.createElement(xn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:v,animationEasing:m,isActive:y},function(x){var j=x.upperWidth,w=x.lowerWidth,_=x.height,O=x.x,P=x.y;return N.createElement(xn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,easing:m},N.createElement("path",Df({},he(r,!0),{className:b,d:Cj(O,P,j,w,_),ref:n})))}):N.createElement("g",null,N.createElement("path",Df({},he(r,!0),{className:b,d:Cj(l,c,d,f,h)})))},JJ=["option","shapeType","propTransformer","activeClassName","isActive"];function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function QJ(e,t){if(e==null)return{};var r=ZJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return t=tQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return qc(t)=="symbol"?t:t+""}function rQ(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nQ(e,t){return Mf(Mf({},t),e)}function aQ(e,t){return e==="symbols"}function $j(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return N.createElement(Ib,r);case"trapezoid":return N.createElement(YJ,r);case"sector":return N.createElement(eN,r);case"symbols":if(aQ(t))return N.createElement(Z0,r);break;default:return null}}function iQ(e){return E.isValidElement(e)?e.props:e}function gN(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?nQ:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,l=QJ(e,JJ),c;if(E.isValidElement(t))c=E.cloneElement(t,Mf(Mf({},l),iQ(t)));else if(be(t))c=t(l);else if(IJ(t)&&!FJ(t)){var d=a(t,l);c=N.createElement($j,{shapeType:r,elementProps:d})}else{var f=l;c=N.createElement($j,{shapeType:r,elementProps:f})}return s?N.createElement(Ne,{className:o},c):c}function up(e,t){return t!=null&&"trapezoids"in e.props}function dp(e,t){return t!=null&&"sectors"in e.props}function Wc(e,t){return t!=null&&"points"in e.props}function oQ(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function sQ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lQ(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function cQ(e,t){var r;return up(e,t)?r=oQ:dp(e,t)?r=sQ:Wc(e,t)&&(r=lQ),r}function uQ(e,t){var r;return up(e,t)?r="trapezoids":dp(e,t)?r="sectors":Wc(e,t)&&(r="points"),r}function dQ(e,t){if(up(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(dp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wc(e,t)?t.payload:{}}function fQ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=uQ(r,t),i=dQ(r,t),o=n.filter(function(l,c){var d=Ji(i,l),f=r.props[a].filter(function(m){var v=cQ(r,t);return v(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}var wd;function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(this,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yN(n.key),n)}}function pQ(e,t,r){return t&&Rj(e.prototype,t),r&&Rj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mQ(e,t,r){return t=Lf(t),gQ(e,vN()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function gQ(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vQ(e)}function vQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vN=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function yQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kv(e,t)}function Kv(e,t){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kv(e,t)}function Kr(e,t,r){return t=yN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yN(e){var t=bQ(e,"string");return ys(t)=="symbol"?t:t+""}function bQ(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ba=function(e){function t(r){var n;return hQ(this,t),n=mQ(this,t,[r]),Kr(n,"pieRef",null),Kr(n,"sectorRefs",[]),Kr(n,"id",oo("recharts-pie-")),Kr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),be(a)&&a()}),Kr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),be(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yQ(t,e),pQ(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,l=i.dataKey,c=i.valueKey,d=he(this.props,!1),f=he(o,!1),h=he(s,!1),p=o&&o.offsetRadius||20,m=n.map(function(v,g){var y=(v.startAngle+v.endAngle)/2,b=rt(v.cx,v.cy,v.outerRadius+p,y),x=Ze(Ze(Ze(Ze({},d),v),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,v.cx)},b),j=Ze(Ze(Ze(Ze({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:g,points:[rt(v.cx,v.cy,v.outerRadius,y),b]}),w=l;return we(l)&&we(c)?w="value":we(l)&&(w=c),N.createElement(Ne,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,j,"line"),t.renderLabelItem(o,x,bt(v,w)))});return N.createElement(Ne,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,l=i.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,p=f?o:h,m=Ze(Ze({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return N.createElement(Ne,Lo({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Xi(a.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),N.createElement(gN,Lo({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return N.createElement(xn,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var v=m.t,g=[],y=i&&i[0],b=y.startAngle;return i.forEach(function(x,j){var w=h&&h[j],_=j>0?Ir(x,"paddingAngle",0):0;if(w){var O=Tt(w.endAngle-w.startAngle,x.endAngle-x.startAngle),P=Ze(Ze({},x),{},{startAngle:b+_,endAngle:b+O(v)+_});g.push(P),b=P.endAngle}else{var k=x.endAngle,R=x.startAngle,$=Tt(0,k-R),L=$(v),U=Ze(Ze({},x),{},{startAngle:b+_,endAngle:b+L+_});g.push(U),b=U.endAngle}}),N.createElement(Ne,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ji(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,l=a.label,c=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!Q(c)||!Q(d)||!Q(f)||!Q(h))return null;var v=je("recharts-pie",s);return N.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:v,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Ft.renderCallByParent(this.props,null,!1),(!p||m)&&Dn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(N.isValidElement(n))return N.cloneElement(n,a);if(be(n))return n(a);var o=je("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return N.createElement(zi,Lo({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(N.isValidElement(n))return N.cloneElement(n,a);var o=i;if(be(n)&&(o=n(a),N.isValidElement(o)))return o;var s=je("recharts-pie-label-text",typeof n!="boolean"&&!be(n)?n.className:"");return N.createElement(Yi,Lo({},a,{alignmentBaseline:"middle",className:s}),o)}}])}(E.PureComponent);wd=ba;Kr(ba,"displayName","Pie");Kr(ba,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ri.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Kr(ba,"parseDeltaAngle",function(e,t){var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Kr(ba,"getRealPieData",function(e){var t=e.data,r=e.children,n=he(e,!1),a=Rr(r,Xh);return t&&t.length?t.map(function(i,o){return Ze(Ze(Ze({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ze(Ze({},n),i.props)}):[]});Kr(ba,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Yk(a,i),s=n+cr(e.cx,a,a/2),l=r+cr(e.cy,i,i/2),c=cr(e.innerRadius,o,0),d=cr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});Kr(ba,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ze(Ze({},t.type.defaultProps),t.props):t.props,a=wd.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=wd.parseCoordinateOfPie(n,r),v=wd.parseDeltaAngle(o,s),g=Math.abs(v),y=c;we(c)&&we(f)?(yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):we(c)&&(yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(P){return bt(P,y,0)!==0}).length,x=(g>=360?b:b-1)*l,j=g-b*p-x,w=a.reduce(function(P,k){var R=bt(k,y,0);return P+(Q(R)?R:0)},0),_;if(w>0){var O;_=a.map(function(P,k){var R=bt(P,y,0),$=bt(P,d,k),L=(Q(R)?R:0)/w,U;k?U=O.endAngle+lr(v)*l*(R!==0?1:0):U=o;var C=U+lr(v)*((R!==0?p:0)+L*j),M=(U+C)/2,B=(m.innerRadius+m.outerRadius)/2,F=[{name:$,value:R,payload:P,dataKey:y,type:h}],A=rt(m.cx,m.cy,B,M);return O=Ze(Ze(Ze({percent:L,cornerRadius:i,name:$,tooltipPayload:F,midAngle:M,middleRadius:B,tooltipPosition:A},P),m),{},{value:bt(P,y),startAngle:U,endAngle:C,payload:P,paddingAngle:lr(v)*l}),O})}return Ze(Ze({},m),{},{sectors:_,data:a})});var xQ=Math.ceil,wQ=Math.max;function _Q(e,t,r,n){for(var a=-1,i=wQ(xQ((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var jQ=_Q,SQ=MA,Dj=1/0,OQ=17976931348623157e292;function EQ(e){if(!e)return e===0?e:0;if(e=SQ(e),e===Dj||e===-Dj){var t=e<0?-1:1;return t*OQ}return e===e?e:0}var bN=EQ,PQ=jQ,AQ=Gh,Am=bN;function kQ(e){return function(t,r,n){return n&&typeof n!="number"&&AQ(t,r,n)&&(r=n=void 0),t=Am(t),r===void 0?(r=t,t=0):r=Am(r),n=n===void 0?t<r?1:-1:Am(n),PQ(t,r,n,e)}}var NQ=kQ,CQ=NQ,TQ=CQ(),$Q=TQ;const Bf=ze($Q);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){xN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xN(e,t,r){return t=IQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=RQ(e,"string");return Vc(t)=="symbol"?t:t+""}function RQ(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DQ=["Webkit","Moz","O","ms"],MQ=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=DQ.reduce(function(i,o){return Lj(Lj({},i),{},xN({},o+n,r))},{});return a[t]=r,a};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){Pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_N(n.key),n)}}function BQ(e,t,r){return t&&Fj(e.prototype,t),r&&Fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FQ(e,t,r){return t=Uf(t),UQ(e,wN()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function UQ(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zQ(e)}function zQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wN=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function qQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gv(e,t)}function Pr(e,t,r){return t=_N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _N(e){var t=WQ(e,"string");return bs(t)=="symbol"?t:t+""}function WQ(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VQ=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=zl().domain(Bf(0,l)).range([i,i+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},Uj=function(t){return t.changedTouches&&!!t.changedTouches.length},xs=function(e){function t(r){var n;return LQ(this,t),n=FQ(this,t,[r]),Pr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Pr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Pr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),Pr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Pr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Pr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Pr(n,"handleSlideDragStart",function(a){var i=Uj(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qQ(t,e),BQ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,l=bt(i[n],s,n);return be(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,v=n.pageX-i;v>0?v=Math.min(v,c+d-f-s,c+d-f-o):v<0&&(v=Math.max(v,c-o,c-s));var g=this.getIndex({startX:o+v,endX:s+v});(g.startIndex!==h||g.endIndex!==p)&&m&&m(g),this.setState({startX:o+v,endX:s+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Uj(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,l=a.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,v=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[o]=c+b;var x=this.getIndex(y),j=x.startIndex,w=x.endIndex,_=function(){var P=g.length-1;return o==="startX"&&(s>l?j%v===0:w%v===0)||s<l&&w===P||o==="endX"&&(s>l?w%v===0:j%v===0)||s>l&&w===P};this.setState(Pr(Pr({},o,c+b),"brushMoveStartX",n.pageX),function(){m&&_()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Pr({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return N.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=E.Children.only(c);return f?N.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,v=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=km(km({},he(this.props,!1)),{},{x:y,y:c,width:d,height:f}),x=p||"Min value: ".concat((i=m[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return N.createElement(Ne,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,l=i.stroke,c=i.travellerWidth,d=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return N.createElement(Ne,{className:"recharts-brush-texts"},N.createElement(Yi,Ff({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(a)),N.createElement(Yi,Ff({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Q(s)||!Q(l)||!Q(c)||!Q(d)||c<=0||d<=0)return null;var x=je("recharts-brush",i),j=N.Children.count(o)===1,w=MQ("userSelect","none");return N.createElement(Ne,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(i+s/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:a,y:i,width:o,height:s,fill:l,stroke:"none"}),N.createElement("line",{x1:a+1,y1:c,x2:a+o-1,y2:c,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:a+1,y1:c+2,x2:a+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return N.isValidElement(n)?i=N.cloneElement(n,a):be(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return km({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},i&&i.length?VQ({data:i,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([s,s+o-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>a?s=l:o=l}return a>=n[s]?s:o}}])}(E.PureComponent);Pr(xs,"displayName","Brush");Pr(xs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HQ=ob;function KQ(e,t){var r;return HQ(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var GQ=KQ,XQ=uA,YQ=qn,JQ=GQ,QQ=_r,ZQ=Gh;function eZ(e,t,r){var n=QQ(e)?XQ:JQ;return r&&ZQ(e,t,r)&&(t=void 0),n(e,YQ(t))}var tZ=eZ;const rZ=ze(tZ);var Mn=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},zj=TA;function nZ(e,t,r){t=="__proto__"&&zj?zj(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aZ=nZ,iZ=aZ,oZ=NA,sZ=qn;function lZ(e,t){var r={};return t=sZ(t),oZ(e,function(n,a,i){iZ(r,a,t(n,a,i))}),r}var cZ=lZ;const uZ=ze(cZ);function dZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var fZ=dZ,hZ=ob;function pZ(e,t){var r=!0;return hZ(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var mZ=pZ,gZ=fZ,vZ=mZ,yZ=qn,bZ=_r,xZ=Gh;function wZ(e,t,r){var n=bZ(e)?gZ:vZ;return r&&xZ(e,t,r)&&(t=void 0),n(e,yZ(t))}var _Z=wZ;const jN=ze(_Z);var jZ=["x","y"];function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return t=OZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=EZ(e,"string");return Hc(t)=="symbol"?t:t+""}function EZ(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e,t){if(e==null)return{};var r=AZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kZ(e,t){var r=e.x,n=e.y,a=PZ(e,jZ),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return jl(jl(jl(jl(jl({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Wj(e){return N.createElement(gN,Xv({shapeType:"rectangle",propTransformer:kZ,activeClassName:"recharts-active-bar"},e))}var NZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Q(n)||tL(n);return i?t(n,a):(i||Zi(),r)}},CZ=["value","background"],SN;function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function TZ(e,t){if(e==null)return{};var r=$Z(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(this,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){Ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EN(n.key),n)}}function RZ(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DZ(e,t,r){return t=qf(t),MZ(e,ON()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function MZ(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(e)}function LZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ON=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function BZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yv(e,t)}function Ma(e,t,r){return t=EN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EN(e){var t=FZ(e,"string");return ws(t)=="symbol"?t:t+""}function FZ(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oi=function(e){function t(){var r;IZ(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=DZ(this,t,[].concat(a)),Ma(r,"state",{isAnimationFinished:!1}),Ma(r,"id",oo("recharts-bar-")),Ma(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ma(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return BZ(t,e),RZ(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,l=i.activeIndex,c=i.activeBar,d=he(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:o,v=St(St(St({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return N.createElement(Ne,zf({className:"recharts-bar-rectangle"},Xi(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),N.createElement(Wj,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return N.createElement(xn,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=i.map(function(g,y){var b=h&&h[y];if(b){var x=Tt(b.x,g.x),j=Tt(b.y,g.y),w=Tt(b.width,g.width),_=Tt(b.height,g.height);return St(St({},g),{},{x:x(m),y:j(m),width:w(m),height:_(m)})}if(o==="horizontal"){var O=Tt(0,g.height),P=O(m);return St(St({},g),{},{y:g.y+g.height-P,height:P})}var k=Tt(0,g.width),R=k(m);return St(St({},g),{},{width:R})});return N.createElement(Ne,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ji(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,l=he(this.props.background,!1);return i.map(function(c,d){c.value;var f=c.background,h=TZ(c,CZ);if(!f)return null;var p=St(St(St(St(St({},h),{},{fill:"#eee"},f),l),Xi(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return N.createElement(Wj,zf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=Rr(d,fu);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:bt(g,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return N.createElement(Ne,m,f.map(function(v){return N.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,v=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=je("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,j=b||x,w=we(v)?this.id:v;return N.createElement(Ne,{className:y},b||x?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(w)},N.createElement("rect",{x:b?c:c-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,N.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||g)&&Dn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(E.PureComponent);SN=oi;Ma(oi,"displayName","Bar");Ma(oi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ri.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ma(oi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=b9(n,r);if(!p)return null;var m=t.layout,v=r.type.defaultProps,g=v!==void 0?St(St({},v),r.props):r.props,y=g.dataKey,b=g.children,x=g.minPointSize,j=m==="horizontal"?o:i,w=c?j.scale.domain():null,_=E9({numericAxis:j}),O=Rr(b,Xh),P=f.map(function(k,R){var $,L,U,C,M,B;c?$=x9(c[d+R],w):($=bt(k,y),Array.isArray($)||($=[_,$]));var F=NZ(x,SN.defaultProps.minPointSize)($[1],R);if(m==="horizontal"){var A,D=[o.scale($[0]),o.scale($[1])],q=D[0],V=D[1];L=R1({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:k,index:R}),U=(A=V??q)!==null&&A!==void 0?A:void 0,C=p.size;var J=q-V;if(M=Number.isNaN(J)?0:J,B={x:L,y:o.y,width:C,height:o.height},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var re=lr(M||F)*(Math.abs(F)-Math.abs(M));U-=re,M+=re}}else{var pe=[i.scale($[0]),i.scale($[1])],le=pe[0],xe=pe[1];if(L=le,U=R1({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:k,index:R}),C=xe-le,M=p.size,B={x:i.x,y:U,width:i.width,height:M},Math.abs(F)>0&&Math.abs(C)<Math.abs(F)){var He=lr(C||F)*(Math.abs(F)-Math.abs(C));C+=He}}return St(St(St({},k),{},{x:L,y:U,width:C,height:M,value:c?$:$[1],payload:k,background:B},O&&O[R]&&O[R].props),{},{tooltipPayload:[Gk(r,k)],tooltipPosition:{x:L+C/2,y:U+M/2}})});return St({data:P,layout:m},h)});function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function UZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PN(n.key),n)}}function zZ(e,t,r){return t&&Kj(e.prototype,t),r&&Kj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fp(e,t,r){return t=PN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PN(e){var t=qZ(e,"string");return Kc(t)=="symbol"?t:t+""}function qZ(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rb=function(t,r,n,a,i){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!kr(c,oi);return d.reduce(function(p,m){var v=r[m],g=v.orientation,y=v.domain,b=v.padding,x=b===void 0?{}:b,j=v.mirror,w=v.reversed,_="".concat(g).concat(j?"Mirror":""),O,P,k,R,$;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=y[1]-y[0],U=1/0,C=v.categoricalDomain.sort(aL);if(C.forEach(function(pe,le){le>0&&(U=Math.min((pe||0)-(C[le-1]||0),U))}),Number.isFinite(U)){var M=U/L,B=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(O=M*B/2),v.padding==="no-gap"){var F=cr(t.barCategoryGap,M*B),A=M*B/2;O=A-F-(A-F)/B*F}}}a==="xAxis"?P=[n.left+(x.left||0)+(O||0),n.left+n.width-(x.right||0)-(O||0)]:a==="yAxis"?P=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(O||0),n.top+n.height-(x.bottom||0)-(O||0)]:P=v.range,w&&(P=[P[1],P[0]]);var D=Wk(v,i,h),q=D.scale,V=D.realScaleType;q.domain(y).range(P),Vk(q);var J=Hk(q,dn(dn({},v),{},{realScaleType:V}));a==="xAxis"?($=g==="top"&&!j||g==="bottom"&&j,k=n.left,R=f[_]-$*v.height):a==="yAxis"&&($=g==="left"&&!j||g==="right"&&j,k=f[_]-$*v.width,R=n.top);var re=dn(dn(dn({},v),J),{},{realScaleType:V,x:k,y:R,scale:q,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return re.bandSize=Pf(re,J),!v.hide&&a==="xAxis"?f[_]+=($?-1:1)*re.height:v.hide||(f[_]+=($?-1:1)*re.width),dn(dn({},p),{},fp({},m,re))},{})},AN=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},WZ=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return AN({x:r,y:n},{x:a,y:i})},kN=function(){function e(t){UZ(this,e),this.scale=t}return zZ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();fp(kN,"EPS",1e-4);var Db=function(t){var r=Object.keys(t).reduce(function(n,a){return dn(dn({},n),{},fp({},a,kN.create(t[a])))},{});return dn(dn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return uZ(a,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(a){return jN(a,function(i,o){return r[o].isInRange(i)})}})};function VZ(e){return(e%180+180)%180}var HZ=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=VZ(a),o=i*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},KZ=qn,GZ=su,XZ=Hh;function YZ(e){return function(t,r,n){var a=Object(t);if(!GZ(t)){var i=KZ(r);t=XZ(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var JZ=YZ,QZ=bN;function ZZ(e){var t=QZ(e),r=t%1;return t===t?r?t-r:t:0}var eee=ZZ,tee=SA,ree=qn,nee=eee,aee=Math.max;function iee(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nee(r);return a<0&&(a=aee(n+a,0)),tee(e,ree(t),a)}var oee=iee,see=JZ,lee=oee,cee=see(lee),uee=cee;const dee=ze(uee);var fee=s3(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Mb=E.createContext(void 0),Lb=E.createContext(void 0),NN=E.createContext(void 0),CN=E.createContext({}),TN=E.createContext(void 0),$N=E.createContext(0),IN=E.createContext(0),Xj=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,d=fee(i);return N.createElement(Mb.Provider,{value:n},N.createElement(Lb.Provider,{value:a},N.createElement(CN.Provider,{value:i},N.createElement(NN.Provider,{value:d},N.createElement(TN.Provider,{value:o},N.createElement($N.Provider,{value:c},N.createElement(IN.Provider,{value:l},s)))))))},hee=function(){return E.useContext(TN)},RN=function(t){var r=E.useContext(Mb);r==null&&Zi();var n=r[t];return n==null&&Zi(),n},pee=function(){var t=E.useContext(Mb);return Na(t)},mee=function(){var t=E.useContext(Lb),r=dee(t,function(n){return jN(n.domain,Number.isFinite)});return r||Na(t)},DN=function(t){var r=E.useContext(Lb);r==null&&Zi();var n=r[t];return n==null&&Zi(),n},gee=function(){var t=E.useContext(NN);return t},vee=function(){return E.useContext(CN)},Bb=function(){return E.useContext(IN)},Fb=function(){return E.useContext($N)};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function yee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LN(n.key),n)}}function xee(e,t,r){return t&&bee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wee(e,t,r){return t=Wf(t),_ee(e,MN()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function _ee(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jee(e)}function jee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MN=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function See(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jv(e,t)}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jv(e,t)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ub(e,t,r){return t=LN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LN(e){var t=Oee(e,"string");return _s(t)=="symbol"?t:t+""}function Oee(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Eee(e,t){return Nee(e)||kee(e,t)||Aee(e,t)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(e,t){if(e){if(typeof e=="string")return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Nee(e){if(Array.isArray(e))return e}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}var Cee=function(t,r){var n;return N.isValidElement(t)?n=N.cloneElement(t,r):be(t)?n=t(r):n=N.createElement("line",Qv({},r,{className:"recharts-reference-line-line"})),n},Tee=function(t,r,n,a,i,o,s,l,c){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=c.y,v=t.y.apply(m,{position:o});if(Mn(c,"discard")&&!t.y.isInRange(v))return null;var g=[{x:d+h,y:v},{x:d,y:v}];return l==="left"?g.reverse():g}if(r){var y=c.x,b=t.x.apply(y,{position:o});if(Mn(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?x.reverse():x}if(a){var j=c.segment,w=j.map(function(_){return t.apply(_,{position:o})});return Mn(c,"discard")&&rZ(w,function(_){return!t.isInRange(_)})?null:w}return null};function $ee(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=hee(),d=RN(a),f=DN(i),h=gee();if(!c||!h)return null;yn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Db({x:d.scale,y:f.scale}),m=It(t),v=It(r),g=n&&n.length===2,y=Tee(p,m,v,g,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=Eee(y,2),x=b[0],j=x.x,w=x.y,_=b[1],O=_.x,P=_.y,k=Mn(e,"hidden")?"url(#".concat(c,")"):void 0,R=Jj(Jj({clipPath:k},he(e,!0)),{},{x1:j,y1:w,x2:O,y2:P});return N.createElement(Ne,{className:je("recharts-reference-line",s)},Cee(o,R),Ft.renderCallByParent(e,WZ({x1:j,y1:w,x2:O,y2:P})))}var hp=function(e){function t(){return yee(this,t),wee(this,t,arguments)}return See(t,e),xee(t,[{key:"render",value:function(){return N.createElement($ee,this.props)}}])}(N.Component);Ub(hp,"displayName","ReferenceLine");Ub(hp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(this,arguments)}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){pp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ree(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FN(n.key),n)}}function Dee(e,t,r){return t&&Ree(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mee(e,t,r){return t=Vf(t),Lee(e,BN()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function Lee(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bee(e)}function Bee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BN=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function Fee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ey(e,t)}function pp(e,t,r){return t=FN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FN(e){var t=Uee(e,"string");return js(t)=="symbol"?t:t+""}function Uee(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zee=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Db({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Mn(t,"discard")&&!o.isInRange(s)?null:s},mp=function(e){function t(){return Iee(this,t),Mee(this,t,arguments)}return Fee(t,e),Dee(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=It(a),d=It(i);if(yn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=zee(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,v=m.shape,g=m.className,y=Mn(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=eS(eS({clipPath:y},he(this.props,!0)),{},{cx:h,cy:p});return N.createElement(Ne,{className:je("recharts-reference-dot",g)},t.renderDot(v,b),Ft.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(N.Component);pp(mp,"displayName","ReferenceDot");pp(mp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pp(mp,"renderDot",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):be(e)?r=e(t):r=N.createElement(hu,Zv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(this,arguments)}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zN(n.key),n)}}function Vee(e,t,r){return t&&Wee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hee(e,t,r){return t=Hf(t),Kee(e,UN()?Reflect.construct(t,r||[],Hf(e).constructor):t.apply(e,r))}function Kee(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UN=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}function Xee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ry(e,t)}function gp(e,t,r){return t=zN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zN(e){var t=Yee(e,"string");return Ss(t)=="symbol"?t:t+""}function Yee(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jee=function(t,r,n,a,i){var o=i.x1,s=i.x2,l=i.y1,c=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Db({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Mn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:AN(p,m)},vp=function(e){function t(){return qee(this,t),Hee(this,t,arguments)}return Xee(t,e),Vee(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;yn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=It(a),h=It(i),p=It(o),m=It(s),v=this.props.shape;if(!f&&!h&&!p&&!m&&!v)return null;var g=Jee(f,h,p,m,this.props);if(!g&&!v)return null;var y=Mn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return N.createElement(Ne,{className:je("recharts-reference-area",l)},t.renderRect(v,rS(rS({clipPath:y},he(this.props,!0)),g)),Ft.renderCallByParent(this.props,g))}}])}(N.Component);gp(vp,"displayName","ReferenceArea");gp(vp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gp(vp,"renderRect",function(e,t){var r;return N.isValidElement(e)?r=N.cloneElement(e,t):be(e)?r=e(t):r=N.createElement(Ib,ty({},t,{className:"recharts-reference-area-rect"})),r});function qN(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Qee(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HZ(n,r)}function Zee(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Kf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ete(e,t){return qN(e,t+1)}function tte(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:qN(n,c)};var v=l,g,y=function(){return g===void 0&&(g=r(m,v)),g},b=m.coordinate,x=l===0||Kf(e,b,y,d,s);x||(l=0,d=o,c+=1),x&&(d=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return Gc(t)=="symbol"?t:t+""}function ate(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ite(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(h){var p=i[h],m,v=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var g=e*(p.coordinate+e*v()/2-l);i[h]=p=tr(tr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=tr(tr({},p),{},{tickCoord:p.coordinate});var y=Kf(e,p.tickCoord,v,s,l);y&&(l=p.tickCoord-e*(v()/2+a),i[h]=tr(tr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return i}function ote(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=tr(tr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Kf(e,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-e*(f/2+a),o[s-1]=tr(tr({},d),{},{isShow:!0}))}for(var m=i?s-1:s,v=function(b){var x=o[b],j,w=function(){return j===void 0&&(j=r(x,b)),j};if(b===0){var _=e*(x.coordinate-e*w()/2-l);o[b]=x=tr(tr({},x),{},{tickCoord:_<0?x.coordinate-_*e:x.coordinate})}else o[b]=x=tr(tr({},x),{},{tickCoord:x.coordinate});var O=Kf(e,x.tickCoord,w,l,c);O&&(l=x.tickCoord+e*(w()/2+a),o[b]=tr(tr({},x),{},{isShow:!0}))},g=0;g<m;g++)v(g);return o}function zb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Q(l)||ri.isSsr)return ete(a,typeof l=="number"&&Q(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?Ul(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=function(x,j){var w=be(c)?c(x.value,j):x.value;return p==="width"?Qee(Ul(w,{fontSize:t,letterSpacing:r}),m,f):Ul(w,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?lr(a[1].coordinate-a[0].coordinate):1,y=Zee(i,g,p);return l==="equidistantPreserveStart"?tte(g,y,v,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=ote(g,y,v,a,o,l==="preserveStartEnd"):h=ite(g,y,v,a,o),h.filter(function(b){return b.isShow}))}var ste=["viewBox"],lte=["viewBox"],cte=["ticks"];function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){qb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nm(e,t){if(e==null)return{};var r=ute(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ute(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VN(n.key),n)}}function fte(e,t,r){return t&&iS(e.prototype,t),r&&iS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,r){return t=Gf(t),pte(e,WN()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function pte(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mte(e)}function mte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WN=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function gte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ny(e,t)}function qb(e,t,r){return t=VN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VN(e){var t=vte(e,"string");return Os(t)=="symbol"?t:t+""}function vte(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zs=function(e){function t(r){var n;return dte(this,t),n=hte(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gte(t,e),fte(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Nm(n,ste),s=this.props,l=s.viewBox,c=Nm(s,lte);return!Ko(i,l)||!Ko(o,c)||!Ko(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,l=a.height,c=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,v,g,y,b,x=f?-1:1,j=n.tickSize||d,w=Q(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,g=o+ +!f*l,v=g-x*j,b=v-x*h,y=w;break;case"left":v=g=n.coordinate,m=i+ +!f*s,p=m-x*j,y=p-x*h,b=w;break;case"right":v=g=n.coordinate,m=i+ +f*s,p=m+x*j,y=p+x*h,b=w;break;default:p=m=n.coordinate,g=o+ +f*l,v=g+x*j,b=v+x*h,y=w;break}return{line:{x1:p,y1:v,x2:m,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=kt(kt(kt({},he(this.props,!1)),he(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=kt(kt({},f),{},{x1:a,y1:i+h*s,x2:a+o,y2:i+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=kt(kt({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+s})}return N.createElement("line",Bo({},f,{className:je("recharts-cartesian-axis-line",Ir(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=zb(kt(kt({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),g=he(this.props,!1),y=he(d,!1),b=kt(kt({},g),{},{fill:"none"},he(l,!1)),x=p.map(function(j,w){var _=o.getTickLineCoord(j),O=_.line,P=_.tick,k=kt(kt(kt(kt({textAnchor:m,verticalAnchor:v},g),{},{stroke:"none",fill:c},y),P),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:f});return N.createElement(Ne,Bo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Xi(o.props,j,w)),l&&N.createElement("line",Bo({},b,O,{className:je("recharts-cartesian-axis-tick-line",Ir(l,"className"))})),d&&t.renderTickItem(d,k,"".concat(be(f)?f(j.value,w):j.value).concat(h||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,l=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Nm(f,cte),m=h;return be(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:N.createElement(Ne,{className:je("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Ft.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=je(a.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(n)?o=N.cloneElement(n,kt(kt({},a),{},{className:s})):be(n)?o=n(kt(kt({},a),{},{className:s})):o=N.createElement(Yi,Bo({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(E.Component);qb(Zs,"displayName","CartesianAxis");qb(Zs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yte=["x1","y1","x2","y2","key"],bte=["offset"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xte(e,t,r){return t=wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=_te(e,"string");return eo(t)=="symbol"?t:t+""}function _te(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function sS(e,t){if(e==null)return{};var r=jte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ste=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,l=t.ry;return N.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HN(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(be(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=sS(t,yte),c=he(l,!1);c.offset;var d=sS(c,bte);r=N.createElement("line",Ri({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function Ote(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=nr(nr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return HN(a,c)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ete(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,l){var c=nr(nr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return HN(a,c)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Pte(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?a+o-h:d[p+1]-h;if(v<=0)return null;var g=p%t.length;return N.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:v,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ate(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],v=m?i+s-h:d[p+1]-h;if(v<=0)return null;var g=p%n.length;return N.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:v,height:l,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kte=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return qk(zb(nr(nr(nr({},Zs.defaultProps),n),{},{ticks:ra(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Nte=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return qk(zb(nr(nr(nr({},Zs.defaultProps),n),{},{ticks:ra(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},go={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Es(e){var t,r,n,a,i,o,s=Bb(),l=Fb(),c=vee(),d=nr(nr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:go.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:go.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:go.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:go.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:go.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:go.verticalFill,x:Q(e.x)?e.x:c.left,y:Q(e.y)?e.y:c.top,width:Q(e.width)?e.width:c.width,height:Q(e.height)?e.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,v=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,b=pee(),x=mee();if(!Q(p)||p<=0||!Q(m)||m<=0||!Q(f)||f!==+f||!Q(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||kte,w=d.horizontalCoordinatesGenerator||Nte,_=d.horizontalPoints,O=d.verticalPoints;if((!_||!_.length)&&be(w)){var P=g&&g.length,k=w({yAxis:x?nr(nr({},x),{},{ticks:P?g:x.ticks}):void 0,width:s,height:l,offset:c},P?!0:v);yn(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(eo(k),"]")),Array.isArray(k)&&(_=k)}if((!O||!O.length)&&be(j)){var R=y&&y.length,$=j({xAxis:b?nr(nr({},b),{},{ticks:R?y:b.ticks}):void 0,width:s,height:l,offset:c},R?!0:v);yn(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(eo($),"]")),Array.isArray($)&&(O=$)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(Ste,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),N.createElement(Ote,Ri({},d,{offset:c,horizontalPoints:_,xAxis:b,yAxis:x})),N.createElement(Ete,Ri({},d,{offset:c,verticalPoints:O,xAxis:b,yAxis:x})),N.createElement(Pte,Ri({},d,{horizontalPoints:_})),N.createElement(Ate,Ri({},d,{verticalPoints:O})))}Es.displayName="CartesianGrid";var Cte=["type","layout","connectNulls","ref"],Tte=["key"];function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function lS(e,t){if(e==null)return{};var r=$te(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kl.apply(this,arguments)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vo(e){return Mte(e)||Dte(e)||Rte(e)||Ite()}function Ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(e,t){if(e){if(typeof e=="string")return ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ay(e,t)}}function Dte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mte(e){if(Array.isArray(e))return ay(e)}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GN(n.key),n)}}function Bte(e,t,r){return t&&uS(e.prototype,t),r&&uS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fte(e,t,r){return t=Xf(t),Ute(e,KN()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function Ute(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zte(e)}function zte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KN=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function qte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iy(e,t)}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iy(e,t)}function fn(e,t,r){return t=GN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GN(e){var t=Wte(e,"string");return Ps(t)=="symbol"?t:t+""}function Wte(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pu=function(e){function t(){var r;Lte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Fte(this,t,[].concat(a)),fn(r,"state",{isAnimationFinished:!0,totalLength:0}),fn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),fn(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/c),f=o%c,h=s-o,p=[],m=0,v=0;m<l.length;v+=l[m],++m)if(v+l[m]>f){p=[].concat(vo(l.slice(0,m)),[f-v]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(vo(t.repeat(l,d)),vo(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),fn(r,"id",oo("recharts-line-")),fn(r,"pathRef",function(o){r.mainCurve=o}),fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qte(t,e),Bte(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,l=i.yAxis,c=i.layout,d=i.children,f=Rr(d,fu);if(!f)return null;var h=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:bt(v.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return N.createElement(Ne,p,f.map(function(m){return N.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,f=he(this.props,!1),h=he(l,!0),p=c.map(function(v,g){var y=Er(Er(Er({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return N.createElement(Ne,Kl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,l=s.type,c=s.layout,d=s.connectNulls;s.ref;var f=lS(s,Cte),h=Er(Er(Er({},he(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:d});return N.createElement(zi,Kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,v=o.width,g=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return N.createElement(xn,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(b){var _=b.length/s.length,O=s.map(function(L,U){var C=Math.floor(U*_);if(b[C]){var M=b[C],B=Tt(M.x,L.x),F=Tt(M.y,L.y);return Er(Er({},L),{},{x:B(w),y:F(w)})}if(m){var A=Tt(v*2,L.x),D=Tt(g/2,L.y);return Er(Er({},L),{},{x:A(w),y:D(w)})}return Er(Er({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(O,n,a)}var P=Tt(0,x),k=P(w),R;if(l){var $="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});R=i.getStrokeDasharray(k,x,$)}else R=i.generateSimpleStrokeDasharray(x,k);return i.renderCurveStatically(s,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return s&&o&&o.length&&(!c&&d>0||!Ji(c,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,c=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,v=a.isAnimationActive,g=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=je("recharts-line",l),j=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,_=j||w,O=we(g)?this.id:g,P=(n=he(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=P.r,R=k===void 0?3:k,$=P.strokeWidth,L=$===void 0?2:$,U=RP(o)?o:{},C=U.clipDot,M=C===void 0?!0:C,B=R*2+L;return N.createElement(Ne,{className:x},j||w?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(O)},N.createElement("rect",{x:j?h:h-p/2,y:w?f:f-m/2,width:j?p:p*2,height:w?m:m*2})),!M&&N.createElement("clipPath",{id:"clipPath-dots-".concat(O)},N.createElement("rect",{x:h-B/2,y:f-B/2,width:p+B,height:m+B}))):null,!b&&this.renderCurve(_,O),this.renderErrorBar(_,O),(b||o)&&this.renderDots(_,M,O),(!v||y)&&Dn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(vo(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(vo(o),vo(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(N.isValidElement(n))i=N.cloneElement(n,a);else if(be(n))i=n(a);else{var o=a.key,s=lS(a,Tte),l=je("recharts-line-dot",typeof n!="boolean"?n.className:"");i=N.createElement(hu,Kl({key:o},s,{className:l}))}return i}}])}(E.PureComponent);fn(pu,"displayName","Line");fn(pu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ri.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(pu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,f=l.map(function(h,p){var m=bt(h,o);return d==="horizontal"?{x:Ef({axis:r,ticks:a,bandSize:s,entry:h,index:p}),y:we(m)?null:n.scale(m),value:m,payload:h}:{x:we(m)?null:r.scale(m),y:Ef({axis:n,ticks:i,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Er({points:f,layout:d},c)});var Vte=["layout","type","stroke","connectNulls","isRange","ref"],Hte=["key"],XN;function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function YN(e,t){if(e==null)return{};var r=Kte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QN(n.key),n)}}function Xte(e,t,r){return t&&fS(e.prototype,t),r&&fS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yte(e,t,r){return t=Yf(t),Jte(e,JN()?Reflect.construct(t,r||[],Yf(e).constructor):t.apply(e,r))}function Jte(e,t){if(t&&(As(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(e)}function Qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function Zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oy(e,t)}function Tn(e,t,r){return t=QN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QN(e){var t=ere(e,"string");return As(t)=="symbol"?t:t+""}function ere(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bn=function(e){function t(){var r;Gte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yte(this,t,[].concat(a)),Tn(r,"state",{isAnimationFinished:!0}),Tn(r,"id",oo("recharts-area-")),Tn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(o)&&o()}),Tn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(o)&&o()}),r}return Zte(t,e),Xte(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=he(this.props,!1),p=he(c,!0),m=d.map(function(g,y){var b=Sa(Sa(Sa({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(c,b)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return N.createElement(Ne,Di({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=n*Math.abs(l-c),f=Da(o.map(function(h){return h.y||0}));return Q(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Da(i.map(function(h){return h.y||0})),f)),Q(f)?N.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,s=a.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=n*Math.abs(l-c),f=Da(o.map(function(h){return h.x||0}));return Q(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Da(i.map(function(h){return h.x||0})),f)),Q(f)?N.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=YN(s,Vte);return N.createElement(Ne,{clipPath:i?"url(#clipPath-".concat(o,")"):null},N.createElement(zi,Di({},he(p,!0),{points:n,connectNulls:f,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&N.createElement(zi,Di({},he(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&N.createElement(zi,Di({},he(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,v=m.prevPoints,g=m.prevBaseLine;return N.createElement(xn,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(v){var x=v.length/s.length,j=s.map(function(P,k){var R=Math.floor(k*x);if(v[R]){var $=v[R],L=Tt($.x,P.x),U=Tt($.y,P.y);return Sa(Sa({},P),{},{x:L(b),y:U(b)})}return P}),w;if(Q(l)&&typeof l=="number"){var _=Tt(g,l);w=_(b)}else if(we(l)||Hs(l)){var O=Tt(g,0);w=O(b)}else w=l.map(function(P,k){var R=Math.floor(k*x);if(g[R]){var $=g[R],L=Tt($.x,P.x),U=Tt($.y,P.y);return Sa(Sa({},P),{},{x:L(b),y:U(b)})}return P});return i.renderAreaStatically(j,w,n,a)}return N.createElement(Ne,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),N.createElement(Ne,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(s,l,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,s=i.baseLine,l=i.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!Ji(d,o)||!Ji(f,s))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,l=a.className,c=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,m=a.height,v=a.isAnimationActive,g=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=je("recharts-area",l),j=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,_=j||w,O=we(g)?this.id:g,P=(n=he(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=P.r,R=k===void 0?3:k,$=P.strokeWidth,L=$===void 0?2:$,U=RP(o)?o:{},C=U.clipDot,M=C===void 0?!0:C,B=R*2+L;return N.createElement(Ne,{className:x},j||w?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(O)},N.createElement("rect",{x:j?d:d-p/2,y:w?c:c-m/2,width:j?p:p*2,height:w?m:m*2})),!M&&N.createElement("clipPath",{id:"clipPath-dots-".concat(O)},N.createElement("rect",{x:d-B/2,y:c-B/2,width:p+B,height:m+B}))):null,b?null:this.renderArea(_,O),(o||b)&&this.renderDots(_,M,O),(!v||y)&&Dn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(E.PureComponent);XN=Bn;Tn(Bn,"displayName","Area");Tn(Bn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ri.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Tn(Bn,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=o??i;if(Q(s)&&typeof s=="number")return s;var l=a==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Tn(Bn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=c&&c.length,v=XN.getBaseValue(t,r,n,a),g=p==="horizontal",y=!1,b=f.map(function(j,w){var _;m?_=c[d+w]:(_=bt(j,l),Array.isArray(_)?y=!0:_=[v,_]);var O=_[1]==null||m&&bt(j,l)==null;return g?{x:Ef({axis:n,ticks:i,bandSize:s,entry:j,index:w}),y:O?null:a.scale(_[1]),value:_,payload:j}:{x:O?null:n.scale(_[1]),y:Ef({axis:a,ticks:o,bandSize:s,entry:j,index:w}),value:_,payload:j}}),x;return m||y?x=b.map(function(j){var w=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:w!=null&&j.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:j.y}}):x=g?a.scale(v):n.scale(v),Sa({points:b,baseLine:x,layout:p,isRange:y},h)});Tn(Bn,"renderDotItem",function(e,t){var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(be(e))r=e(t);else{var n=je("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=YN(t,Hte);r=N.createElement(hu,Di({},i,{key:a,className:n}))}return r});function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function tre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tC(n.key),n)}}function nre(e,t,r){return t&&rre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function are(e,t,r){return t=Jf(t),ire(e,ZN()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function ire(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ore(e)}function ore(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZN=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function sre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sy(e,t)}function eC(e,t,r){return t=tC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tC(e){var t=lre(e,"string");return ks(t)=="symbol"?t:t+""}function lre(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function cre(e){var t=e.xAxisId,r=Bb(),n=Fb(),a=RN(t);return a==null?null:E.createElement(Zs,ly({},a,{className:je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ra(o,!0)}}))}var Fn=function(e){function t(){return tre(this,t),are(this,t,arguments)}return sre(t,e),nre(t,[{key:"render",value:function(){return E.createElement(cre,this.props)}}])}(E.Component);eC(Fn,"displayName","XAxis");eC(Fn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function ure(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aC(n.key),n)}}function fre(e,t,r){return t&&dre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hre(e,t,r){return t=Qf(t),pre(e,rC()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function pre(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(e)}function mre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function gre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cy(e,t)}function nC(e,t,r){return t=aC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aC(e){var t=vre(e,"string");return Ns(t)=="symbol"?t:t+""}function vre(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}var yre=function(t){var r=t.yAxisId,n=Bb(),a=Fb(),i=DN(r);return i==null?null:E.createElement(Zs,uy({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return ra(s,!0)}}))},Un=function(e){function t(){return ure(this,t),hre(this,t,arguments)}return gre(t,e),fre(t,[{key:"render",value:function(){return E.createElement(yre,this.props)}}])}(E.Component);nC(Un,"displayName","YAxis");nC(Un,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hS(e){return _re(e)||wre(e)||xre(e)||bre()}function bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(e,t){if(e){if(typeof e=="string")return dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dy(e,t)}}function wre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _re(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fy=function(t,r,n,a,i){var o=Rr(t,hp),s=Rr(t,mp),l=[].concat(hS(o),hS(s)),c=Rr(t,vp),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(v,g){if(g.props[d]===n&&Mn(g.props,"extendDomain")&&Q(g.props[f])){var y=g.props[f];return[Math.min(v[0],y),Math.max(v[1],y)]}return v},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(v,g){if(g.props[d]===n&&Mn(g.props,"extendDomain")&&Q(g.props[p])&&Q(g.props[m])){var y=g.props[p],b=g.props[m];return[Math.min(v[0],y,b),Math.max(v[1],y,b)]}return v},h)}return i&&i.length&&(h=i.reduce(function(v,g){return Q(g)?[Math.min(v[0],g),Math.max(v[1],g)]:v},h)),h},iC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var j=g.length,w;for(x=0;x<j;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),y){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,d);break;case 3:g[x].fn.call(g[x].context,d,f);break;case 4:g[x].fn.call(g[x].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,d,f){return i(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return i(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var v=0,g=[],y=m.length;v<y;v++)(m[v].fn!==d||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(iC);var jre=iC.exports;const Sre=ze(jre);var Cm=new Sre,Tm="recharts.syncMouseEvents";function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Ore(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ere(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oC(n.key),n)}}function Pre(e,t,r){return t&&Ere(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $m(e,t,r){return t=oC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oC(e){var t=Are(e,"string");return Xc(t)=="symbol"?t:t+""}function Are(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kre=function(){function e(){Ore(this,e),$m(this,"activeIndex",0),$m(this,"coordinateList",[]),$m(this,"layout","horizontal")}return Pre(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Nre(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Q(n)&&Q(a))return!0}return!1}function Cre(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sC(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=rt(t,r,n,a),s=rt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Tre(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,f=t.angle,h=rt(s,l,c,f),p=rt(s,l,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return sC(t);return[{x:n,y:a},{x:i,y:o}]}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){$re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t,r){return t=Ire(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ire(e){var t=Rre(e,"string");return Yc(t)=="symbol"?t:t+""}function Rre(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dre(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var m,v=zi;if(h==="ScatterChart")m=o,v=WY;else if(h==="BarChart")m=Cre(f,o,l,d),v=Ib;else if(f==="radial"){var g=sC(o),y=g.cx,b=g.cy,x=g.radius,j=g.startAngle,w=g.endAngle;m={cx:y,cy:b,startAngle:j,endAngle:w,innerRadius:x,outerRadius:x},v=eN}else m={points:Tre(f,o,l)},v=zi;var _=Yu(Yu(Yu(Yu({stroke:"#ccc",pointerEvents:"none"},l),m),he(p,!1)),{},{payload:s,payloadIndex:c,className:je("recharts-tooltip-cursor",p.className)});return E.isValidElement(p)?E.cloneElement(p,_):E.createElement(v,_)}var Mre=["item"],Lre=["children","className","width","height","style","compact","title","desc"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}function mS(e,t){return Ure(e)||Fre(e,t)||cC(e,t)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){c=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function Ure(e){if(Array.isArray(e))return e}function gS(e,t){if(e==null)return{};var r=zre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uC(n.key),n)}}function Vre(e,t,r){return t&&Wre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hre(e,t,r){return t=Zf(t),Kre(e,lC()?Reflect.construct(t,r||[],Zf(e).constructor):t.apply(e,r))}function Kre(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gre(e)}function Gre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lC=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(e)}function Xre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hy(e,t)}function Ts(e){return Qre(e)||Jre(e)||cC(e)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(e,t){if(e){if(typeof e=="string")return py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return py(e,t)}}function Jre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qre(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e,t,r){return t=uC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uC(e){var t=Zre(e,"string");return Cs(t)=="symbol"?t:t+""}function Zre(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ene={xAxis:["bottom","top"],yAxis:["left","right"]},tne={width:"100%",height:"100%"},dC={x:0,y:0};function Ju(e){return e}var rne=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},nne=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return W(W(W({},a),rt(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,c=a.angle;return W(W(W({},a),rt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return dC},yp=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Ts(s),Ts(c)):s},[]);return o.length>0?o:t&&t.length&&Q(a)&&Q(i)?t.slice(a,i+1):[]};function fC(e){return e==="number"?[0,"auto"]:void 0}var my=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=yp(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Jd(p,o.dataKey,a)}else h=f&&f[n]||s[n];return h?[].concat(Ts(l),[Gk(c,h)]):l},[])},yS=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=rne(i,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,d=h9(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=my(t,r,d,f),p=nne(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ane=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=zk(d,i);return n.reduce(function(m,v){var g,y=v.type.defaultProps!==void 0?W(W({},v.type.defaultProps),v.props):v.props,b=y.type,x=y.dataKey,j=y.allowDataOverflow,w=y.allowDuplicatedCategory,_=y.scale,O=y.ticks,P=y.includeHidden,k=y[o];if(m[k])return m;var R=yp(t.data,{graphicalItems:a.filter(function(J){var re,pe=o in J.props?J.props[o]:(re=J.type.defaultProps)===null||re===void 0?void 0:re[o];return pe===k}),dataStartIndex:l,dataEndIndex:c}),$=R.length,L,U,C;Nre(y.domain,j,b)&&(L=Av(y.domain,null,j),p&&(b==="number"||_!=="auto")&&(C=ql(R,x,"category")));var M=fC(b);if(!L||L.length===0){var B,F=(B=y.domain)!==null&&B!==void 0?B:M;if(x){if(L=ql(R,x,b),b==="category"&&p){var A=nL(L);w&&A?(U=L,L=Bf(0,$)):w||(L=L1(F,L,v).reduce(function(J,re){return J.indexOf(re)>=0?J:[].concat(Ts(J),[re])},[]))}else if(b==="category")w?L=L.filter(function(J){return J!==""&&!we(J)}):L=L1(F,L,v).reduce(function(J,re){return J.indexOf(re)>=0||re===""||we(re)?J:[].concat(Ts(J),[re])},[]);else if(b==="number"){var D=y9(R,a.filter(function(J){var re,pe,le=o in J.props?J.props[o]:(re=J.type.defaultProps)===null||re===void 0?void 0:re[o],xe="hide"in J.props?J.props.hide:(pe=J.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return le===k&&(P||!xe)}),x,i,d);D&&(L=D)}p&&(b==="number"||_!=="auto")&&(C=ql(R,x,"category"))}else p?L=Bf(0,$):s&&s[k]&&s[k].hasStack&&b==="number"?L=h==="expand"?[0,1]:Kk(s[k].stackGroups,l,c):L=Uk(R,a.filter(function(J){var re=o in J.props?J.props[o]:J.type.defaultProps[o],pe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return re===k&&(P||!pe)}),b,d,!0);if(b==="number")L=fy(f,L,k,i,O),F&&(L=Av(F,L,j));else if(b==="category"&&F){var q=F,V=L.every(function(J){return q.indexOf(J)>=0});V&&(L=q)}}return W(W({},m),{},ve({},k,W(W({},y),{},{axisType:i,domain:L,categoricalDomain:C,duplicateDomain:U,originalDomain:(g=y.domain)!==null&&g!==void 0?g:M,isCategorical:p,layout:d})))},{})},ine=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,f=t.children,h=yp(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=zk(d,i),v=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,x=b[o],j=fC("number");if(!g[x]){v++;var w;return m?w=Bf(0,p):s&&s[x]&&s[x].hasStack?(w=Kk(s[x].stackGroups,l,c),w=fy(f,w,x,i)):(w=Av(j,Uk(h,n.filter(function(_){var O,P,k=o in _.props?_.props[o]:(O=_.type.defaultProps)===null||O===void 0?void 0:O[o],R="hide"in _.props?_.props.hide:(P=_.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===x&&!R}),"number",d),a.defaultProps.allowDataOverflow),w=fy(f,w,x,i)),W(W({},g),{},ve({},x,W(W({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ir(ene,"".concat(i,".").concat(v%2),null),domain:w,originalDomain:j,isCategorical:m,layout:d})))}return g},{})},one=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Rr(d,i),p={};return h&&h.length?p=ane(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=ine(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},sne=function(t){var r=Na(t),n=ra(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Pf(r,n)}},bS=function(t){var r=t.children,n=t.defaultShowTooltip,a=kr(r,xs),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},lne=function(t){return!t||!t.length?!1:t.some(function(r){var n=ia(r&&r.type);return n&&n.indexOf("Bar")>=0})},xS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cne=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=kr(f,xs),m=kr(f,oa),v=Object.keys(l).reduce(function(w,_){var O=l[_],P=O.orientation;return!O.mirror&&!O.hide?W(W({},w),{},ve({},P,w[P]+O.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,_){var O=o[_],P=O.orientation;return!O.mirror&&!O.hide?W(W({},w),{},ve({},P,Ir(w,"".concat(P))+O.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=W(W({},g),v),b=y.bottom;p&&(y.bottom+=p.props.height||xs.defaultProps.height),m&&r&&(y=g9(y,a,n,r));var x=c-y.left-y.right,j=d-y.top-y.bottom;return W(W({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(j,0)})},une=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},bp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var x=b.graphicalItems,j=b.stackGroups,w=b.offset,_=b.updateId,O=b.dataStartIndex,P=b.dataEndIndex,k=y.barSize,R=y.layout,$=y.barGap,L=y.barCategoryGap,U=y.maxBarSize,C=xS(R),M=C.numericAxisName,B=C.cateAxisName,F=lne(x),A=[];return x.forEach(function(D,q){var V=yp(y.data,{graphicalItems:[D],dataStartIndex:O,dataEndIndex:P}),J=D.type.defaultProps!==void 0?W(W({},D.type.defaultProps),D.props):D.props,re=J.dataKey,pe=J.maxBarSize,le=J["".concat(M,"Id")],xe=J["".concat(B,"Id")],He={},Ke=l.reduce(function(vt,Vt){var jn=b["".concat(Vt.axisType,"Map")],Wn=J["".concat(Vt.axisType,"Id")];jn&&jn[Wn]||Vt.axisType==="zAxis"||Zi();var Qt=jn[Wn];return W(W({},vt),{},ve(ve({},Vt.axisType,Qt),"".concat(Vt.axisType,"Ticks"),ra(Qt)))},He),ee=Ke[B],te=Ke["".concat(B,"Ticks")],ne=j&&j[le]&&j[le].hasStack&&P9(D,j[le].stackGroups),G=ia(D.type).indexOf("Bar")>=0,Se=Pf(ee,te),T=[],X=F&&p9({barSize:k,stackGroups:j,totalSize:une(Ke,B)});if(G){var de,ce,Re=we(pe)?U:pe,gt=(de=(ce=Pf(ee,te,!0))!==null&&ce!==void 0?ce:Re)!==null&&de!==void 0?de:0;T=m9({barGap:$,barCategoryGap:L,bandSize:gt!==Se?gt:Se,sizeList:X[xe],maxBarSize:Re}),gt!==Se&&(T=T.map(function(vt){return W(W({},vt),{},{position:W(W({},vt.position),{},{offset:vt.position.offset-gt/2})})}))}var Wt=D&&D.type&&D.type.getComposedData;Wt&&A.push({props:W(W({},Wt(W(W({},Ke),{},{displayedData:V,props:y,dataKey:re,item:D,bandSize:Se,barPosition:T,offset:w,stackedData:ne,layout:R,dataStartIndex:O,dataEndIndex:P}))),{},ve(ve(ve({key:D.key||"item-".concat(q)},M,Ke[M]),B,Ke[B]),"animationId",_)),childIndex:mL(D,y.children),item:D})}),A},p=function(y,b){var x=y.props,j=y.dataStartIndex,w=y.dataEndIndex,_=y.updateId;if(!Tw({props:x}))return null;var O=x.children,P=x.layout,k=x.stackOffset,R=x.data,$=x.reverseStackOrder,L=xS(P),U=L.numericAxisName,C=L.cateAxisName,M=Rr(O,n),B=O9(R,M,"".concat(U,"Id"),"".concat(C,"Id"),k,$),F=l.reduce(function(J,re){var pe="".concat(re.axisType,"Map");return W(W({},J),{},ve({},pe,one(x,W(W({},re),{},{graphicalItems:M,stackGroups:re.axisType===U&&B,dataStartIndex:j,dataEndIndex:w}))))},{}),A=cne(W(W({},F),{},{props:x,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(F).forEach(function(J){F[J]=d(x,F[J],A,J.replace("Map",""),r)});var D=F["".concat(C,"Map")],q=sne(D),V=h(x,W(W({},F),{},{dataStartIndex:j,dataEndIndex:w,updateId:_,graphicalItems:M,stackGroups:B,offset:A}));return W(W({formattedGraphicalItems:V,graphicalItems:M,offset:A,stackGroups:B},q),F)},m=function(g){function y(b){var x,j,w;return qre(this,y),w=Hre(this,y,[b]),ve(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(w,"accessibilityManager",new kre),ve(w,"handleLegendBBoxUpdate",function(_){if(_){var O=w.state,P=O.dataStartIndex,k=O.dataEndIndex,R=O.updateId;w.setState(W({legendBBox:_},p({props:w.props,dataStartIndex:P,dataEndIndex:k,updateId:R},W(W({},w.state),{},{legendBBox:_}))))}}),ve(w,"handleReceiveSyncEvent",function(_,O,P){if(w.props.syncId===_){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(O)}}),ve(w,"handleBrushChange",function(_){var O=_.startIndex,P=_.endIndex;if(O!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return W({dataStartIndex:O,dataEndIndex:P},p({props:w.props,dataStartIndex:O,dataEndIndex:P,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:O,dataEndIndex:P})}}),ve(w,"handleMouseEnter",function(_){var O=w.getMouseInfo(_);if(O){var P=W(W({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var k=w.props.onMouseEnter;be(k)&&k(P,_)}}),ve(w,"triggeredAfterMouseMove",function(_){var O=w.getMouseInfo(_),P=O?W(W({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var k=w.props.onMouseMove;be(k)&&k(P,_)}),ve(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ve(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ve(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),ve(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};w.setState(O),w.triggerSyncEvent(O);var P=w.props.onMouseLeave;be(P)&&P(O,_)}),ve(w,"handleOuterEvent",function(_){var O=pL(_),P=Ir(w.props,"".concat(O));if(O&&be(P)){var k,R;/.*touch.*/i.test(O)?R=w.getMouseInfo(_.changedTouches[0]):R=w.getMouseInfo(_),P((k=R)!==null&&k!==void 0?k:{},_)}}),ve(w,"handleClick",function(_){var O=w.getMouseInfo(_);if(O){var P=W(W({},O),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var k=w.props.onClick;be(k)&&k(P,_)}}),ve(w,"handleMouseDown",function(_){var O=w.props.onMouseDown;if(be(O)){var P=w.getMouseInfo(_);O(P,_)}}),ve(w,"handleMouseUp",function(_){var O=w.props.onMouseUp;if(be(O)){var P=w.getMouseInfo(_);O(P,_)}}),ve(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ve(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),ve(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),ve(w,"handleDoubleClick",function(_){var O=w.props.onDoubleClick;if(be(O)){var P=w.getMouseInfo(_);O(P,_)}}),ve(w,"handleContextMenu",function(_){var O=w.props.onContextMenu;if(be(O)){var P=w.getMouseInfo(_);O(P,_)}}),ve(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&Cm.emit(Tm,w.props.syncId,_,w.eventEmitterSymbol)}),ve(w,"applySyncEvent",function(_){var O=w.props,P=O.layout,k=O.syncMethod,R=w.state.updateId,$=_.dataStartIndex,L=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(W({dataStartIndex:$,dataEndIndex:L},p({props:w.props,dataStartIndex:$,dataEndIndex:L,updateId:R},w.state)));else if(_.activeTooltipIndex!==void 0){var U=_.chartX,C=_.chartY,M=_.activeTooltipIndex,B=w.state,F=B.offset,A=B.tooltipTicks;if(!F)return;if(typeof k=="function")M=k(A,_);else if(k==="value"){M=-1;for(var D=0;D<A.length;D++)if(A[D].value===_.activeLabel){M=D;break}}var q=W(W({},F),{},{x:F.left,y:F.top}),V=Math.min(U,q.x+q.width),J=Math.min(C,q.y+q.height),re=A[M]&&A[M].value,pe=my(w.state,w.props.data,M),le=A[M]?{x:P==="horizontal"?A[M].coordinate:V,y:P==="horizontal"?J:A[M].coordinate}:dC;w.setState(W(W({},_),{},{activeLabel:re,activeCoordinate:le,activePayload:pe,activeTooltipIndex:M}))}else w.setState(_)}),ve(w,"renderCursor",function(_){var O,P=w.state,k=P.isTooltipActive,R=P.activeCoordinate,$=P.activePayload,L=P.offset,U=P.activeTooltipIndex,C=P.tooltipAxisBandSize,M=w.getTooltipEventType(),B=(O=_.props.active)!==null&&O!==void 0?O:k,F=w.props.layout,A=_.key||"_recharts-cursor";return N.createElement(Dre,{key:A,activeCoordinate:R,activePayload:$,activeTooltipIndex:U,chartName:r,element:_,isActive:B,layout:F,offset:L,tooltipAxisBandSize:C,tooltipEventType:M})}),ve(w,"renderPolarAxis",function(_,O,P){var k=Ir(_,"type.axisType"),R=Ir(w.state,"".concat(k,"Map")),$=_.type.defaultProps,L=$!==void 0?W(W({},$),_.props):_.props,U=R&&R[L["".concat(k,"Id")]];return E.cloneElement(_,W(W({},U),{},{className:je(k,U.className),key:_.key||"".concat(O,"-").concat(P),ticks:ra(U,!0)}))}),ve(w,"renderPolarGrid",function(_){var O=_.props,P=O.radialLines,k=O.polarAngles,R=O.polarRadius,$=w.state,L=$.radiusAxisMap,U=$.angleAxisMap,C=Na(L),M=Na(U),B=M.cx,F=M.cy,A=M.innerRadius,D=M.outerRadius;return E.cloneElement(_,{polarAngles:Array.isArray(k)?k:ra(M,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(R)?R:ra(C,!0).map(function(q){return q.coordinate}),cx:B,cy:F,innerRadius:A,outerRadius:D,key:_.key||"polar-grid",radialLines:P})}),ve(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,O=w.props,P=O.children,k=O.width,R=O.height,$=w.props.margin||{},L=k-($.left||0)-($.right||0),U=Bk({children:P,formattedGraphicalItems:_,legendWidth:L,legendContent:c});if(!U)return null;var C=U.item,M=gS(U,Mre);return E.cloneElement(C,W(W({},M),{},{chartWidth:k,chartHeight:R,margin:$,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ve(w,"renderTooltip",function(){var _,O=w.props,P=O.children,k=O.accessibilityLayer,R=kr(P,sr);if(!R)return null;var $=w.state,L=$.isTooltipActive,U=$.activeCoordinate,C=$.activePayload,M=$.activeLabel,B=$.offset,F=(_=R.props.active)!==null&&_!==void 0?_:L;return E.cloneElement(R,{viewBox:W(W({},B),{},{x:B.left,y:B.top}),active:F,label:M,payload:F?C:[],coordinate:U,accessibilityLayer:k})}),ve(w,"renderBrush",function(_){var O=w.props,P=O.margin,k=O.data,R=w.state,$=R.offset,L=R.dataStartIndex,U=R.dataEndIndex,C=R.updateId;return E.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Hu(w.handleBrushChange,_.props.onChange),data:k,x:Q(_.props.x)?_.props.x:$.left,y:Q(_.props.y)?_.props.y:$.top+$.height+$.brushBottom-(P.bottom||0),width:Q(_.props.width)?_.props.width:$.width,startIndex:L,endIndex:U,updateId:"brush-".concat(C)})}),ve(w,"renderReferenceElement",function(_,O,P){if(!_)return null;var k=w,R=k.clipPathId,$=w.state,L=$.xAxisMap,U=$.yAxisMap,C=$.offset,M=_.type.defaultProps||{},B=_.props,F=B.xAxisId,A=F===void 0?M.xAxisId:F,D=B.yAxisId,q=D===void 0?M.yAxisId:D;return E.cloneElement(_,{key:_.key||"".concat(O,"-").concat(P),xAxis:L[A],yAxis:U[q],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:R})}),ve(w,"renderActivePoints",function(_){var O=_.item,P=_.activePoint,k=_.basePoint,R=_.childIndex,$=_.isRange,L=[],U=O.props.key,C=O.item.type.defaultProps!==void 0?W(W({},O.item.type.defaultProps),O.item.props):O.item.props,M=C.activeDot,B=C.dataKey,F=W(W({index:R,dataKey:B,cx:P.x,cy:P.y,r:4,fill:$b(O.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},he(M,!1)),Qd(M));return L.push(y.renderActiveDot(M,F,"".concat(U,"-activePoint-").concat(R))),k?L.push(y.renderActiveDot(M,W(W({},F),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat(R))):$&&L.push(null),L}),ve(w,"renderGraphicChild",function(_,O,P){var k=w.filterFormatItem(_,O,P);if(!k)return null;var R=w.getTooltipEventType(),$=w.state,L=$.isTooltipActive,U=$.tooltipAxis,C=$.activeTooltipIndex,M=$.activeLabel,B=w.props.children,F=kr(B,sr),A=k.props,D=A.points,q=A.isRange,V=A.baseLine,J=k.item.type.defaultProps!==void 0?W(W({},k.item.type.defaultProps),k.item.props):k.item.props,re=J.activeDot,pe=J.hide,le=J.activeBar,xe=J.activeShape,He=!!(!pe&&L&&F&&(re||le||xe)),Ke={};R!=="axis"&&F&&F.props.trigger==="click"?Ke={onClick:Hu(w.handleItemMouseEnter,_.props.onClick)}:R!=="axis"&&(Ke={onMouseLeave:Hu(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Hu(w.handleItemMouseEnter,_.props.onMouseEnter)});var ee=E.cloneElement(_,W(W({},k.props),Ke));function te(Vt){return typeof U.dataKey=="function"?U.dataKey(Vt.payload):null}if(He)if(C>=0){var ne,G;if(U.dataKey&&!U.allowDuplicatedCategory){var Se=typeof U.dataKey=="function"?te:"payload.".concat(U.dataKey.toString());ne=Jd(D,Se,M),G=q&&V&&Jd(V,Se,M)}else ne=D==null?void 0:D[C],G=q&&V&&V[C];if(xe||le){var T=_.props.activeIndex!==void 0?_.props.activeIndex:C;return[E.cloneElement(_,W(W(W({},k.props),Ke),{},{activeIndex:T})),null,null]}if(!we(ne))return[ee].concat(Ts(w.renderActivePoints({item:k,activePoint:ne,basePoint:G,childIndex:C,isRange:q})))}else{var X,de=(X=w.getItemByXY(w.state.activeCoordinate))!==null&&X!==void 0?X:{graphicalItem:ee},ce=de.graphicalItem,Re=ce.item,gt=Re===void 0?_:Re,Wt=ce.childIndex,vt=W(W(W({},k.props),Ke),{},{activeIndex:Wt});return[E.cloneElement(gt,vt),null,null]}return q?[ee,null,null]:[ee,null]}),ve(w,"renderCustomized",function(_,O,P){return E.cloneElement(_,W(W({key:"recharts-customized-".concat(P)},w.props),w.state))}),ve(w,"renderMap",{CartesianGrid:{handler:Ju,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Ju},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Ju},YAxis:{handler:Ju},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:oo("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=LA(w.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return Xre(y,g),Vre(y,[{key:"componentDidMount",value:function(){var x,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,j=x.children,w=x.data,_=x.height,O=x.layout,P=kr(j,sr);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,$=my(this.state,w,k,R),L=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+_)/2,C=O==="horizontal",M=C?{x:L,y:U}:{y:L,x:U},B=this.state.formattedGraphicalItems.find(function(A){var D=A.item;return D.type.name==="Scatter"});B&&(M=W(W({},M),B.props.points[k].tooltipPosition),$=B.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:R,activePayload:$,activeCoordinate:M};this.setState(F),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(x){qg([kr(x.children,sr)],[kr(this.props.children,sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=kr(this.props.children,sr);if(x&&typeof x.props.shared=="boolean"){var j=x.props.shared?"axis":"item";return s.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),_=U7(w),O={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},P=w.width/j.offsetWidth||1,k=this.inRange(O.chartX,O.chartY,P);if(!k)return null;var R=this.state,$=R.xAxisMap,L=R.yAxisMap,U=this.getTooltipEventType(),C=yS(this.state,this.props.data,this.props.layout,k);if(U!=="axis"&&$&&L){var M=Na($).scale,B=Na(L).scale,F=M&&M.invert?M.invert(O.chartX):null,A=B&&B.invert?B.invert(O.chartY):null;return W(W({},O),{},{xValue:F,yValue:A},C)}return C?W(W({},O),C):null}},{key:"inRange",value:function(x,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,O=x/w,P=j/w;if(_==="horizontal"||_==="vertical"){var k=this.state.offset,R=O>=k.left&&O<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return R?{x:O,y:P}:null}var $=this.state,L=$.angleAxisMap,U=$.radiusAxisMap;if(L&&U){var C=Na(L);return U1({x:O,y:P},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,j=this.getTooltipEventType(),w=kr(x,sr),_={};w&&j==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Qd(this.props,this.handleOuterEvent);return W(W({},O),_)}},{key:"addListener",value:function(){Cm.on(Tm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cm.removeListener(Tm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,j,w){for(var _=this.state.formattedGraphicalItems,O=0,P=_.length;O<P;O++){var k=_[O];if(k.item===x||k.props.key===x.key||j===ia(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,j=this.state.offset,w=j.left,_=j.top,O=j.height,P=j.width;return N.createElement("defs",null,N.createElement("clipPath",{id:x},N.createElement("rect",{x:w,y:_,height:O,width:P})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(j,w){var _=mS(w,2),O=_[0],P=_[1];return W(W({},j),{},ve({},O,P.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(j,w){var _=mS(w,2),O=_[0],P=_[1];return W(W({},j),{},ve({},O,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(x){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[x])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(x){var j=this.state,w=j.formattedGraphicalItems,_=j.activeItem;if(w&&w.length)for(var O=0,P=w.length;O<P;O++){var k=w[O],R=k.props,$=k.item,L=$.type.defaultProps!==void 0?W(W({},$.type.defaultProps),$.props):$.props,U=ia($.type);if(U==="Bar"){var C=(R.data||[]).find(function(A){return SY(x,A)});if(C)return{graphicalItem:k,payload:C}}else if(U==="RadialBar"){var M=(R.data||[]).find(function(A){return U1(x,A)});if(M)return{graphicalItem:k,payload:M}}else if(up(k,_)||dp(k,_)||Wc(k,_)){var B=fQ({graphicalItem:k,activeTooltipItem:_,itemData:L.data}),F=L.activeIndex===void 0?B:L.activeIndex;return{graphicalItem:W(W({},k),{},{childIndex:F}),payload:Wc(k,_)?L.data[B]:k.props.data[B]}}}return null}},{key:"render",value:function(){var x=this;if(!Tw(this))return null;var j=this.props,w=j.children,_=j.className,O=j.width,P=j.height,k=j.style,R=j.compact,$=j.title,L=j.desc,U=gS(j,Lre),C=he(U,!1);if(R)return N.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(Vg,Fo({},C,{width:O,height:P,title:$,desc:L}),this.renderClipPath(),Iw(w,this.renderMap)));if(this.props.accessibilityLayer){var M,B;C.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,C.role=(B=this.props.role)!==null&&B!==void 0?B:"application",C.onKeyDown=function(A){x.accessibilityManager.keyboardEvent(A)},C.onFocus=function(){x.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return N.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Fo({className:je("recharts-wrapper",_),style:W({position:"relative",cursor:"default",width:O,height:P},k)},F,{ref:function(D){x.container=D}}),N.createElement(Vg,Fo({},C,{width:O,height:P,title:$,desc:L,style:tne}),this.renderClipPath(),Iw(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);ve(m,"displayName",r),ve(m,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(m,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,x=g.data,j=g.children,w=g.width,_=g.height,O=g.layout,P=g.stackOffset,k=g.margin,R=y.dataStartIndex,$=y.dataEndIndex;if(y.updateId===void 0){var L=bS(g);return W(W(W({},L),{},{updateId:0},p(W(W({props:g},L),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:O,prevStackOffset:P,prevMargin:k,prevChildren:j})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||_!==y.prevHeight||O!==y.prevLayout||P!==y.prevStackOffset||!Ko(k,y.prevMargin)){var U=bS(g),C={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=W(W({},yS(y,x,O)),{},{updateId:y.updateId+1}),B=W(W(W({},U),C),M);return W(W(W({},B),p(W({props:g},B),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:_,prevLayout:O,prevStackOffset:P,prevMargin:k,prevChildren:j})}if(!qg(j,y.prevChildren)){var F,A,D,q,V=kr(j,xs),J=V&&(F=(A=V.props)===null||A===void 0?void 0:A.startIndex)!==null&&F!==void 0?F:R,re=V&&(D=(q=V.props)===null||q===void 0?void 0:q.endIndex)!==null&&D!==void 0?D:$,pe=J!==R||re!==$,le=!we(x),xe=le&&!pe?y.updateId:y.updateId+1;return W(W({updateId:xe},p(W(W({props:g},y),{},{updateId:xe,dataStartIndex:J,dataEndIndex:re}),y)),{},{prevChildren:j,dataStartIndex:J,dataEndIndex:re})}return null}),ve(m,"renderActiveDot",function(g,y,b){var x;return E.isValidElement(g)?x=E.cloneElement(g,y):be(g)?x=g(y):x=N.createElement(hu,y),N.createElement(Ne,{className:"recharts-active-dot",key:b},x)});var v=E.forwardRef(function(y,b){return N.createElement(m,Fo({},y,{ref:b}))});return v.displayName=m.displayName,v},dne=bp({chartName:"LineChart",GraphicalChild:pu,axisComponents:[{axisType:"xAxis",AxisComp:Fn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Rb}),hC=bp({chartName:"BarChart",GraphicalChild:oi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Rb}),fne=bp({chartName:"PieChart",GraphicalChild:ba,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cp},{axisType:"radiusAxis",AxisComp:sp}],formatAxisMap:M9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),pC=bp({chartName:"AreaChart",GraphicalChild:Bn,axisComponents:[{axisType:"xAxis",AxisComp:Fn},{axisType:"yAxis",AxisComp:Un}],formatAxisMap:Rb}),hne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ae=(e,t)=>{const r=E.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>E.createElement("svg",{ref:c,...hne,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${pne(e)}`,...l},[...t.map(([d,f])=>E.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${e}`,r},mC=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mne=Ae("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),gne=Ae("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),gy=Ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),vy=Ae("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),vne=Ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),wS=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),to=Ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),yne=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Wb=Ae("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),bne=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),_S=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jS=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xne=Ae("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),wne=Ae("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),gC=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),na=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Qu=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),yy=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_ne=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jne=Ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Ut=Ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Sne=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),One=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ene=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Pne=Ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ane=Ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),kne=Ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Wr=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),vC=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Nne=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Cne=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yC=Ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),bC=Ae("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Gl=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Tne=Ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),by=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xy=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Xl=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$ne=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mu=Ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),fe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Mt=e=>{if(!e)return"-";const t=e.split("T")[0],[r,n,a]=t.split("-");return`${a}/${n}/${r}`},Ine=(e,t,r,n)=>{const a=`${e}-${t}-${r}-${n}`;let i=0;for(let o=0;o<a.length;o++){const s=a.charCodeAt(o);i=(i<<5)-i+s,i=i&i}return Math.abs(i).toString(16)},Rne=e=>{const t=[],r=/<STMTTRN>([\s\S]*?)<\/STMTTRN>/g;return[...e.matchAll(r)].forEach(a=>{const i=a[1],o=i.match(/<DTPOSTED>(.*)/),s=i.match(/<TRNAMT>(.*)/),l=i.match(/<FITID>(.*)/),c=i.match(/<MEMO>(.*)/);if(s&&o&&l){const d=o[1].trim().substring(0,8),f=`${d.substring(0,4)}-${d.substring(4,6)}-${d.substring(6,8)}`,h=parseFloat(s[1].replace(",",".")),p=l[1].trim(),m=c?c[1].trim():"Sem descrio";t.push({fitid:p,date:f,amount:h,description:m,type:h<0?"DEBIT":"CREDIT",hash:Ine(f,h,m,p)})}}),t};var Vb={},eh={},wy=function(e,t){return wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},wy(e,t)};function xC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var th=function(){return th=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},th.apply(this,arguments)};function el(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wC(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function _C(e,t){return function(r,n){t(r,n,e)}}function jC(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var m={};for(var v in n)m[v]=v==="access"?{}:n[v];for(var v in n.access)m.access[v]=n.access[v];m.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var g=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],m);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=o(g.get))&&(d.get=f),(f=o(g.set))&&(d.set=f),(f=o(g.init))&&a.unshift(f)}else(f=o(g))&&(s==="field"?a.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function SC(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function OC(e){return typeof e=="symbol"?e:"".concat(e)}function EC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function PC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function se(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function AC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var xp=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function kC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xp(t,e,r)}function rh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hb(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function NC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hb(arguments[t]));return e}function CC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function TC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function $s(e){return this instanceof $s?(this.v=e,this):new $s(e)}function $C(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(p){return function(m){return Promise.resolve(m).then(p,f)}}function s(p,m){n[p]&&(a[p]=function(v){return new Promise(function(g,y){i.push([p,v,g,y])>1||l(p,v)})},m&&(a[p]=m(a[p])))}function l(p,m){try{c(n[p](m))}catch(v){h(i[0][3],v)}}function c(p){p.value instanceof $s?Promise.resolve(p.value.v).then(d,f):h(i[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function h(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function IC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:$s(e[a](o)),done:!1}:i?i(o):o}:i}}function RC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof rh=="function"?rh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,l){o=e[i](o),a(s,l,o.done,o.value)})}}function a(i,o,s,l){Promise.resolve(l).then(function(c){i({value:c,done:s})},o)}}function DC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Dne=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},_y=function(e){return _y=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},_y(e)};function MC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=_y(e),n=0;n<r.length;n++)r[n]!=="default"&&xp(t,e,r[n]);return Dne(t,e),t}function LC(e){return e&&e.__esModule?e:{default:e}}function BC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function FC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function UC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function zC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Mne=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function qC(e){function t(i){e.error=e.hasError?new Mne(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function WC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const Lne={__extends:xC,__assign:th,__rest:el,__decorate:wC,__param:_C,__esDecorate:jC,__runInitializers:SC,__propKey:OC,__setFunctionName:EC,__metadata:PC,__awaiter:se,__generator:AC,__createBinding:xp,__exportStar:kC,__values:rh,__read:Hb,__spread:NC,__spreadArrays:CC,__spreadArray:TC,__await:$s,__asyncGenerator:$C,__asyncDelegator:IC,__asyncValues:RC,__makeTemplateObject:DC,__importStar:MC,__importDefault:LC,__classPrivateFieldGet:BC,__classPrivateFieldSet:FC,__classPrivateFieldIn:UC,__addDisposableResource:zC,__disposeResources:qC,__rewriteRelativeImportExtension:WC},Bne=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zC,get __assign(){return th},__asyncDelegator:IC,__asyncGenerator:$C,__asyncValues:RC,__await:$s,__awaiter:se,__classPrivateFieldGet:BC,__classPrivateFieldIn:UC,__classPrivateFieldSet:FC,__createBinding:xp,__decorate:wC,__disposeResources:qC,__esDecorate:jC,__exportStar:kC,__extends:xC,__generator:AC,__importDefault:LC,__importStar:MC,__makeTemplateObject:DC,__metadata:PC,__param:_C,__propKey:OC,__read:Hb,__rest:el,__rewriteRelativeImportExtension:WC,__runInitializers:SC,__setFunctionName:EC,__spread:NC,__spreadArray:TC,__spreadArrays:CC,__values:rh,default:Lne},Symbol.toStringTag,{value:"Module"})),Fne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let wp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},VC=class extends wp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},jy=class extends wp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Sy=class extends wp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var nh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nh||(nh={}));class Une{constructor(t,{headers:r={},customFetch:n,region:a=nh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Fne(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return se(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:s,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let g=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(g=o.signal,d.addEventListener("abort",()=>o.abort())):g=o.signal);const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:g}).catch(w=>{throw new VC(w)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new jy(y);if(!y.ok)throw new Sy(y);let x=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return x==="application/json"?j=yield y.json():x==="application/octet-stream"||x==="application/pdf"?j=yield y.blob():x==="text/event-stream"?j=y:x==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof Sy||s instanceof jy?s.context:void 0}}finally{i&&clearTimeout(i)}})}}const zne=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return nh},FunctionsClient:Une,FunctionsError:wp,FunctionsFetchError:VC,FunctionsHttpError:Sy,FunctionsRelayError:jy},Symbol.toStringTag,{value:"Module"})),HC=Zc(zne);var ar={};const tl=Zc(Bne);var Zu={},ed={},td={},rd={},nd={},ad={},SS;function KC(){if(SS)return ad;SS=1,Object.defineProperty(ad,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ad.default=e,ad}var OS;function GC(){if(OS)return nd;OS=1,Object.defineProperty(nd,"__esModule",{value:!0});const t=tl.__importDefault(KC());let r=class{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f,h;let p=null,m=null,v=null,g=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=w:m=JSON.parse(w))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,g=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(m=[],p=null,g=200,y="OK")}catch{l.status===404&&x===""?(g=204,y="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,g=200,y="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:m,count:v,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,f,h,p,m;let v="";const g=l==null?void 0:l.cause;if(g){const y=(c=g==null?void 0:g.message)!==null&&c!==void 0?c:"",b=(d=g==null?void 0:g.code)!==null&&d!==void 0?d:"";v=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(h=g==null?void 0:g.name)!==null&&h!==void 0?h:"Error"}: ${y}`,b&&(v+=` (${b})`),g!=null&&g.stack&&(v+=`
${g.stack}`)}else v=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(a,i)}returns(){return this}overrideTypes(){return this}};return nd.default=r,nd}var ES;function XC(){if(ES)return rd;ES=1,Object.defineProperty(rd,"__esModule",{value:!0});const t=tl.__importDefault(GC());let r=class extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return rd.default=r,rd}var PS;function Kb(){if(PS)return td;PS=1,Object.defineProperty(td,"__esModule",{value:!0});const t=tl.__importDefault(XC()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}};return td.default=n,td}var AS;function YC(){if(AS)return ed;AS=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=tl.__importDefault(Kb());let r=class{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return ed.default=r,ed}var kS;function qne(){if(kS)return Zu;kS=1,Object.defineProperty(Zu,"__esModule",{value:!0});const e=tl,t=e.__importDefault(YC()),r=e.__importDefault(Kb());let n=class JC{constructor(i,{headers:o={},schema:s,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new JC(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let p;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([v,g])=>g!==void 0).map(([v,g])=>[v,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([v,g])=>{h.searchParams.append(v,g)})):(f="POST",p=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Zu.default=n,Zu}Object.defineProperty(ar,"__esModule",{value:!0});ar.PostgrestError=ar.PostgrestBuilder=ar.PostgrestTransformBuilder=ar.PostgrestFilterBuilder=ar.PostgrestQueryBuilder=ar.PostgrestClient=void 0;const rl=tl,QC=rl.__importDefault(qne());ar.PostgrestClient=QC.default;const ZC=rl.__importDefault(YC());ar.PostgrestQueryBuilder=ZC.default;const eT=rl.__importDefault(Kb());ar.PostgrestFilterBuilder=eT.default;const tT=rl.__importDefault(XC());ar.PostgrestTransformBuilder=tT.default;const rT=rl.__importDefault(GC());ar.PostgrestBuilder=rT.default;const nT=rl.__importDefault(KC());ar.PostgrestError=nT.default;ar.default={PostgrestClient:QC.default,PostgrestQueryBuilder:ZC.default,PostgrestFilterBuilder:eT.default,PostgrestTransformBuilder:tT.default,PostgrestBuilder:rT.default,PostgrestError:nT.default};class aT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Wne="2.86.2",Vne=`realtime-js/${Wne}`,iT="1.0.0",Hne="2.0.0",NS=iT,Oy=1e4,Kne=1e3,Gne=100;var Pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pi||(Pi={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hn||(hn={}));var Ey;(function(e){e.websocket="websocket"})(Ey||(Ey={}));var Ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ai||(Ai={}));class Xne{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,s=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,s.length),m.setUint8(v++,o.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,r),Array.from(l,y=>m.setUint8(v++,y.charCodeAt(0))),Array.from(s,y=>m.setUint8(v++,y.charCodeAt(0))),Array.from(o,y=>m.setUint8(v++,y.charCodeAt(0))),Array.from(c,y=>m.setUint8(v++,y.charCodeAt(0))),Array.from(f,y=>m.setUint8(v++,y.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,s,l]=n;return r({join_ref:a,ref:i,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class oT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qe||(Qe={}));const CS=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Yne(o,e,t,a),i),{}):{}},Yne=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?sT(i,o):Py(o)},sT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eae(t,r)}switch(e){case Qe.bool:return Jne(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return Qne(t);case Qe.json:case Qe.jsonb:return Zne(t);case Qe.timestamp:return tae(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Py(t);default:return Py(t)}},Py=e=>e,Jne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Qne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zne=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>sT(t,s))}return e},tae=e=>typeof e=="string"?e.replace(" ","T"):e,lT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Im{constructor(t,r,n={},a=Oy){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ay;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ay||(Ay={}));let cT=class _d{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_d.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=_d.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_d.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(s[c]=m),v.length>0&&(l[c]=v)}else s[c]=d}),this.syncDiff(i,{joins:s,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,a(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ky;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ky||(ky={}));var Yo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yo||(Yo={}));var An;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));const rae=jt;let uT=class dT{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Im(this,hn.join,this.params,this.timeout),this.rejoinTimer=new oT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new cT(this),this.broadcastEndpointURL=lT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Yo.PRESENCE]&&this.bindings[Yo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(An.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(An.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(An.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,y=[];for(let b=0;b<g;b++){const x=v[b],{filter:{event:j,schema:w,table:_,filter:O}}=x,P=p&&p[b];if(P&&P.event===j&&P.schema===w&&P.table===_&&P.filter===O)y.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=jt.errored,t==null||t(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(An.SUBSCRIBED);return}}).receive("error",p=>{this.state=jt.errored,t==null||t(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===jt.joined&&t===Yo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Im(this,hn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Im(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Gne){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=hn;if(n&&[s,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,v,g,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:g,commit_timestamp:y,type:b,errors:x}=m;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&dT.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=CS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=CS(t.columns,t.old_record)),r}};const Rm=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nae=[1e3,2e3,5e3,1e4],aae=1e4,iae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let oae=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oy,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rm,this.ref=0,this.reconnectTimer=null,this.vsn=NS,this.logger=Rm,this.conn=null,this.sendBuffer=[],this.serializer=new Xne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ey.websocket}`,this.httpEndpoint=lT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pi.connecting:return Ai.Connecting;case Pi.open:return Ai.Open;case Pi.closing:return Ai.Closing;default:return Ai.Closed}}isConnected(){return this.connectionState()===Ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new uT(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Kne,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${s}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pi.open||this.conn.readyState===Pi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Vne};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(hn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new oT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,l,c,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Oy,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:id.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Rm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:NS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>nae[m-1]||aae,this.vsn){case iT:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case Hne:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const sae=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:rae,get REALTIME_LISTEN_TYPES(){return Yo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return ky},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ay},get REALTIME_SUBSCRIBE_STATES(){return An},RealtimeChannel:uT,RealtimeClient:oae,RealtimePresence:cT,WebSocketFactory:aT},Symbol.toStringTag,{value:"Module"})),fT=Zc(sae);class gu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hT extends gu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ah extends gu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lae=()=>Response,Ny=e=>{if(Array.isArray(e))return e.map(r=>Ny(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Ny(n)}),t},cae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uae=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Dm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},dae=(e,t,r)=>se(void 0,void 0,void 0,function*(){const n=yield lae();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new hT(Dm(a),i,o))}).catch(a=>{t(new ah(Dm(a),a))}):t(new ah(Dm(e),e))}),fae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(cae(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function vu(e,t,r,n,a,i){return se(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,fae(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dae(l,s,n))})})}function Jc(e,t,r,n){return se(this,void 0,void 0,function*(){return vu(e,"GET",t,r,n)})}function cn(e,t,r,n,a){return se(this,void 0,void 0,function*(){return vu(e,"POST",t,n,a,r)})}function Cy(e,t,r,n,a){return se(this,void 0,void 0,function*(){return vu(e,"PUT",t,n,a,r)})}function hae(e,t,r,n){return se(this,void 0,void 0,function*(){return vu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Xb(e,t,r,n,a){return se(this,void 0,void 0,function*(){return vu(e,"DELETE",t,n,a,r)})}class pae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var pT;class mae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[pT]="BlobDownloadBuilder",this.promise=null}asStream(){return new pae(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}pT=Symbol.toStringTag;const gae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vae{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},TS),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?Cy:cn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:TS.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Cy(this.fetch,s.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new gu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return se(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return se(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield cn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return se(this,void 0,void 0,function*(){try{const a=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),l=()=>Jc(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new mae(l,this.shouldThrowOnError)}info(t){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Jc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ny(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hae(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof ah){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return se(this,void 0,void 0,function*(){try{return{data:yield Xb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return se(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},gae),r),{prefix:t||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(t,r){return se(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mT="2.86.2",gT={"X-Client-Info":`storage-js/${mT}`};class yae{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gT),r),this.fetch=Gb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Jc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t){return se(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return se(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield Xb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Qc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bae(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function xae(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wae(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const s=bae(e.baseUrl,n,a),l=await xae(e.auth),c=await t(s,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new Qc((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function od(e){return e.join("")}var _ae=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:od(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${od(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${od(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${od(e.namespace)}`}),!0}catch(t){if(t instanceof Qc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Qc&&r.status===409)return;throw r}}};function yo(e){return e.join("")}var jae=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Qc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Qc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Sae=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wae({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _ae(this.client,t),this.tableOps=new jae(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class vT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gT),r),this.fetch=Gb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(t){return se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Jc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield Xb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(t){if(!uae(t))throw new gu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Sae({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Yb={"X-Client-Info":`storage-js/${mT}`,"Content-Type":"application/json"};class Jb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jd extends Jb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yT extends Jb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ty;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ty||(Ty={}));const _p=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Oae=()=>Response,bT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eae=e=>Array.from(new Float32Array(e)),Pae=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},$S=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Aae=(e,t,r)=>se(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new jd($S(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new jd(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new jd(s,a,o))}}else t(new yT($S(e),e))}),kae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(bT(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Nae(e,t,r,n,a,i){return se(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,kae(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Aae(l,s,n))})})}function Cr(e,t,r,n,a){return se(this,void 0,void 0,function*(){return Nae(e,"POST",t,n,a,r)})}class xT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=_p(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return se(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}listIndexes(t){return se(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return se(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}}class wT{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=_p(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Cr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getVectors(t){return se(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listVectors(t){return se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Cr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}queryVectors(t){return se(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Cr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}}class _T{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yb),r),this.fetch=_p(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBuckets(){return se(this,arguments,void 0,function*(t={}){try{return{data:yield Cr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Cr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}}class jT extends _T{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new ST(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return se(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return se(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return se(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class ST extends xT{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new OT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class OT extends wT{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cae extends yae{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new vae(this.url,this.headers,t,this.fetch)}get vectors(){return new jT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vT(this.url+"/iceberg",this.headers,this.fetch)}}const Tae=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vT,StorageApiError:hT,StorageClient:Cae,StorageError:gu,StorageUnknownError:ah,StorageVectorsApiError:jd,StorageVectorsClient:jT,StorageVectorsError:Jb,get StorageVectorsErrorCode(){return Ty},StorageVectorsUnknownError:yT,VectorBucketApi:_T,VectorBucketScope:ST,VectorDataApi:wT,VectorIndexApi:xT,VectorIndexScope:OT,isPlainObject:bT,isStorageError:lt,isStorageVectorsError:gr,normalizeToFloat32:Eae,resolveFetch:_p,resolveResponse:Oae,validateVectorDimension:Pae},Symbol.toStringTag,{value:"Module"})),$ae=Zc(Tae);var ET={},jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.version=void 0;jp.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=jp;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(ET);var PT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,i,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,d)=>{var f;const h=(f=await i())!==null&&f!==void 0?f:a;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=n})(PT);var si={};Object.defineProperty(si,"__esModule",{value:!0});si.isBrowser=void 0;si.uuid=Iae;si.ensureTrailingSlash=AT;si.applySettingDefaults=Dae;si.validateSupabaseUrl=Mae;function Iae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function AT(e){return e.endsWith("/")?e:e+"/"}const Rae=()=>typeof window<"u";si.isBrowser=Rae;function Dae(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Mae(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sp={};const kT="2.86.2",_o=30*1e3,$y=3,Mm=$y*_o,Lae="http://localhost:9999",Bae="supabase.auth.token",Fae={"X-Client-Info":`gotrue-js/${kT}`},Iy="X-Supabase-Api-Version",NT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Uae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zae=10*60*1e3;let Is=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let CT=class extends Is{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function TT(e){return ue(e)&&e.name==="AuthApiError"}let Ca=class extends Is{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},xa=class extends Is{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},pr=class extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function $T(e){return ue(e)&&e.name==="AuthSessionMissingError"}let ji=class extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},kl=class extends xa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Nl=class extends xa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function IT(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}let Ry=class extends xa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ih=class extends xa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Sd(e){return ue(e)&&e.name==="AuthRetryableFetchError"}let Dy=class extends xa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function qae(e){return ue(e)&&e.name==="AuthWeakPasswordError"}let oh=class extends xa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IS=` 	
\r=`.split(""),Wae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IS.length;t+=1)e[IS[t].charCodeAt(0)]=-2;for(let t=0;t<sh.length;t+=1)e[sh[t].charCodeAt(0)]=t;return e})();function RS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sh[n]),t.queuedBits-=6}}function RT(e,t,r){const n=Wae[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function DS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Kae(o,n,r)};for(let o=0;o<e.length;o+=1)RT(e.charCodeAt(o),a,i);return t.join("")}function Vae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hae(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Vae(n,t)}}function Kae(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)RT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Gae(e){const t=[];return Hae(e,r=>t.push(r)),new Uint8Array(t)}function Mi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RS(a,r,n)),RS(null,r,n),t.join("")}function Xae(e){return Math.round(Date.now()/1e3)+e}function Yae(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",gi={tested:!1,writable:!1},DT=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gi.tested)return gi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gi.tested=!0,gi.writable=!0}catch{gi.tested=!0,gi.writable=!1}return gi.writable};function Jae(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const MT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},vi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ht=async(e,t)=>{await e.removeItem(t)};class Op{constructor(){this.promise=new Op.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Op.promiseConstructor=Promise;function Lm(e){const t=e.split(".");if(t.length!==3)throw new oh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Uae.test(t[n]))throw new oh("JWT not in base64url format");return{header:JSON.parse(DS(t[0])),payload:JSON.parse(DS(t[1])),signature:Jo(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eie(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function tie(e){return("0"+e.toString(16)).substr(-2)}function rie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,tie).join("")}async function nie(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function aie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nie(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bo(e,t,r=!1){const n=rie();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await jo(e,`${t}-code-verifier`,a);const i=await aie(n);return[i,n===i?"plain":"s256"]}const iie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oie(e){const t=e.headers.get(Iy);if(!t||!t.match(iie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sie(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xo(e){if(!cie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uie(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function MS(e){return JSON.parse(JSON.stringify(e))}const Si=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),die=[502,503,504];async function LS(e){var t;if(!Qae(e))throw new ih(Si(e),0);if(die.includes(e.status))throw new ih(Si(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ca(Si(i),i)}let n;const a=oie(e);if(a&&a.getTime()>=NT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Dy(Si(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Dy(Si(r),e.status,r.weak_password.reasons);throw new CT(Si(r),e.status||500,n)}const fie=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ye(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Iy]||(i[Iy]=NT["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hie(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hie(e,t,r,n,a,i){const o=fie(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new ih(Si(l),0)}if(s.ok||await LS(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await LS(l)}}function sn(e){var t;let r=null;gie(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Xae(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BS(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ta(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pie(e){return{data:e,error:null}}function mie(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=el(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function FS(e){return e}function gie(e){return e.access_token&&e.refresh_token&&e.expires_in}const Od=["global","local","others"];let Qb=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Od[0]){if(Od.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Od.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=el(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:mie,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ta})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FS});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){xo(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ta})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xo(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ta})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){xo(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){xo(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xo(t.userId),xo(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FS});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}};function US(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Oi={debug:!!(globalThis&&DT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let LT=class extends Zb{};class vie extends Zb{}async function BT(e,t,r){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const zS={};async function yie(e,t,r){var n;const a=(n=zS[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([a.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new vie(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return zS[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await a,null;throw o}),await i}function bie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function FT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function xie(e){return parseInt(e,16)}function wie(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _ie(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=FT(e.address),m=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${g}
${y}`}class Ot extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class lh extends Ot{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function jie({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(UT(o)){if(i.rp.id!==o)return new Ot({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sie({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(UT(n)){if(r.rpId!==n)return new Ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Oie{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Eie=new Oie;function Pie(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=el(e,["challenge","user","excludeCredentials"]),i=Jo(t).buffer,o=Object.assign(Object.assign({},r),{id:Jo(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Jo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function Aie(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=el(e,["challenge","allowCredentials"]),a=Jo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Jo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function kie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(a.authenticatorData)),clientDataJSON:Mi(new Uint8Array(a.clientDataJSON)),signature:Mi(new Uint8Array(a.signature)),userHandle:a.userHandle?Mi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qS(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cie(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",t)}:{data:null,error:new lh("Empty credential response",t)}}catch(t){return{data:null,error:jie({error:t,options:e})}}}async function Tie(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",t)}:{data:null,error:new lh("Empty credential response",t)}}catch(t){return{data:null,error:Sie({error:t,options:e})}}}const $ie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Iie={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ch(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=ch(s,o):n[i]=ch(o)}else n[i]=o}return n}function Rie(e,t){return ch($ie,e,t||{})}function Die(e,t){return ch(Iie,e,t||{})}class Mie{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=a??Eie.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Rie(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Cie({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=Die(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Tie(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Ca("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!qS())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Ca("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!qS())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Ca("Unexpected error in register",o)}}}}bie();const Lie={url:Lae,storageKey:Bae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function WS(e,t,r){return await r()}const wo={};let ex=class My{get jwks(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Lie),t);if(this.storageKey=i.storageKey,this.instanceID=(r=My.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,My.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Kt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=MT(i.fetch),this.lock=i.lock||WS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=BT:this.lock=WS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mie(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:DT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=US(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=US(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Kt()&&(r=Jae(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),IT(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?this._returnResult({error:r}):this._returnResult({error:new Ca("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:sn}),{data:o,error:s}=i;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await bo(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:sn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sn})}else throw new kl("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return await Ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:BS})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:BS})}else throw new kl("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new ji;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,l,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:y,options:b}=t;let x;if(Kt())if(typeof g=="object")x=g;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")x=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=FT(w[0]);let O=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const k=await x.request({method:"eth_chainId"});O=xie(k)}const P={domain:j.host,address:_,statement:y,uri:j.href,version:"1",chainId:O,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=_ie(P),m=await x.request({method:"personal_sign",params:[wie(p),_]})}try{const{data:v,error:g}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sn});if(g)throw g;if(!v||!v.session||!v.user){const y=new ji;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,i,o,s,l,c,d,f,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:b,options:x}=t;let j;if(Kt())if(typeof y=="object")j=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let O;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")O=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)O=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)m=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),v=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Mi(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sn});if(y)throw y;if(!g||!g.session||!g.user){const b=new ji;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(ue(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await vi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sn});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const s=new ji;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ji;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await bo(this.storage,this.storageKey));const{error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new kl("You must provide either an email or phone number.")}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:sn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await bo(this.storage,this.storageKey));const c=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:pie});return!((i=c.data)===null||i===void 0)&&i.url&&Kt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pr;const{error:a}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new kl("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await vi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Bm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=uie(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ta}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ta})})}catch(r){if(ue(r))return $T(r)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new pr;const o=a.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await bo(this.storage,this.storageKey));const{data:c,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ta});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Lm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new Nl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ry("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ry("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!i||!s||!o||!c)throw new Nl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(TT(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Yae(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await bo(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ji}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eie(async a=>(a>0&&await Zae(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Sd(i)&&Date.now()+o-n<_o})}catch(n){if(this._debug(r,"error",n),ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await vi(this.storage,this.storageKey);if(a&&this.userStorage){let o=await vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await jo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Bm()}else if(a&&!a.user&&!a.user){const o=await vi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ht(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,a)):a.user=Bm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Mm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Sd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Op;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),ue(i)){const o={data:null,error:i};return Sd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ht(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=MS(a);await jo(this.storage,this.storageKey,i)}else{const a=MS(r);await jo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_o}ms, refresh threshold is ${$y} ticks`),a<=$y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kie(t.webauthn.credential_response):Nie(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Pie(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Aie(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Lm(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pr})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new pr});const o=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new pr});const o=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Kt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pr})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pr})})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+zae>a)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:l}}=Lm(n);r!=null&&r.allowExpired||sie(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=lie(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Gae(`${s}.${l}`)))throw new oh("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}};ex.nextInstanceID={};const Bie=Qb,Fie=ex,Uie=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Bie,AuthApiError:CT,AuthClient:Fie,AuthError:Is,AuthImplicitGrantRedirectError:Nl,AuthInvalidCredentialsError:kl,AuthInvalidJwtError:oh,AuthInvalidTokenResponseError:ji,AuthPKCEGrantCodeExchangeError:Ry,AuthRetryableFetchError:ih,AuthSessionMissingError:pr,AuthUnknownError:Ca,AuthWeakPasswordError:Dy,CustomAuthError:xa,GoTrueAdminApi:Qb,GoTrueClient:ex,NavigatorLockAcquireTimeoutError:LT,SIGN_OUT_SCOPES:Od,isAuthApiError:TT,isAuthError:ue,isAuthImplicitGrantRedirectError:IT,isAuthRetryableFetchError:Sd,isAuthSessionMissingError:$T,isAuthWeakPasswordError:qae,lockInternals:Oi,navigatorLock:BT,processLock:yie},Symbol.toStringTag,{value:"Module"})),zT=Zc(Uie);Object.defineProperty(Sp,"__esModule",{value:!0});Sp.SupabaseAuthClient=void 0;const zie=zT;class qie extends zie.AuthClient{constructor(t){super(t)}}Sp.SupabaseAuthClient=qie;Object.defineProperty(eh,"__esModule",{value:!0});const Wie=HC,Vie=ar,Hie=fT,Kie=$ae,sd=ET,Gie=PT,VS=si,Xie=Sp;let Yie=class{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=(0,VS.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:sd.DEFAULT_DB_OPTIONS,realtime:sd.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},sd.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:sd.DEFAULT_GLOBAL_OPTIONS},d=(0,VS.applySettingDefaults)(n??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,Gie.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Vie.PostgrestClient(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Kie.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Wie.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:l,debug:c,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xie.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Hie.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};eh.default=Yie;(function(e){var t=kn&&kn.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var m=Object.getOwnPropertyDescriptor(f,h);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,m)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=kn&&kn.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=kn&&kn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(eh);r(zT,e);var i=ar;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=HC;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(fT,e);var s=eh;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(d,f,h)=>new a.default(d,f,h);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Vb);const qT=ze(Vb),Jie=eO({__proto__:null,default:qT},[Vb]),{PostgrestError:sse,FunctionsHttpError:lse,FunctionsFetchError:cse,FunctionsRelayError:use,FunctionsError:dse,FunctionRegion:fse,SupabaseClient:hse,createClient:Qie,GoTrueAdminApi:pse,GoTrueClient:mse,AuthAdminApi:gse,AuthClient:vse,navigatorLock:yse,NavigatorLockAcquireTimeoutError:bse,lockInternals:xse,processLock:wse,SIGN_OUT_SCOPES:_se,AuthError:jse,AuthApiError:Sse,AuthUnknownError:Ose,CustomAuthError:Ese,AuthSessionMissingError:Pse,AuthInvalidTokenResponseError:Ase,AuthInvalidCredentialsError:kse,AuthImplicitGrantRedirectError:Nse,AuthPKCEGrantCodeExchangeError:Cse,AuthRetryableFetchError:Tse,AuthWeakPasswordError:$se,AuthInvalidJwtError:Ise,isAuthError:Rse,isAuthApiError:Dse,isAuthSessionMissingError:Mse,isAuthImplicitGrantRedirectError:Lse,isAuthRetryableFetchError:Bse,isAuthWeakPasswordError:Fse,RealtimePresence:Use,RealtimeChannel:zse,RealtimeClient:qse,REALTIME_LISTEN_TYPES:Wse,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Vse,REALTIME_PRESENCE_LISTEN_EVENTS:Hse,REALTIME_SUBSCRIBE_STATES:Kse,REALTIME_CHANNEL_STATES:Gse}=qT||Jie,Zie={VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtldnpxamZmd2Jjanh2b2ViZmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODk3MDAsImV4cCI6MjA3Mjg2NTcwMH0.ZFY7lNM4iUadRAyR4AyJoQzarPpJZT6diPCctPB-zx0",VITE_SUPABASE_URL:"https://kevzqjffwbcjxvoebfll.supabase.co"};var eoe={};const toe="https://kevzqjffwbcjxvoebfll.supabase.co",roe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtldnpxamZmd2Jjanh2b2ViZmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODk3MDAsImV4cCI6MjA3Mjg2NTcwMH0.ZFY7lNM4iUadRAyR4AyJoQzarPpJZT6diPCctPB-zx0",Rs=(typeof import.meta<"u"?Zie:void 0)||(typeof process<"u"?eoe:{})||{},noe=Rs.VITE_SUPABASE_URL||Rs.SUPABASE_URL||""||toe,aoe=Rs.VITE_SUPABASE_ANON_KEY||Rs.SUPABASE_ANON_KEY||""||roe;(!Rs.VITE_SUPABASE_URL||!Rs.VITE_SUPABASE_ANON_KEY)&&console.warn(" Configure VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY em um arquivo .env.local (com o ponto). Usando fallback temporrio.");const ioe=typeof window<"u"?window.localStorage:void 0,K=Qie(noe,aoe,{auth:{flowType:"pkce",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:ioe,storageKey:"sb-kevzqjffwbcjxvoebfll-auth"}}),ooe={DINHEIRO:{diasAtePrimeiroRecebimento:0,intervaloDias:0},PIX:{diasAtePrimeiroRecebimento:0,intervaloDias:0},DEBITO:{diasAtePrimeiroRecebimento:1,intervaloDias:0},CREDITO:{diasAtePrimeiroRecebimento:30,intervaloDias:30},BOLETO:{usarDataVencimento:!0},CONVENIO:{diasAtePrimeiroRecebimento:30,intervaloDias:30},OUTRO:{diasAtePrimeiroRecebimento:0,intervaloDias:0}},HS=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},KS=(e,t)=>{const r=new Date(e);return r.setMonth(r.getMonth()+t),r},soe=(e,t)=>{const r=Math.floor(e/t*100)/100,n=Array(t).fill(r),a=r*t,i=Math.round((e-a)*100)/100;return n[n.length-1]=Math.round((n[n.length-1]+i)*100)/100,n};function loe(e){const t=[];return e.forEach(r=>{const n=Math.max(1,r.numeroParcelas||1),a=soe(r.valorTotal,n),i=[];if(r.tipo==="RECEITA"){const o=ooe[r.formaPagamento],s=o.usarDataVencimento&&r.dataVencimento?r.dataVencimento:r.dataEmissao,l=o.diasAtePrimeiroRecebimento?HS(s,o.diasAtePrimeiroRecebimento):s;for(let c=0;c<n;c++)o.intervaloDias&&c>0?i.push(HS(l,o.intervaloDias*c)):!o.intervaloDias&&c>0?i.push(KS(l,c)):i.push(l)}else{const o=r.dataVencimento||r.dataEmissao;for(let s=0;s<n;s++)i.push(KS(o,s))}a.forEach((o,s)=>{const l=r.status==="REALIZADO"&&!!r.dataBaixa;t.push({lancamentoId:r.id,tipo:r.tipo,dataPrevista:i[s]||r.dataEmissao,valor:o,status:l?"REALIZADO":"PREVISTO",dataRealizado:l?r.dataBaixa:void 0})})}),t}function coe(e){const t=new Map;return e.forEach(r=>{const n=r.dataPrevista.toISOString().split("T")[0],a=t.get(n)||{data:new Date(n),totalReceitasPrevistas:0,totalDespesasPrevistas:0,saldoPrevistoDia:0};r.tipo==="RECEITA"?a.totalReceitasPrevistas+=r.valor:a.totalDespesasPrevistas+=r.valor,a.saldoPrevistoDia=a.totalReceitasPrevistas-a.totalDespesasPrevistas,t.set(n,a)}),Array.from(t.values()).sort((r,n)=>r.data.getTime()-n.data.getTime())}function uoe(e){const t=new Map;return e.forEach(r=>{const n=r.dataPrevista.getFullYear(),a=r.dataPrevista.getMonth()+1,i=`${n}-${a}`,o=t.get(i)||{ano:n,mes:a,totalReceitasPrevistas:0,totalDespesasPrevistas:0,saldoPrevistoMes:0};r.tipo==="RECEITA"?o.totalReceitasPrevistas+=r.valor:o.totalDespesasPrevistas+=r.valor,o.saldoPrevistoMes=o.totalReceitasPrevistas-o.totalDespesasPrevistas,t.set(i,o)}),Array.from(t.values()).sort((r,n)=>r.ano-n.ano||r.mes-n.mes)}function doe(e,t){let r=t;return e.map(n=>(r+=n.saldoPrevistoDia,{...n,saldoAcumulado:r}))}const WT=E.createContext(void 0),foe=({children:e})=>{const[t,r]=E.useState(null),[n,a]=E.useState(null),[i,o]=E.useState(null),[s,l]=E.useState(null),[c,d]=E.useState(!0),[f,h]=E.useState(null),p=async w=>{if(!w){o(null),l(null);return}const{data:_}=await K.from("profiles").select("*").eq("id",w.id).maybeSingle();o(_);const{data:O}=await K.from("clinic_users").select("*").eq("user_id",w.id).eq("ativo",!0).order("created_at",{ascending:!1}).maybeSingle();l(O??null)},m=async()=>{var _,O;const{data:w}=await K.auth.getSession();r(w.session),a(((_=w.session)==null?void 0:_.user)??null),await p(((O=w.session)==null?void 0:O.user)??null)};E.useEffect(()=>{let w=!0;K.auth.getSession().then(({data:O})=>{var P,k;w&&(r(O.session),a(((P=O.session)==null?void 0:P.user)??null),p(((k=O.session)==null?void 0:k.user)??null).finally(()=>d(!1)))});const{data:_}=K.auth.onAuthStateChange((O,P)=>{r(P),a((P==null?void 0:P.user)??null),p((P==null?void 0:P.user)??null)});return()=>{w=!1,_.subscription.unsubscribe()}},[]);const v=E.useMemo(()=>{const w=(i==null?void 0:i.role)||(s==null?void 0:s.role)||"user";return w==="owner"||w==="admin"||w==="user"?w:"user"},[i==null?void 0:i.role,s==null?void 0:s.role]),g=E.useMemo(()=>(i==null?void 0:i.clinic_id)||(s==null?void 0:s.clinic_id)||null,[i==null?void 0:i.clinic_id,s==null?void 0:s.clinic_id]),y=v==="admin"||v==="owner",b=E.useMemo(()=>y?f??null:g,[y,g,f]);E.useEffect(()=>{if(!y){h(null);return}const w=typeof window<"u"?window.localStorage.getItem("adminActiveClinicId"):null;w&&h(w)},[y]);const x=w=>{h(w),typeof window<"u"&&(w===null?window.localStorage.removeItem("adminActiveClinicId"):window.localStorage.setItem("adminActiveClinicId",w))};E.useEffect(()=>{},[n==null?void 0:n.id,v,g]);const j={session:t,user:n,profile:i,clinicUser:s,role:v,clinicId:g,isAdmin:y,effectiveClinicId:b,selectedClinicId:f,setSelectedClinicId:x,loading:c,refresh:m};return u.jsx(WT.Provider,{value:j,children:e})};function _n(){const e=E.useContext(WT);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const hoe=()=>{const{effectiveClinicId:e,isAdmin:t,selectedClinicId:r}=_n(),[n,a]=M0(),[i,o]=E.useState(!0),[s,l]=E.useState([]),[c,d]=E.useState([]),[f,h]=E.useState([]),[p,m]=E.useState([]),[v,g]=E.useState(()=>new Date(new Date().getFullYear(),new Date().getMonth(),1)),[y,b]=E.useState(()=>new Date(new Date().getFullYear(),new Date().getMonth()+1,0)),[x,j]=E.useState(()=>n.get("tab")==="caixa"?"caixa":"dre");E.useEffect(()=>{if(!e&&!t)return;(async()=>{o(!0);try{const D=e;let q=K.from("revenues").select("id, description, valor_liquido, valor_bruto, data_competencia, data_recebimento, forma_pagamento, parcelas, status, categories(name), bank_account_id");D&&(q=q.eq("clinic_id",D));const{data:V}=await q;let J=K.from("expenses").select("id, description, valor, data_competencia, data_pagamento, forma_pagamento, parcelas, status, categories(name), bank_account_id");D&&(J=J.eq("clinic_id",D));const{data:re}=await J;let pe=K.from("bank_accounts").select("current_balance");D&&(pe=pe.eq("clinic_id",D));const{data:le}=await pe;l(le||[]),h(V||[]),m(re||[]);const xe=te=>te?new Date(te):void 0,He=te=>{const ne=(te||"").toUpperCase();return ne.includes("CRED")?"CREDITO":ne.includes("DEB")?"DEBITO":ne.includes("PIX")?"PIX":ne.includes("BOLE")?"BOLETO":ne.includes("CONV")?"CONVENIO":ne.includes("DIN")?"DINHEIRO":"OUTRO"},Ke=[];(V||[]).forEach(te=>{const ne=xe(te.data_competencia);ne&&Ke.push({id:te.id,tipo:"RECEITA",descricao:te.description||"Receita",dataEmissao:ne,dataVencimento:xe(te.data_recebimento),formaPagamento:He(te.forma_pagamento),valorTotal:te.valor_liquido||te.valor_bruto||0,numeroParcelas:parseInt(te.parcelas||1,10),status:te.status==="paid"?"REALIZADO":"PREVISTO",dataBaixa:xe(te.data_recebimento)})}),(re||[]).forEach(te=>{const ne=xe(te.data_competencia);ne&&Ke.push({id:te.id,tipo:"DESPESA",descricao:te.description||"Despesa",dataEmissao:ne,dataVencimento:xe(te.data_pagamento),formaPagamento:He(te.forma_pagamento),valorTotal:te.valor||0,numeroParcelas:parseInt(te.parcelas||1,10),status:te.status==="paid"?"REALIZADO":"PREVISTO",dataBaixa:xe(te.data_pagamento)})});const ee=loe(Ke);d(ee)}catch(D){console.error("Erro ao carregar dashboard:",D)}finally{o(!1)}})()},[e,t,r]);const w=A=>{if(!A)return!1;const D=A instanceof Date?A:new Date(A);return D>=v&&D<=y},_=E.useMemo(()=>s.reduce((A,D)=>A+(D.current_balance||0),0),[s]),O=E.useMemo(()=>{const A=new Map;return p.filter(D=>w(D.data_pagamento||D.data_competencia)).forEach(D=>{var V;const q=((V=D.categories)==null?void 0:V.name)||"Outros";A.set(q,(A.get(q)||0)+(D.valor||0))}),Array.from(A.entries()).map(([D,q])=>({name:D,value:q}))},[p,v,y]),P=["#0ea5e9","#ef4444","#eab308","#a855f7","#f97316","#10b981"],k=E.useMemo(()=>f.filter(A=>w(A.data_competencia)).reduce((A,D)=>A+(D.valor_liquido||D.valor_bruto||0),0),[f,v,y]),R=E.useMemo(()=>p.filter(A=>w(A.data_pagamento||A.data_competencia)).reduce((A,D)=>A+(D.valor||0),0),[p,v,y]),$=E.useMemo(()=>c.filter(A=>w(A.dataPrevista)),[c,v,y]),L=E.useMemo(()=>{const A=coe($),D=(s||[]).reduce((q,V)=>q+(V.current_balance||0),0);return doe(A,D)},[$,s]),U=E.useMemo(()=>$.filter(A=>A.tipo==="RECEITA").reduce((A,D)=>A+D.valor,0),[$]),C=E.useMemo(()=>$.filter(A=>A.tipo==="DESPESA").reduce((A,D)=>A+D.valor,0),[$]),M=E.useMemo(()=>uoe($),[$]),B=A=>{const D=new Date;if(A==="today")g(new Date(D.getFullYear(),D.getMonth(),D.getDate())),b(new Date(D.getFullYear(),D.getMonth(),D.getDate()));else if(A==="week"){const q=new Date(D),V=new Date(D);V.setDate(V.getDate()+6),g(q),b(V)}else A==="month"?(g(new Date(D.getFullYear(),D.getMonth(),1)),b(new Date(D.getFullYear(),D.getMonth()+1,0))):(g(new Date(D.getFullYear(),0,1)),b(new Date(D.getFullYear(),11,31)))},F=A=>{j(A),n.set("tab",A),a(n)};return i?u.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[u.jsx(Ut,{size:48,className:"animate-spin mb-4 text-brand-500"}),u.jsx("p",{children:"Carregando indicadores financeiros..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Viso Geral"}),u.jsx("p",{className:"text-gray-500",children:"Resumo financeiro em tempo real"})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("button",{onClick:()=>F("dre"),className:`px-4 py-2 text-sm rounded-lg border ${x==="dre"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"DRE"}),u.jsx("button",{onClick:()=>F("caixa"),className:`px-4 py-2 text-sm rounded-lg border ${x==="caixa"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Fluxo de Caixa"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row md:items-center gap-3",children:[u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>B("today"),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Dia"}),u.jsx("button",{onClick:()=>B("week"),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Semana"}),u.jsx("button",{onClick:()=>B("month"),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Ms"}),u.jsx("button",{onClick:()=>B("year"),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Ano"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(to,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"date",value:v.toISOString().split("T")[0],onChange:A=>g(new Date(A.target.value)),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-brand-500 focus:border-brand-500"})]}),u.jsx("span",{className:"text-gray-400",children:"at"}),u.jsxs("div",{className:"relative",children:[u.jsx(to,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"date",value:y.toISOString().split("T")[0],onChange:A=>b(new Date(A.target.value)),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-brand-500 focus:border-brand-500"})]})]})]}),x==="dre"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Saldo em Contas"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:fe(_)})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:u.jsx(mu,{size:24})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Receitas (competncia)"}),u.jsx("h3",{className:"text-2xl font-bold text-green-600",children:fe(k)})]}),u.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center text-green-600",children:u.jsx(gne,{size:24})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Despesas (competncia)"}),u.jsx("h3",{className:"text-2xl font-bold text-red-600",children:fe(R)})]}),u.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center text-red-600",children:u.jsx(mne,{size:24})})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"DRE (competncia)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg border border-gray-100 bg-green-50",children:[u.jsx("p",{className:"text-xs uppercase text-gray-600",children:"Receitas"}),u.jsx("p",{className:"text-xl font-bold text-green-700",children:fe(k)})]}),u.jsxs("div",{className:"p-4 rounded-lg border border-gray-100 bg-red-50",children:[u.jsx("p",{className:"text-xs uppercase text-gray-600",children:"Despesas"}),u.jsx("p",{className:"text-xl font-bold text-red-700",children:fe(R)})]}),u.jsxs("div",{className:"p-4 rounded-lg border border-gray-100 bg-blue-50",children:[u.jsx("p",{className:"text-xs uppercase text-gray-600",children:"Resultado"}),u.jsx("p",{className:"text-xl font-bold text-blue-700",children:fe(k-R)})]})]})]})]}),x==="caixa"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Faturamento emitido (ms)"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(k)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Recebimento previsto (ms)"}),u.jsx("p",{className:"text-xl font-bold text-green-600",children:fe(U)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100",children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Pagamento previsto (ms)"}),u.jsx("p",{className:"text-xl font-bold text-red-600",children:fe(C)})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Fluxo de Caixa (Saldo Previsto)"}),u.jsx("div",{className:"h-72",children:L.length>0?u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(dne,{data:L.map(A=>({data:A.data.toISOString().split("T")[0],saldo:A.saldoAcumulado})),children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"saldoColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),u.jsx(Es,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Fn,{dataKey:"data",tick:{fill:"#94a3b8",fontSize:12}}),u.jsx(Un,{tick:{fill:"#94a3b8",fontSize:12},tickFormatter:A=>`R$${(A/1e3).toFixed(1)}k`}),u.jsx(sr,{formatter:A=>fe(A)}),u.jsx(hp,{y:0,stroke:"#ef4444",strokeDasharray:"4 4"}),u.jsx(pu,{type:"monotone",dataKey:"saldo",stroke:"#0ea5e9",strokeWidth:2,dot:!1,fillOpacity:1,fill:"url(#saldoColor)"})]})}):u.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:"Nenhuma previso no perodo."})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Despesas por Categoria"}),u.jsx("div",{className:"h-72 flex items-center justify-center",children:O.length>0?u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(fne,{children:[u.jsx(ba,{data:O,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:O.map((A,D)=>u.jsx(Xh,{fill:P[D%P.length]},A.name||`cell-${D}`))}),u.jsx(sr,{formatter:A=>fe(A)}),u.jsx(oa,{verticalAlign:"bottom",height:36})]})}):u.jsx("div",{className:"text-gray-400 text-sm",children:"Sem despesas para exibir grfico."})})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fluxo Previsto (perodo)"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left text-sm",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-500 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2",children:"Data"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Receitas"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Despesas"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Saldo do Dia"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Saldo Acumulado"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[L.map(A=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 text-gray-700",children:A.data.toLocaleDateString("pt-BR")}),u.jsx("td",{className:"px-4 py-2 text-right text-green-600 font-medium",children:fe(A.totalReceitasPrevistas)}),u.jsx("td",{className:"px-4 py-2 text-right text-red-600 font-medium",children:fe(A.totalDespesasPrevistas)}),u.jsx("td",{className:"px-4 py-2 text-right font-semibold",children:fe(A.saldoPrevistoDia)}),u.jsx("td",{className:"px-4 py-2 text-right font-semibold",children:fe(A.saldoAcumulado)})]},A.data.toString())),L.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"Sem previses registradas."})})]})]})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fluxo Previsto (mensal)"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left text-sm",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-500 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2",children:"Competncia"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Receitas"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Despesas"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Saldo"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[M.map(A=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsxs("td",{className:"px-4 py-2 text-gray-700",children:[String(A.mes).padStart(2,"0"),"/",A.ano]}),u.jsx("td",{className:"px-4 py-2 text-right text-green-600 font-medium",children:fe(A.totalReceitasPrevistas)}),u.jsx("td",{className:"px-4 py-2 text-right text-red-600 font-medium",children:fe(A.totalDespesasPrevistas)}),u.jsx("td",{className:"px-4 py-2 text-right font-semibold",children:fe(A.saldoPrevistoMes)})]},`${A.ano}-${A.mes}`)),M.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-400",children:"Sem previses mensais."})})]})]})})]})]})]})},GS=["Carto de Crdito","Carto de Dbito","PIX","Boleto","Dinheiro","Transferncia Bancria","Cheque"],Fm={"Carto de Crdito":"2.99","Carto de Dbito":"1.50",PIX:"0.50",Boleto:"0",Dinheiro:"0","Transferncia Bancria":"0",Cheque:"0"},Um=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString().split("T")[0]},ld=(e,t)=>{const r=new Date(e);return r.setMonth(r.getMonth()+t),r.toISOString().split("T")[0]},poe=(e,t)=>{let r=new Date(e),n=0;for(;n<t;){r.setDate(r.getDate()+1);const a=r.getDay();a!==0&&a!==6&&n++}return r.toISOString().split("T")[0]},XS=({type:e})=>{const t=e==="income",r=t?"revenues":"expenses",{clinicId:n,isAdmin:a,selectedClinicId:i}=_n(),o=(a?i:n)||n||null,[s,l]=E.useState(!0),[c,d]=E.useState([]),[f,h]=E.useState([]),[p,m]=E.useState([]),[v,g]=E.useState([]),[y,b]=E.useState([]),[x,j]=E.useState([]),[w,_]=E.useState([]),[O,P]=E.useState(""),[k,R]=E.useState("1"),[$,L]=E.useState([]),[U,C]=E.useState({venda:"",execucao:""}),[M,B]=E.useState([]),[F,A]=E.useState(""),[D,q]=E.useState([]),[V,J]=E.useState({tipoDespesa:"",pessoaTipo:"",status:""}),[re,pe]=E.useState("data_competencia"),[le,xe]=E.useState("desc"),[He,Ke]=E.useState(50),[ee,te]=E.useState(1),[ne,G]=E.useState([]),[Se,T]=E.useState({bank_account_id:"",category_id:"",forma_pagamento:"",data_competencia:""}),[X,de]=E.useState(""),[ce,Re]=E.useState(""),[gt,Wt]=E.useState(""),[vt,Vt]=E.useState(!1),[jn,Wn]=E.useState(!1),[Qt,li]=E.useState(null),[ci,uo]=E.useState(null),[z,wt]=E.useState({description:"",gross_amount:"",discount:"",tax_rate:Fm.PIX,tax_amount:"0",liquid_amount:"",date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],category_id:"",bank_account_id:"",entity_name:"",payment_method:"PIX",observations:"",installments:"1",nsu:"",boleto_due_date:"",cheque_number:"",cheque_bank:"",cheque_due_date:"",cheque_pages:"1",cheque_value:"",is_recurring:!1,recurrence_interval:"mensal",recurrence_count:"1",card_brand:"",tipo_despesa:"",status:"pending",pessoa_tipo:"",is_installment:!1}),rn=async()=>{d([]),l(!0);try{const{data:{session:S}}=await K.auth.getSession();if(!S)return;const{data:I}=await K.from("categories").select("*").eq("tipo",t?"receita":"despesa"),{data:Y}=await K.from("bank_accounts").select("*"),{data:H}=await K.from("card_fees").select("*"),{data:oe}=await K.from("customers").select("*"),{data:ge}=await K.from("procedures").select("*"),{data:me}=await K.from("professionals").select("*"),{data:ke}=await K.from("suppliers").select("*"),{data:Je}=await K.from("revenues").select("id, data_competencia, paciente");I&&h(I),Y&&m(Y),H&&g(H),oe&&b(oe),ge&&j(ge),me&&L(me),ke&&B(ke),Je&&q(Je);let Ee;t?Ee=K.from(r).select(`
            *,
            categories (name, cor_opcional),
            bank_accounts (nome_conta),
            revenue_procedures (procedimento, categoria, quantidade, valor_cobrado, procedure_id)
          `).order("data_competencia",{ascending:!1}):Ee=K.from(r).select(`
            *,
            categories (name, cor_opcional),
            bank_accounts (nome_conta)
          `).order("data_competencia",{ascending:!1}),o&&(Ee=Ee.eq("clinic_id",o)),ce&&(Ee=Ee.gte("data_competencia",ce)),gt&&(Ee=Ee.lte("data_competencia",gt));const{data:Br,error:Pe}=await Ee;if(Pe)throw Pe;d(Br||[])}catch(S){console.error("Erro ao buscar dados:",S)}finally{l(!1)}};E.useEffect(()=>{rn()},[e,ce,gt]),E.useEffect(()=>{const S=ke=>{const Je=(ke||"").replace(",","."),Ee=parseFloat(Je);return isNaN(Ee)?0:Ee},I=S(z.gross_amount),Y=S(z.discount),H=Math.max(0,I-Y),oe=S(z.tax_rate);if(!z.gross_amount&&!w.length){wt(ke=>({...ke,tax_amount:"0",liquid_amount:""}));return}const ge=H*(oe/100),me=H-ge;wt(ke=>({...ke,tax_amount:ge.toFixed(2),liquid_amount:me.toFixed(2)}))},[z.gross_amount,z.tax_rate]),E.useEffect(()=>{if(z.payment_method==="Carto de Crdito"||z.payment_method==="Carto de Dbito"){const I=parseInt(z.installments||"1",10)||1,Y=v.find(H=>(!z.card_brand||H.bandeira===z.card_brand)&&I>=(H.min_installments||1)&&I<=(H.max_installments||1));if(Y){wt(H=>({...H,tax_rate:String(Y.taxa_percent||"0"),card_brand:Y.bandeira}));return}}const S=Fm[z.payment_method]??z.tax_rate;wt(I=>({...I,tax_rate:S}))},[z.payment_method,z.installments,z.card_brand,v]),E.useEffect(()=>{if(!t||!w.length)return;const S=w.reduce((I,Y)=>{const H=x.find(ge=>ge.id===Y.id),oe=H!=null&&H.valor_cobrado?Number(H.valor_cobrado):0;return I+oe*(Y.quantidade||1)},0);wt(I=>({...I,gross_amount:S.toFixed(2)}))},[w,x,t]);const De=S=>{const{name:I,value:Y,type:H,checked:oe}=S.target;if(H==="checkbox"){wt(ge=>({...ge,[I]:oe}));return}wt(ge=>({...ge,[I]:Y}))};E.useEffect(()=>{t?wt(S=>({...S,due_date:S.date})):z.payment_method==="Carto de Crdito"?wt(S=>({...S,due_date:Um(S.date,30)})):wt(S=>({...S,due_date:S.date}))},[z.payment_method,z.date,t]);const nl=()=>{switch(z.payment_method){case"Carto de Crdito":return Um(z.date,30);case"Carto de Dbito":return poe(z.date,1);case"PIX":case"Dinheiro":case"Transferncia Bancria":return z.date;case"Boleto":return z.boleto_due_date||z.date;case"Cheque":return z.cheque_due_date||z.date;default:return z.date}},yu=async S=>{var I;if(S.preventDefault(),Wn(!0),!o){alert("Nenhuma clnica ativa definida. Selecione uma clnica para lanar."),Wn(!1);return}try{const Y=Te=>{const Be=(Te||"").replace(",","."),Me=parseFloat(Be);return isNaN(Me)?0:Me},H=Y(z.gross_amount),oe=Y(z.discount),ge=Y(z.tax_amount),me=Math.max(0,H-oe),ke=z.liquid_amount?Y(z.liquid_amount):me,Je=nl(),Ee=[];t&&(Ee.push(`Taxa aplicada: ${z.tax_rate}% (R$ ${ge.toFixed(2)})`),Ee.push(`Liquidao prevista: ${Je}`)),z.payment_method.includes("Carto")&&z.nsu&&Ee.push(`NSU: ${z.nsu}`),z.payment_method==="Carto de Crdito"&&z.installments&&Ee.push(`Parcelas: ${z.installments}`),z.payment_method==="Boleto"&&(z.installments&&Ee.push(`Parcelas boleto: ${z.installments}`),z.boleto_due_date&&Ee.push(`Vencimento boleto: ${z.boleto_due_date}`)),z.payment_method==="Cheque"&&(z.cheque_number&&Ee.push(`Cheque n ${z.cheque_number}`),z.cheque_bank&&Ee.push(`Banco cheque: ${z.cheque_bank}`),z.cheque_due_date&&Ee.push(`Vencimento cheque: ${z.cheque_due_date}`),z.cheque_pages&&Ee.push(`Folhas: ${z.cheque_pages}`),z.cheque_value&&Ee.push(`Valor/f.: R$ ${z.cheque_value}`)),z.observations&&Ee.push(z.observations);const Pe={description:t?z.entity_name||(w[0]?(I=x.find(Te=>Te.id===w[0].id))==null?void 0:I.procedimento:"")||"Receita":z.description||"Despesa",data_competencia:z.date,category_id:t?null:z.category_id,bank_account_id:z.bank_account_id,observacoes:["Inserido via Web",...Ee].filter(Boolean).join(" | "),clinic_id:o};t?(Pe.valor_bruto=H,Pe.valor_liquido=ke,Pe.valor=ke,Pe.data_recebimento=Je,Pe.paciente=z.entity_name,Pe.forma_pagamento=z.payment_method,Pe.parcelas=parseInt(z.installments||"1",10)||1,Pe.forma_pagamento_taxa=z.tax_rate,Pe.bandeira=z.card_brand||null,oe>0&&Ee.push(`Desconto aplicado: R$ ${oe.toFixed(2)}`),Pe.sale_professional_id=U.venda||null,Pe.exec_professional_id=U.execucao||null):(Pe.valor=H,Pe.data_pagamento=z.due_date||z.date,Pe.fornecedor=z.entity_name,Pe.supplier_id=F||null,Pe.tipo_despesa=z.tipo_despesa||"variavel",Pe.parcelas=z.is_installment?z.installments:"1",Pe.forma_pagamento=z.payment_method,Pe.pessoa_tipo=z.pessoa_tipo||null,Pe.status=z.status||"pending");let Kn=null;if(Qt){const{error:Te}=await K.from(r).update(Pe).eq("id",Qt);if(Te)throw Te;Kn=Qt}else if(!t&&z.is_recurring){const Te=Math.max(1,parseInt(z.recurrence_count||"1",10)),Be=z.recurrence_interval,Me=($e,Ie)=>Ie===0?$e:Be==="quinzenal"?Um($e,15*Ie):Be==="mensal"?ld($e,Ie):Be==="trimestral"?ld($e,3*Ie):Be==="anual"?ld($e,12*Ie):$e,nt=Array.from({length:Te}).map(($e,Ie)=>({...Pe,data_pagamento:Me(z.due_date||z.date,Ie),data_competencia:Me(z.date,Ie),clinic_id:o})),{error:_e}=await K.from(r).insert(nt);if(_e)throw _e}else if(!t&&z.is_installment&&parseInt(z.installments||"1",10)>1){const Te=Math.max(1,parseInt(z.installments||"1",10)),Be=z.due_date||z.date,Me=H,nt=Math.floor(Me*100/Te),_e=Array.from({length:Te}).map((Ie,At)=>{const Oe=At===0?Be:ld(Be,At),qe=At===Te-1?Math.round(Me*100-nt*(Te-1)):nt;return{...Pe,clinic_id:o,valor:qe/100,data_pagamento:Oe,data_competencia:Oe,parcelas:1}}),{error:$e}=await K.from(r).insert(_e);if($e)throw $e}else{const{data:Te,error:Be}=await K.from(r).insert([Pe]).select("id").maybeSingle();if(Be)throw Be;Kn=(Te==null?void 0:Te.id)||null}if(t&&(Qt||Kn)&&w.length){const Te=Qt||Kn;if(!Te)return;await K.from("revenue_procedures").delete().eq("revenue_id",Te);const Be=w.map(Me=>{const nt=x.find(_e=>_e.id===Me.id);return{revenue_id:Te,procedure_id:Me.id,categoria:(nt==null?void 0:nt.categoria)||null,procedimento:(nt==null?void 0:nt.procedimento)||null,valor_cobrado:(nt==null?void 0:nt.valor_cobrado)||null,quantidade:Me.quantidade||1}});if(Be.length){const{error:Me}=await K.from("revenue_procedures").insert(Be);if(Me)throw Me}}else t&&Qt&&!w.length&&await K.from("revenue_procedures").delete().eq("revenue_id",Qt);const Sr=async(Te,Be)=>{if(!Te)return;const Me=p.find($e=>$e.id===Te);if(!Me)return;const _e=Number(Me.current_balance||0)+Be;await K.from("bank_accounts").update({current_balance:_e}).eq("id",Te)};if(Qt&&ci){const Te=ci.bank_account_id,Be=t?ci.valor_liquido:ci.valor,Me=t?-Be:Be;await Sr(Te,Me);const nt=t?ke:H,_e=t?nt:-nt;await Sr(z.bank_account_id,_e)}else{const Te=t?ke:H;let Be=t?Te:-Te;if(!t&&z.is_recurring){const Me=Math.max(1,parseInt(z.recurrence_count||"1",10));Be=Be*Me}await Sr(z.bank_account_id,Be)}Vt(!1),li(null),uo(null),fo(),rn()}catch(Y){alert("Erro ao salvar: "+Y.message)}finally{Wn(!1)}},ui=async(S,I,Y)=>{if(confirm("Tem certeza que deseja excluir? O saldo ser revertido."))try{const{error:H}=await K.from(r).delete().eq("id",S);if(H)throw H;const oe=p.find(ge=>ge.id===Y);if(oe){const ge=Number(oe.current_balance||0),me=t?ge-I:ge+I;await K.from("bank_accounts").update({current_balance:me}).eq("id",Y)}rn()}catch(H){console.error(H)}},bu=S=>{li(S.id),uo(S);const I=t?S.valor_bruto||S.valor||S.valor_liquido||0:S.valor||0,Y=t&&S.valor_liquido||I,H=t&&I?((I-Y)/I*100).toFixed(2):"0";wt({description:S.description||"",gross_amount:String(I),discount:"",tax_rate:String(H),tax_amount:t&&I?(I-Y).toFixed(2):"0",liquid_amount:t?String(Y):"",date:S.data_competencia||new Date().toISOString().split("T")[0],due_date:S.data_pagamento||S.data_recebimento||S.data_competencia||new Date().toISOString().split("T")[0],category_id:S.category_id||"",bank_account_id:S.bank_account_id||"",entity_name:t?S.paciente||"":S.fornecedor||"",payment_method:t&&S.forma_pagamento||"PIX",observations:S.observacoes||"",installments:S.parcelas?String(S.parcelas):"1",nsu:S.nsu||"",boleto_due_date:S.boleto_vencimento||"",cheque_number:S.cheque_number||"",cheque_bank:S.cheque_bank||"",cheque_due_date:S.cheque_due_date||"",cheque_pages:S.cheque_pages?String(S.cheque_pages):"1",cheque_value:S.cheque_value?String(S.cheque_value):"",is_recurring:!1,recurrence_interval:"mensal",recurrence_count:"1",card_brand:S.bandeira||"",tipo_despesa:S.tipo_despesa||"",status:S.status||"pending",pessoa_tipo:S.pessoa_tipo||"",is_installment:t?!1:(S.parcelas||1)>1}),_([]),C({venda:"",execucao:""}),A(S.supplier_id||""),Vt(!0)},Sn=c.filter(S=>!(!((S.description||"").toLowerCase().includes(X.toLowerCase())||(S.paciente||"").toLowerCase().includes(X.toLowerCase())||(S.fornecedor||"").toLowerCase().includes(X.toLowerCase()))||!t&&(V.tipoDespesa&&(S.tipo_despesa||"")!==V.tipoDespesa||V.pessoaTipo&&(S.pessoa_tipo||"")!==V.pessoaTipo||V.status&&(S.status||"")!==V.status))),wa=[...Sn].sort((S,I)=>{const Y=le==="asc"?1:-1,H=me=>{var ke,Je,Ee;switch(re){case"description":return(me.description||"").toLowerCase();case"paciente":return(me.paciente||me.fornecedor||"").toLowerCase();case"data_competencia":return me.data_competencia||"";case"categoria":return((ke=me.categories)==null?void 0:ke.name)||((Ee=(Je=me.revenue_procedures)==null?void 0:Je[0])==null?void 0:Ee.categoria)||"";case"valor":return Number(t?me.valor_liquido:me.valor);default:return""}},oe=H(S),ge=H(I);return oe<ge?-1*Y:oe>ge?1*Y:0});E.useEffect(()=>{te(1),G([])},[re,le,X,V,ce,gt,e]);const _a=Math.max(1,Math.ceil(wa.length/He)),On=wa.slice((ee-1)*He,ee*He),al=()=>{if(!O)return;const S=Math.max(1,parseInt(k||"1",10));_(I=>I.find(H=>H.id===O)?I.map(H=>H.id===O?{...H,quantidade:H.quantidade+S}:H):[...I,{id:O,quantidade:S}]),P(""),R("1")},il=w.reduce((S,I)=>{const Y=x.find(oe=>oe.id===I.id),H=Y!=null&&Y.valor_cobrado?Number(Y.valor_cobrado):0;return S+H*(I.quantidade||1)},0),Vn=S=>{const I=t?["Descrio","Paciente","Data","Categoria","Forma pag.","Valor lquido"]:["Descrio","Fornecedor","Data","Categoria","Status","Valor"],Y=wa.map(H=>{var oe,ge,me;return[H.description||"",t?H.paciente||"-":H.fornecedor||"-",Mt(H.data_competencia),((oe=H.categories)==null?void 0:oe.name)||((me=(ge=H.revenue_procedures)==null?void 0:ge[0])==null?void 0:me.categoria)||"Geral",t?H.forma_pagamento||"-":H.status==="paid"?"Pago":" pagar",fe(t?H.valor_liquido:H.valor)]});if(S==="csv"){const H=[I.join(";"),...Y.map(ke=>ke.join(";"))].join(`
`),oe=new Blob([H],{type:"text/csv;charset=utf-8;"}),ge=URL.createObjectURL(oe),me=document.createElement("a");me.href=ge,me.setAttribute("download",`${t?"receitas":"despesas"}-filtrado.csv`),document.body.appendChild(me),me.click(),document.body.removeChild(me);return}if(S==="pdf"){const H=Y.map(ge=>`<tr>${ge.map(me=>`<td style="padding:6px;border:1px solid #ddd;font-size:12px;">${me}</td>`).join("")}</tr>`).join(""),oe=window.open("","_blank");if(!oe)return;oe.document.write(`
        <html><head><title>${t?"Receitas":"Despesas"}</title>
        <style>table{border-collapse:collapse;width:100%;font-family:Arial;}th,td{border:1px solid #ddd;padding:6px;font-size:12px;}th{background:#f3f4f6;text-align:left;}</style>
        </head><body>
        <h3>${t?"Receitas":"Despesas"} (filtrado)</h3>
        <table>
          <thead><tr>${I.map(ge=>`<th>${ge}</th>`).join("")}</tr></thead>
          <tbody>${H}</tbody>
        </table>
        </body></html>
      `),oe.document.close(),oe.print()}},Pp=S=>{G(I=>I.includes(S)?I.filter(Y=>Y!==S):[...I,S])},Ap=()=>{const S=On.map(Y=>Y.id),I=S.every(Y=>ne.includes(Y));G(I?Y=>Y.filter(H=>!S.includes(H)):Y=>Array.from(new Set([...Y,...S])))},kp=async()=>{if(ne.length===0){alert("Selecione ao menos um registro.");return}const S={};if(Se.bank_account_id&&(S.bank_account_id=Se.bank_account_id),Se.category_id&&(S.category_id=Se.category_id),Se.forma_pagamento&&(S.forma_pagamento=Se.forma_pagamento),Se.data_competencia&&(S.data_competencia=Se.data_competencia),Object.keys(S).length===0){alert("Escolha pelo menos um campo para atualizar.");return}try{const{error:I}=await K.from(r).update(S).in("id",ne);if(I)throw I;G([]),T({bank_account_id:"",category_id:"",forma_pagamento:"",data_competencia:""}),rn()}catch(I){alert("Erro ao atualizar em massa: "+I.message)}},Np=async()=>{if(ne.length===0){alert("Selecione ao menos um registro.");return}if(confirm(`Excluir ${ne.length} registro(s)? O saldo das contas ser ajustado individualmente.`))try{for(const S of ne){const I=c.find(me=>me.id===S);if(!I)continue;const Y=Number(t?I.valor_liquido||0:I.valor||0),H=I.bank_account_id,{error:oe}=await K.from(r).delete().eq("id",S);if(oe)throw oe;const ge=p.find(me=>me.id===H);if(ge){const me=Number(ge.current_balance||0),ke=t?me-Y:me+Y,{error:Je}=await K.from("bank_accounts").update({current_balance:ke}).eq("id",H);if(Je)throw Je}}G([]),rn()}catch(S){alert("Erro ao excluir em massa: "+S.message)}},Cp=nl(),jr=E.useMemo(()=>{if(!t)return null;const S=_e=>Number(_e||0),I=Sn,Y=I.reduce((_e,$e)=>_e+S($e.valor_liquido),0),H=I.filter(_e=>(_e.forma_pagamento||"").toLowerCase().includes("crdito")||(_e.forma_pagamento||"").toLowerCase().includes("credito")).reduce((_e,$e)=>_e+S($e.valor_liquido),0),oe=I.filter(_e=>(_e.forma_pagamento||"").toLowerCase().includes("dbito")||(_e.forma_pagamento||"").toLowerCase().includes("debito")).reduce((_e,$e)=>_e+S($e.valor_liquido),0),ge=I.filter(_e=>(_e.forma_pagamento||"").toLowerCase().includes("pix")).reduce((_e,$e)=>_e+S($e.valor_liquido),0),me=I.filter(_e=>(_e.forma_pagamento||"").toLowerCase().includes("dinheiro")).reduce((_e,$e)=>_e+S($e.valor_liquido),0),ke=Array.from(new Set(I.map(_e=>(_e.paciente||"").trim()).filter(Boolean))),Je=ke.length?Y/ke.length:0,Ee=I.reduce((_e,$e)=>{const Ie=$e.revenue_procedures||[];return Ie.length?_e+Ie.reduce((At,Oe)=>At+(Oe.quantidade||0),0):_e},0),Br=ke.length,Pe=ce||new Date().toISOString().split("T")[0],Sr=new Date(Pe).getFullYear()-1,Be=ke.filter(_e=>D.some($e=>$e.paciente?($e.data_competencia?new Date($e.data_competencia).getFullYear():0)<=Sr&&$e.paciente===_e:!1)).length,Me=Br?Be/Br*100:0,nt=Math.max(0,Br-Be);return{totalReceita:Y,totalCredito:H,totalDebito:oe,totalPix:ge,ticketMedio:Je,procedimentosRealizados:Ee,clientesAtendidos:Br,recorrenciaPercent:Me,novosClientes:nt,totalDinheiro:me}},[Sn,t,D,ce]),Hn=E.useMemo(()=>{if(t)return null;const S=Sn,I=S.reduce((ke,Je)=>ke+Number(Je.valor||0),0),Y=S.length,H=S.filter(ke=>ke.tipo_despesa==="fixo").reduce((ke,Je)=>ke+Number(Je.valor||0),0),oe=S.filter(ke=>ke.tipo_despesa==="variavel").reduce((ke,Je)=>ke+Number(Je.valor||0),0),ge=I?H/I*100:0,me=I?oe/I*100:0;return{total:I,quantidade:Y,totalFixo:H,totalVar:oe,pctFixo:ge,pctVar:me}},[Sn,t]),fo=()=>{wt({description:"",gross_amount:"",discount:"",tax_rate:Fm.PIX,tax_amount:"0",liquid_amount:"",date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],category_id:"",bank_account_id:"",entity_name:"",payment_method:"PIX",observations:"",installments:"1",nsu:"",boleto_due_date:"",cheque_number:"",cheque_bank:"",cheque_due_date:"",cheque_pages:"1",cheque_value:"",is_recurring:!1,recurrence_interval:"mensal",recurrence_count:"1",card_brand:"",tipo_despesa:"",status:"pending",pessoa_tipo:"",is_installment:!1}),_([]),C({venda:"",execucao:""}),A("")};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Receitas":"Despesas"}),u.jsxs("p",{className:"text-gray-500",children:["Gerencie ",t?"os recebimentos":"os pagamentos"," da clnica"]})]}),u.jsxs("button",{onClick:()=>{li(null),uo(null),fo(),Vt(!0)},className:`
            flex items-center gap-2 px-4 py-2 rounded-lg text-white font-medium transition-colors shadow-sm
            ${t?"bg-brand-600 hover:bg-brand-700":"bg-red-600 hover:bg-red-700"}
          `,children:[u.jsx(Wr,{size:20}),"Nova ",t?"Receita":"Despesa"]})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col lg:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[u.jsx(Nne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:t?"Buscar por descrio ou paciente...":"Buscar por descrio ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500",value:X,onChange:S=>de(S.target.value)})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:u.jsx(to,{size:16})}),u.jsx("input",{type:"date",value:ce,onChange:S=>Re(S.target.value),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500 text-sm text-gray-600"})]}),u.jsx("span",{className:"text-gray-400",children:"at"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:u.jsx(to,{size:16})}),u.jsx("input",{type:"date",value:gt,onChange:S=>Wt(S.target.value),className:"pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-500 text-sm text-gray-600"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[!t&&u.jsxs(u.Fragment,{children:[u.jsxs("select",{value:V.tipoDespesa,onChange:S=>J(I=>({...I,tipoDespesa:S.target.value})),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"",children:"Tipo (fixo/varivel)"}),u.jsx("option",{value:"fixo",children:"Fixo"}),u.jsx("option",{value:"variavel",children:"Varivel"})]}),u.jsxs("select",{value:V.pessoaTipo,onChange:S=>J(I=>({...I,pessoaTipo:S.target.value})),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"",children:"Pessoa (F/J)"}),u.jsx("option",{value:"fisica",children:"Pessoa Fsica"}),u.jsx("option",{value:"juridica",children:"Pessoa Jurdica"})]}),u.jsxs("select",{value:V.status,onChange:S=>J(I=>({...I,status:S.target.value})),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx("option",{value:"",children:"Status"}),u.jsx("option",{value:"paid",children:"Pago"}),u.jsx("option",{value:"pending",children:" pagar"})]})]}),u.jsxs("button",{onClick:rn,className:"flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:[u.jsx(yy,{size:20}),"Filtrar"]})]})]}),t&&jr&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Receita"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.totalReceita)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Crdito"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.totalCredito)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Dbito"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.totalDebito)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Pix"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.totalPix)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Dinheiro"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.totalDinheiro)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Ticket mdio"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(jr.ticketMedio)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Procedimentos realizados"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:jr.procedimentosRealizados})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Clientes atendidos"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:jr.clientesAtendidos})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Recorrncia"}),u.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[jr.recorrenciaPercent.toFixed(1),"%  Novos: ",jr.novosClientes]})]})]}),!t&&Hn&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Despesas"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:fe(Hn.total)})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Quantidade de compras"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:Hn.quantidade})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Fixo"}),u.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[fe(Hn.totalFixo)," ",u.jsxs("span",{className:"text-sm text-gray-500",children:["(",Hn.pctFixo.toFixed(1),"%)"]})]})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-100 shadow-sm",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total Varivel"}),u.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[fe(Hn.totalVar)," ",u.jsxs("span",{className:"text-sm text-gray-500",children:["(",Hn.pctVar.toFixed(1),"%)"]})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx("span",{children:"Linhas por pgina:"}),u.jsxs("select",{value:He,onChange:S=>{Ke(parseInt(S.target.value,10)),te(1)},className:"border border-gray-300 rounded px-2 py-1 text-sm bg-white",children:[u.jsx("option",{value:30,children:"30"}),u.jsx("option",{value:50,children:"50"}),u.jsx("option",{value:100,children:"100"})]}),u.jsxs("span",{className:"text-xs text-gray-500",children:["Total: ",wa.length]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx("button",{onClick:()=>te(S=>Math.max(1,S-1)),disabled:ee===1,className:"px-2 py-1 border border-gray-300 rounded disabled:opacity-50",children:""}),u.jsxs("span",{className:"px-2",children:["Pgina ",ee," / ",_a]}),u.jsx("button",{onClick:()=>te(S=>Math.min(_a,S+1)),disabled:ee===_a,className:"px-2 py-1 border border-gray-300 rounded disabled:opacity-50",children:""})]})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden min-h-[300px]",children:s?u.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[u.jsx(Ut,{size:32,className:"animate-spin mb-2"}),u.jsx("p",{children:"Carregando dados..."})]}):u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("div",{className:"flex flex-col gap-2 px-4 py-3 border-b border-gray-100",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-700",children:["Selecionados: ",ne.length]}),u.jsxs("select",{value:Se.bank_account_id,onChange:S=>T(I=>({...I,bank_account_id:S.target.value})),className:"px-2 py-1 border rounded text-sm bg-white",children:[u.jsx("option",{value:"",children:"Banco (manter)"}),p.map(S=>u.jsx("option",{value:S.id,children:S.nome_conta||S.name},S.id))]}),u.jsxs("select",{value:Se.category_id,onChange:S=>T(I=>({...I,category_id:S.target.value})),className:"px-2 py-1 border rounded text-sm bg-white",children:[u.jsx("option",{value:"",children:"Categoria (manter)"}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]}),u.jsxs("select",{value:Se.forma_pagamento,onChange:S=>T(I=>({...I,forma_pagamento:S.target.value})),className:"px-2 py-1 border rounded text-sm bg-white",children:[u.jsx("option",{value:"",children:"Forma pgto (manter)"}),GS.map(S=>u.jsx("option",{value:S,children:S},S))]}),u.jsx("input",{type:"date",value:Se.data_competencia,onChange:S=>T(I=>({...I,data_competencia:S.target.value})),className:"px-2 py-1 border rounded text-sm",placeholder:"Data"}),u.jsx("button",{onClick:kp,className:"px-3 py-1 text-xs rounded bg-brand-600 text-white hover:bg-brand-700",disabled:ne.length===0,children:"Aplicar edio em massa"}),u.jsx("button",{onClick:Np,className:"px-3 py-1 text-xs rounded border border-red-200 text-red-600 hover:bg-red-50",disabled:ne.length===0,children:"Excluir selecionados"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs("button",{onClick:()=>Vn("csv"),className:"flex items-center gap-1 px-3 py-2 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," CSV"]}),u.jsxs("button",{onClick:()=>Vn("pdf"),className:"flex items-center gap-1 px-3 py-2 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," PDF"]})]})]}),u.jsxs("table",{className:"w-full text-left text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 text-gray-500 font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-4",children:u.jsx("input",{type:"checkbox",className:"accent-brand-600",onChange:Ap,checked:On.length>0&&On.every(S=>ne.includes(S.id))})}),u.jsxs("th",{className:"px-6 py-4 cursor-pointer",onClick:()=>{pe("description"),xe(le==="asc"?"desc":"asc")},children:["Descrio ",re==="description"&&(le==="asc"?"":"")]}),u.jsxs("th",{className:"px-6 py-4 cursor-pointer",onClick:()=>{pe("paciente"),xe(le==="asc"?"desc":"asc")},children:[t?"Paciente":"Fornecedor"," ",re==="paciente"&&(le==="asc"?"":"")]}),u.jsxs("th",{className:"px-6 py-4 cursor-pointer",onClick:()=>{pe("data_competencia"),xe(le==="asc"?"desc":"asc")},children:["Data ",re==="data_competencia"&&(le==="asc"?"":"")]}),u.jsxs("th",{className:"px-6 py-4 cursor-pointer",onClick:()=>{pe("categoria"),xe(le==="asc"?"desc":"asc")},children:["Categoria ",re==="categoria"&&(le==="asc"?"":"")]}),t&&u.jsx("th",{className:"px-6 py-4",children:"Forma Pag."}),!t&&u.jsx("th",{className:"px-6 py-4",children:"Status"}),u.jsxs("th",{className:"px-6 py-4 text-right cursor-pointer",onClick:()=>{pe("valor"),xe(le==="asc"?"desc":"asc")},children:["Valor ",re==="valor"&&(le==="asc"?"":"")]}),u.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[On.map(S=>{var I,Y,H,oe,ge;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsx("input",{type:"checkbox",className:"accent-brand-600",checked:ne.includes(S.id),onChange:()=>Pp(S.id)})}),u.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:S.description}),u.jsx("td",{className:"px-6 py-4 text-gray-600",children:t?S.paciente||"-":S.fornecedor||"-"}),u.jsx("td",{className:"px-6 py-4 text-gray-600",children:Mt(S.data_competencia)}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-medium",style:{backgroundColor:(((I=S.categories)==null?void 0:I.cor_opcional)||"#e5e7eb")+"20",color:((Y=S.categories)==null?void 0:Y.cor_opcional)||"#374151"},children:((H=S.categories)==null?void 0:H.name)||((ge=(oe=S.revenue_procedures)==null?void 0:oe[0])==null?void 0:ge.categoria)||"Geral"})}),t&&u.jsx("td",{className:"px-6 py-4 text-gray-600 text-xs",children:S.forma_pagamento}),!t&&u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.status==="paid"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:S.status==="paid"?"Pago":" pagar"})}),u.jsx("td",{className:`px-6 py-4 font-medium text-right ${t?"text-green-600":"text-red-600"}`,children:fe(t?S.valor_liquido:S.valor)}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx("button",{onClick:()=>bu(S),className:"p-1 text-gray-400 hover:text-brand-600 transition-colors",title:"Editar",children:u.jsx(Ane,{size:16})}),!t&&S.status!=="paid"&&u.jsx("button",{onClick:async()=>{if(!confirm("Marcar esta despesa como paga?"))return;const{error:me}=await K.from(r).update({status:"paid"}).eq("id",S.id);me||rn()},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors",title:"Pagar esta compra",children:u.jsx(bne,{size:16})}),u.jsx("button",{onClick:()=>ui(S.id,t?S.valor_liquido:S.valor,S.bank_account_id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Excluir",children:u.jsx(Gl,{size:16})})]})})]},S.id)}),Sn.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-400",children:"Nenhum lanamento encontrado no perodo."})})]})]})]})}),vt&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full p-6 space-y-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[Qt?"Editar":"Nova"," ",t?"Receita":"Despesa"]}),(!t&&f.length===0||p.length===0)&&u.jsxs("div",{className:"p-3 bg-yellow-50 text-yellow-700 rounded-lg flex items-start gap-2 text-sm",children:[u.jsx(mC,{size:16,className:"mt-0.5"}),u.jsxs("span",{children:["Ateno: Cadastre ",!t&&f.length===0?u.jsx("b",{children:"Categorias de despesas"}):null,!t&&f.length===0&&p.length===0?" e ":"",p.length===0?u.jsx("b",{children:"Contas Bancrias"}):null," antes de lanar."]})]}),u.jsxs("form",{onSubmit:yu,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t?u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),u.jsx("input",{required:!0,name:"entity_name",value:z.entity_name,onChange:De,list:"entity_suggestions_top",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Digite o nome do paciente"}),u.jsx("datalist",{id:"entity_suggestions_top",children:y.filter(S=>{var I;return(z.entity_name||"").length>=3?(I=S.name)==null?void 0:I.toLowerCase().includes(z.entity_name.toLowerCase()):!0}).slice(0,10).map(S=>u.jsx("option",{value:S.name},S.id))})]}):u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),u.jsx("input",{required:!0,name:"description",value:z.description,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Descreva a despesa"})]}),t&&u.jsxs("div",{className:"col-span-2 p-4 border border-gray-100 rounded-lg bg-white",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adicionar procedimento"}),u.jsxs("select",{value:O,onChange:S=>P(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),x.map(S=>u.jsxs("option",{value:S.id,children:[S.procedimento," (",fe(S.valor_cobrado||0),")"]},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qtd."}),u.jsx("input",{type:"number",min:"1",value:k,onChange:S=>R(S.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("button",{type:"button",onClick:al,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 flex items-center gap-2",children:[u.jsx(Wr,{size:16})," Adicionar"]})]}),w.length>0&&u.jsxs("div",{className:"mt-3 border border-gray-100 rounded-lg overflow-hidden",children:[u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-600",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left",children:"Procedimento"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Categoria"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Qtd."}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Valor"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Subtotal"}),u.jsx("th",{className:"px-3 py-2"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:w.map(S=>{const I=x.find(H=>H.id===S.id),Y=I!=null&&I.valor_cobrado?Number(I.valor_cobrado):0;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-gray-800",children:(I==null?void 0:I.procedimento)||"-"}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:(I==null?void 0:I.categoria)||"-"}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("input",{type:"number",min:"1",value:S.quantidade,onChange:H=>{const oe=Math.max(1,parseInt(H.target.value||"1",10));_(ge=>ge.map(me=>me.id===S.id?{...me,quantidade:oe}:me))},className:"w-20 px-2 py-1 border border-gray-300 rounded"})}),u.jsx("td",{className:"px-3 py-2 text-gray-700",children:fe(Y)}),u.jsx("td",{className:"px-3 py-2 text-gray-800 font-semibold",children:fe(Y*(S.quantidade||1))}),u.jsx("td",{className:"px-3 py-2 text-right",children:u.jsx("button",{type:"button",onClick:()=>_(H=>H.filter(oe=>oe.id!==S.id)),className:"text-red-600 text-sm",children:"Remover"})})]},S.id)})})]}),u.jsxs("div",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-800 bg-gray-50",children:["Subtotal procedimentos: ",fe(il)]})]})]}),u.jsxs("div",{className:"col-span-2 p-4 bg-gray-50 rounded-lg grid grid-cols-1 md:grid-cols-4 gap-4 border border-gray-100",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Valor Bruto"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-bold",children:"R$"}),u.jsx("input",{required:!0,name:"gross_amount",type:"number",step:"0.01",value:z.gross_amount,onChange:De,className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"0,00"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Desconto"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-bold",children:"R$"}),u.jsx("input",{name:"discount",type:"number",step:"0.01",value:z.discount,onChange:De,className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"0,00"})]})]}),t&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Taxa (%)"}),u.jsx("input",{name:"tax_rate",type:"number",step:"0.01",value:z.tax_rate,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"0"}),u.jsxs("div",{className:"text-xs text-red-500 mt-1 font-medium",children:["- R$ ",z.tax_amount]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Valor Lquido"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-600 font-bold",children:"R$"}),u.jsx("input",{readOnly:!0,value:z.liquid_amount,className:"w-full pl-8 pr-3 py-2 border border-green-200 bg-green-50 text-green-700 font-bold rounded-lg outline-none"})]})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t?"Data Competncia":"Data da Compra"}),u.jsx("input",{required:!0,name:"date",type:"date",value:z.date,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),!t&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Vencimento"}),u.jsx("input",{required:!0,name:"due_date",type:"date",value:z.due_date,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),!t&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),u.jsxs("select",{required:!0,name:"category_id",value:z.category_id,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta Bancria"}),u.jsxs("select",{required:!0,name:"bank_account_id",value:z.bank_account_id,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),p.map(S=>u.jsxs("option",{value:S.id,children:[S.nome_conta||S.name||"Conta sem nome"," (",S.banco||S.bank||"Banco",")"]},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t?"Forma de Pagamento":"Fornecedor"}),t?u.jsx("select",{name:"payment_method",value:z.payment_method,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:GS.map(S=>u.jsx("option",{value:S,children:S},S))}):u.jsxs("select",{value:F,onChange:S=>{const I=S.target.value;A(I);const Y=M.find(H=>H.id===I);wt(H=>({...H,entity_name:(Y==null?void 0:Y.nome)||""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione fornecedor..."}),M.map(S=>u.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),!t&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de custo"}),u.jsxs("select",{name:"tipo_despesa",value:z.tipo_despesa||"",onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),u.jsx("option",{value:"fixo",children:"Fixo"}),u.jsx("option",{value:"variavel",children:"Varivel"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pessoa"}),u.jsxs("select",{name:"pessoa_tipo",value:z.pessoa_tipo||"",onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),u.jsx("option",{value:"fisica",children:"Pessoa Fsica"}),u.jsx("option",{value:"juridica",children:"Pessoa Jurdica"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{name:"status",value:z.status,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"paid",children:"Pago"}),u.jsx("option",{value:"pending",children:" pagar"})]})]})]}),t&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profissional de venda"}),u.jsxs("select",{value:U.venda,onChange:S=>C(I=>({...I,venda:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),$.filter(S=>S.tipo==="venda").map(S=>u.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profissional de execuo"}),u.jsxs("select",{value:U.execucao,onChange:S=>C(I=>({...I,execucao:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),$.filter(S=>S.tipo==="execucao").map(S=>u.jsx("option",{value:S.id,children:S.nome},S.id))]})]})]}),t&&u.jsxs("div",{className:"col-span-2 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[u.jsxs("span",{children:["Liquidao prevista: ",u.jsx("span",{className:"font-semibold text-gray-800",children:Mt(Cp)})]}),u.jsx("span",{className:"text-gray-400",children:"Ajustada conforme a forma de pagamento"})]}),z.payment_method==="Carto de Crdito"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bandeira"}),u.jsxs("select",{name:"card_brand",value:z.card_brand,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),v.map(S=>u.jsx("option",{value:S.bandeira,children:S.bandeira},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas"}),u.jsx("input",{name:"installments",type:"number",min:"1",value:z.installments,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Ex: 10"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NSU"}),u.jsx("input",{name:"nsu",value:z.nsu,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Cdigo autorizador"})]}),u.jsx("div",{className:"text-sm text-gray-600 flex items-center",children:"Crdito: D+30 dias"})]}),z.payment_method==="Carto de Dbito"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NSU"}),u.jsx("input",{name:"nsu",value:z.nsu,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Cdigo autorizador"})]}),u.jsx("div",{className:"text-sm text-gray-600 flex items-center",children:"Dbito: D+1 dia til"})]}),z.payment_method==="Boleto"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas"}),u.jsx("input",{name:"installments",type:"number",min:"1",value:z.installments,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primeiro Vencimento"}),u.jsx("input",{name:"boleto_due_date",type:"date",value:z.boleto_due_date,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsx("div",{className:"text-sm text-gray-600 flex items-center",children:"Boleto: conforme vencimento"})]}),z.payment_method==="Cheque"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Cheque"}),u.jsx("input",{name:"cheque_number",value:z.cheque_number,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),u.jsx("input",{name:"cheque_bank",value:z.cheque_bank,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Vencimento"}),u.jsx("input",{name:"cheque_due_date",type:"date",value:z.cheque_due_date,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade de Folhas"}),u.jsx("input",{name:"cheque_pages",type:"number",min:"1",value:z.cheque_pages,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor por Folha"}),u.jsx("input",{name:"cheque_value",type:"number",step:"0.01",value:z.cheque_value,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsx("div",{className:"text-sm text-gray-600 flex items-center",children:"Cheque: liquidao no vencimento"})]})]}),!t&&u.jsxs("div",{className:"col-span-2 p-4 border border-gray-100 rounded-lg bg-gray-50 space-y-3",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[u.jsx("input",{id:"is_recurring",name:"is_recurring",type:"checkbox",checked:z.is_recurring,onChange:De,className:"h-4 w-4 text-brand-600 border-gray-300 rounded"}),"Este custo  recorrente?"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[u.jsx("input",{id:"is_installment",name:"is_installment",type:"checkbox",checked:z.is_installment,onChange:S=>{De(S),S.currentTarget.checked||wt(I=>({...I,installments:"1"}))},className:"h-4 w-4 text-brand-600 border-gray-300 rounded"}),"Este custo  parcelado?"]})]}),z.is_recurring&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intervalo"}),u.jsxs("select",{name:"recurrence_interval",value:z.recurrence_interval,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"quinzenal",children:"Quinzenal"}),u.jsx("option",{value:"mensal",children:"Mensal"}),u.jsx("option",{value:"trimestral",children:"Trimestral"}),u.jsx("option",{value:"anual",children:"Anual"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repeties"}),u.jsx("input",{name:"recurrence_count",type:"number",min:"1",value:z.recurrence_count,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Ex: 10"})]}),u.jsx("div",{className:"text-xs text-gray-500 flex items-center",children:"As repeties sero lanamentos individuais seguindo o intervalo e vencimento informado."})]}),z.is_installment&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas"}),u.jsx("input",{name:"installments",type:"number",min:"1",value:z.installments,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsx("div",{className:"text-xs text-gray-500 flex items-center",children:"Valor ser distribudo em parcelas a partir da primeira data de vencimento."})]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),u.jsx("textarea",{name:"observations",rows:2,value:z.observations,onChange:De,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 mt-4",children:[u.jsx("button",{type:"button",onClick:()=>{Vt(!1),li(null),uo(null),fo()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:jn,className:"px-4 py-2 bg-brand-600 rounded-lg text-white hover:bg-brand-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[jn&&u.jsx(Ut,{size:16,className:"animate-spin"}),Qt?"Atualizar":"Salvar"]})]})]})]})})]})},moe=()=>{const[e,t]=E.useState(!1),[r,n]=E.useState([]),[a,i]=E.useState(""),[o,s]=E.useState([]),[l,c]=E.useState(null),[d,f]=E.useState(!1),[h,p]=E.useState(null),[m,v]=E.useState([]),[g,y]=E.useState({category_id:"",description:"",entity_name:""});E.useEffect(()=>{(async()=>{const{data:O}=await K.from("bank_accounts").select("*"),{data:P}=await K.from("categories").select("*");O&&n(O),P&&v(P)})()},[]),E.useEffect(()=>{a&&b()},[a]);const b=async()=>{t(!0);try{const{data:_,error:O}=await K.from("bank_transactions").select("*").eq("bank_account_id",a).order("data",{ascending:!1});if(O)throw O;s(_||[])}catch(_){console.error(_)}finally{t(!1)}},x=async _=>{var P;if(!a){alert("Selecione uma conta bancria antes de importar o arquivo.");return}const O=(P=_.target.files)==null?void 0:P[0];if(O){t(!0),c(O.name);const k=new FileReader;k.onload=async R=>{var L;const $=(L=R.target)==null?void 0:L.result;if(typeof $=="string"){const U=Rne($);let C=0,M=0;for(const B of U){const{data:F}=await K.from("bank_transactions").select("id").eq("hash_transacao",B.hash).eq("bank_account_id",a).maybeSingle();F?M++:(await K.from("bank_transactions").insert([{bank_account_id:a,data:B.date,descricao:B.description,valor:B.amount,tipo:B.type,hash_transacao:B.hash,conciliado:!1}]),C++)}alert(`Processamento concludo: ${C} novos, ${M} duplicados ignorados.`),b()}t(!1)},k.readAsText(O)}},j=_=>{p(_),y({category_id:"",description:_.descricao,entity_name:""}),f(!0)},w=async _=>{if(_.preventDefault(),!(!h||!g.category_id)){t(!0);try{const O=h.tipo==="CREDIT",P=O?"revenues":"expenses",k=Math.abs(h.valor),R={description:g.description,data_competencia:h.data,category_id:g.category_id,bank_account_id:a,observacoes:"Conciliado via OFX"};O?(R.valor_bruto=k,R.valor_liquido=k,R.data_recebimento=h.data,R.forma_pagamento="Transferncia",R.paciente=g.entity_name):(R.valor=k,R.data_pagamento=h.data,R.fornecedor=g.entity_name,R.tipo_despesa="Variavel");const{data:$,error:L}=await K.from(P).insert([R]).select().single();if(L)throw L;const U={conciliado:!0};O?U.revenue_id_opcional=$.id:U.expense_id_opcional=$.id,await K.from("bank_transactions").update(U).eq("id",h.id);const C=r.find(M=>M.id===a);if(C){const B=Number(C.current_balance||0)+h.valor;await K.from("bank_accounts").update({current_balance:B}).eq("id",a)}f(!1),b()}catch(O){alert("Erro: "+O.message)}finally{t(!1)}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Conciliao Bancria"}),u.jsx("p",{className:"text-gray-500",children:"Importe extratos OFX e concilie lanamentos"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione a Conta para Conciliar"}),u.jsxs("select",{className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",value:a,onChange:_=>i(_.target.value),children:[u.jsx("option",{value:"",children:"Selecione..."}),r.map(_=>u.jsxs("option",{value:_.id,children:[_.nome_conta||_.name||"Conta"," (",_.banco||_.bank||"Banco",")"]},_.id))]})]}),a&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center border-dashed border-2 border-brand-100",children:u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-brand-50 rounded-full flex items-center justify-center text-brand-600",children:e?u.jsx(Ut,{className:"animate-spin",size:32}):u.jsx(xy,{size:32})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Importar arquivo OFX"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Os lanamentos sero salvos e verificados contra duplicidade."})]}),u.jsx("input",{type:"file",accept:".ofx",id:"ofx-upload",className:"hidden",onChange:x,disabled:e}),u.jsx("label",{htmlFor:"ofx-upload",className:`px-6 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 cursor-pointer transition-colors ${e?"opacity-50 pointer-events-none":""}`,children:"Selecionar Arquivo"}),l&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Selecionado: ",l]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-6",children:[u.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[u.jsx("h3",{className:"font-semibold text-gray-700",children:"Lanamentos Bancrios"}),u.jsx("span",{className:"text-xs text-gray-400",children:"Ordenado por data (mais recente)"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left text-sm",children:[u.jsx("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3",children:"Data"}),u.jsx("th",{className:"px-6 py-3",children:"Descrio Banco"}),u.jsx("th",{className:"px-6 py-3",children:"Valor"}),u.jsx("th",{className:"px-6 py-3",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-right",children:"Ao"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.map(_=>{const O=_.tipo==="CREDIT";return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 text-gray-600",children:Mt(_.data)}),u.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:_.descricao}),u.jsx("td",{className:`px-6 py-4 font-bold ${O?"text-green-600":"text-red-600"}`,children:fe(_.valor)}),u.jsx("td",{className:"px-6 py-4",children:_.conciliado?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[u.jsx(yne,{size:12})," Conciliado"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:[u.jsx(mC,{size:12})," Pendente"]})}),u.jsx("td",{className:"px-6 py-4 text-right",children:!_.conciliado&&u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 text-xs border border-brand-200 text-brand-700 bg-brand-50 rounded hover:bg-brand-100 transition-colors opacity-50 cursor-not-allowed",title:"Em breve: Vincular a lanamento j existente",children:[u.jsx(jne,{size:12})," Vincular"]}),u.jsxs("button",{onClick:()=>j(_),className:"flex items-center gap-1 px-3 py-1 text-xs bg-brand-600 text-white rounded hover:bg-brand-700 transition-colors",title:"Criar receita/despesa a partir deste item",children:[u.jsx(kne,{size:12})," Criar"]})]})})]},_.id)}),o.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-400",children:"Nenhum lanamento importado nesta conta."})})]})]})})]})]}),d&&h&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full p-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:["Nova ",h.tipo==="CREDIT"?"Receita":"Despesa"," (Conciliao)"]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-500 flex gap-2",children:[u.jsx("span",{children:Mt(h.data)}),u.jsx("span",{children:""}),u.jsx("span",{className:h.tipo==="CREDIT"?"text-green-600 font-bold":"text-red-600 font-bold",children:fe(h.valor)})]}),u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),u.jsx("input",{required:!0,value:g.description,onChange:_=>y({...g,description:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-brand-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),u.jsxs("select",{required:!0,value:g.category_id,onChange:_=>y({...g,category_id:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),m.filter(_=>_.tipo===(h.tipo==="CREDIT"?"receita":"despesa")).map(_=>u.jsx("option",{value:_.id,children:_.name},_.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h.tipo==="CREDIT"?"Paciente / Pagador":"Fornecedor"}),u.jsx("input",{value:g.entity_name,onChange:_=>y({...g,entity_name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-brand-500"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 mt-2",children:[u.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:e,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 flex items-center gap-2",children:[e&&u.jsx(Ut,{size:16,className:"animate-spin"}),"Confirmar e Conciliar"]})]})]})]})})]})},goe=()=>{const[e,t]=E.useState(""),[r,n]=E.useState(""),[a,i]=E.useState(!1),[o,s]=E.useState(null),[l,c]=E.useState(!1),d=iu(),f=`${window.location.origin}/auth/callback`,h=async g=>{g.preventDefault(),i(!0),s(null);try{if(l){const{error:y,data:b}=await K.auth.signUp({email:e,password:r,options:{emailRedirectTo:f}});if(y)throw y;if(b.user){const{data:x,error:j}=await K.from("clinics").insert([{name:"Minha Clnica"}]).select().single();j?console.error(j):x&&await K.from("profiles").insert([{id:b.user.id,clinic_id:x.id,full_name:e.split("@")[0],role:"admin"}])}alert("Cadastro realizado! Verifique seu email ou faa login."),c(!1)}else{const{error:y}=await K.auth.signInWithPassword({email:e,password:r});if(y)throw y;d("/")}}catch(y){s(y.message)}finally{i(!1)}},p=async()=>{try{i(!0),s(null);const{error:g}=await K.auth.signInWithOAuth({provider:"google",options:{redirectTo:f,queryParams:{prompt:"consent"}}});g&&s("Erro ao entrar com Google: "+g.message)}catch(g){s((g==null?void 0:g.message)||"Erro inesperado ao entrar com Google.")}finally{i(!1)}},m=async()=>{try{i(!0),s(null);const{error:g}=await K.auth.signInWithOtp({email:e,options:{emailRedirectTo:f,shouldCreateUser:!0}});g?s("Erro ao enviar magic link: "+g.message):alert("Enviamos um link de acesso para o seu email.")}catch(g){s((g==null?void 0:g.message)||"Erro inesperado ao enviar magic link.")}finally{i(!1)}},v=async()=>{i(!0),s(null);const{error:g}=await K.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset`});i(!1),g?s("Erro ao enviar reset de senha: "+g.message):alert("Enviamos um email para redefinir sua senha.")};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center text-brand-600",children:u.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-lg flex items-center justify-center text-white",children:u.jsx(mu,{size:32})})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"OnePay"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:l?"Crie sua conta e da sua clnica":"Faa login para acessar o sistema"})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[u.jsxs("form",{className:"space-y-6",onSubmit:h,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:g=>t(g.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-500 focus:border-brand-500 sm:text-sm"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:g=>n(g.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-500 focus:border-brand-500 sm:text-sm"})})]}),o&&u.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:o}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50",children:a?"Processando...":l?"Criar Conta":"Entrar"})})]}),!l&&u.jsxs("div",{className:"mt-4 grid gap-2",children:[u.jsx("button",{type:"button",onClick:p,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",disabled:a,children:"Entrar com Google"}),u.jsx("button",{type:"button",onClick:m,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",disabled:a||!e,children:"Enviar Magic Link"}),u.jsx("button",{type:"button",onClick:v,className:"text-sm text-blue-600 hover:underline",disabled:a||!e,children:"Esqueci minha senha"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:l?"J tem uma conta?":"Novo por aqui?"})})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>c(!l),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:l?"Voltar para Login":"Criar nova conta"})})]})]})})]})},voe=()=>{const[e,t]=E.useState(!0),[r,n]=E.useState([]),[a,i]=E.useState(!1),[o,s]=E.useState(!1),[l,c]=E.useState(null),[d,f]=E.useState({name:"",bank:"",initial_balance:"0,00"}),h=async()=>{try{t(!0);const{data:g,error:y}=await K.from("bank_accounts").select("*");if(y)throw y;n(g||[])}catch(g){console.error("Erro ao buscar contas:",g)}finally{t(!1)}};E.useEffect(()=>{h()},[]);const p=async g=>{g.preventDefault(),s(!0);try{const y=parseFloat(d.initial_balance.replace(",","."));if(l){const{error:b}=await K.from("bank_accounts").update({nome_conta:d.name,banco:d.bank}).eq("id",l);if(b)throw b}else{const{error:b}=await K.from("bank_accounts").insert([{nome_conta:d.name,banco:d.bank,initial_balance:y,current_balance:y,ativo:!0}]);if(b)throw b}i(!1),c(null),f({name:"",bank:"",initial_balance:"0,00"}),h()}catch(y){alert("Erro ao salvar conta: "+y.message)}finally{s(!1)}},m=g=>{c(g.id),f({name:g.nome_conta||g.name||"",bank:g.banco||g.bank||"",initial_balance:String(g.initial_balance??g.current_balance??0).replace(".",",")}),i(!0)},v=async g=>{if(confirm("Tem certeza? Isso pode afetar transaes vinculadas."))try{const{error:y}=await K.from("bank_accounts").delete().eq("id",g);if(y)throw y;h()}catch(y){alert("Erro ao excluir: "+y.message)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Contas Bancrias"}),u.jsx("p",{className:"text-gray-500",children:"Gerencie onde o dinheiro entra e sai"})]}),u.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors",children:[u.jsx(Wr,{size:20})," Nova Conta"]})]}),e?u.jsx("div",{className:"flex justify-center p-12",children:u.jsx(Ut,{className:"animate-spin text-brand-600"})}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(g=>u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col justify-between h-48 relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m(g),className:"text-gray-400 hover:text-brand-600",children:u.jsx(Pne,{size:18})}),u.jsx("button",{onClick:()=>v(g.id),className:"text-gray-400 hover:text-red-600",children:u.jsx(Gl,{size:18})})]})}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-brand-50 rounded-full flex items-center justify-center text-brand-600",children:u.jsx(mu,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-800",children:g.name||g.nome_conta}),u.jsx("p",{className:"text-sm text-gray-500",children:g.bank||g.banco})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Saldo Atual"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:fe(g.current_balance||0)})]})]},g.id)),r.length===0&&u.jsx("div",{className:"col-span-full text-center py-12 bg-white rounded-xl border border-dashed border-gray-300",children:u.jsx("p",{className:"text-gray-500",children:"Nenhuma conta cadastrada."})})]}),a&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:l?"Editar Conta Bancria":"Nova Conta Bancria"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta (Apelido)"}),u.jsx("input",{required:!0,value:d.name,onChange:g=>f({...d,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Ex: Ita Principal"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),u.jsx("input",{required:!0,value:d.bank,onChange:g=>f({...d,bank:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Ex: Ita, Nubank, Caixa"})]}),u.jsx("div",{children:!l&&u.jsxs(u.Fragment,{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),u.jsx("input",{type:"number",step:"0.01",required:!0,value:d.initial_balance,onChange:g=>f({...d,initial_balance:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500"})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border rounded-lg text-gray-600 hover:bg-gray-50",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50",children:o?"Salvando...":"Salvar"})]})]})]})})]})},yoe=()=>{const[e,t]=E.useState("categorias"),[r,n]=M0(),[a,i]=E.useState(!0),[o,s]=E.useState([]),[l,c]=E.useState("receita"),{effectiveClinicId:d}=_n(),[f,h]=E.useState(""),[p,m]=E.useState(!1),[v,g]=E.useState(null),[y,b]=E.useState([]),[x,j]=E.useState({bandeira:"",taxa_percent:"0",metodo:"Carto de Crdito",min_installments:"1",max_installments:"1"}),[w,_]=E.useState(!1),[O,P]=E.useState(null),[k,R]=E.useState([]),[$,L]=E.useState({name:"",cpf:"",cep:""}),[U,C]=E.useState(null),[M,B]=E.useState(!1),[F,A]=E.useState(null),[D,q]=E.useState(!1),[V,J]=E.useState(null),[re,pe]=E.useState([]),[le,xe]=E.useState({categoria:"",procedimento:"",valor_cobrado:"",custo_insumo:"",tempo_minutos:""}),[He,Ke]=E.useState(null),[ee,te]=E.useState(!1),[ne,G]=E.useState(!1),[Se,T]=E.useState(!1),[X,de]=E.useState([]),[ce,Re]=E.useState(""),[gt,Wt]=E.useState([]),[vt,Vt]=E.useState({nome:"",tipo:"venda"}),[jn,Wn]=E.useState(null),[Qt,li]=E.useState(!1),[ci,uo]=E.useState([]),[z,wt]=E.useState({nome:"",cnpj:"",telefone:""}),[rn,De]=E.useState(null),[nl,yu]=E.useState(!1),ui=S=>S.replace(/\D/g,""),bu=S=>{const I=ui(S);if(I.length!==11||/^(\d)\1+$/.test(I))return!1;const Y=H=>{let oe=0;for(let me=0;me<H;me++)oe+=parseInt(I[me],10)*(H+1-me);const ge=oe*10%11;return ge===10?0:ge};return Y(9)===parseInt(I[9],10)&&Y(10)===parseInt(I[10],10)},Sn=async()=>{try{i(!0);let S=K.from("categories").select("*").order("name");d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;if(Y)throw Y;s(I||[])}catch(S){console.error(S)}finally{i(!1)}},wa=async()=>{let S=K.from("card_fees").select("*").order("created_at",{ascending:!1});d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;!Y&&I&&b(I)},_a=async()=>{let S=K.from("customers").select("*").order("created_at",{ascending:!1});d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;!Y&&I&&R(I)},On=async()=>{let S=K.from("procedures").select("*").order("created_at",{ascending:!1});d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;!Y&&I&&pe(I)},al=async()=>{let S=K.from("professionals").select("*").order("created_at",{ascending:!1});d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;!Y&&I&&Wt(I)},il=async()=>{let S=K.from("suppliers").select("*").order("created_at",{ascending:!1});d&&(S=S.eq("clinic_id",d));const{data:I,error:Y}=await S;!Y&&I&&uo(I)};E.useEffect(()=>{const S=r.get("section");S&&["categorias","taxas","clientes","procedimentos","profissionais","fornecedores"].includes(S)&&t(S)},[r]);const Vn=S=>{t(S);const I=new URLSearchParams(r);I.set("section",S),n(I,{replace:!0})},Pp=async S=>{if(!d){alert("Nenhuma clnica ativa encontrada para associar os clientes.");return}q(!0),J(null);try{const Y=(await S.text()).replace(/^\uFEFF/,"").split(/\r?\n/).filter(Oe=>Oe.trim().length>0);if(!Y.length)throw new Error("Arquivo vazio.");const H=Y[0],oe=(H.match(/,/g)||[]).length,me=(H.match(/;/g)||[]).length>oe?";":",",ke=Oe=>{const qe=[];let Ge="",_t=!1;for(let Or=0;Or<Oe.length;Or++){const nn=Oe[Or];if(nn==='"'){_t=!_t;continue}nn===me&&!_t?(qe.push(Ge),Ge=""):Ge+=nn}return qe.push(Ge),qe.map(Or=>Or.trim())},Je=ke(H).map(Oe=>Oe.toLowerCase()),Ee=Je.some(Oe=>Oe.includes("cpf")||Oe.includes("nome")),Br=Ee?Y.slice(1):Y,Pe=Oe=>{const qe=Je.findIndex(Ge=>Oe.some(_t=>Ge.includes(_t)));return qe>=0?qe:-1},Kn=Ee?Pe(["nome"]):-1,Sr=Ee?Pe(["cpf"]):-1,Te=Ee?Pe(["cep"]):-1,Be=new Set,Me=[],nt=[],_e=(Oe,qe,Ge)=>{const _t=qe>=0?qe:Ge;return Oe[_t]??""};Br.forEach(Oe=>{const qe=ke(Oe),Ge=(!Ee&&qe.length>=3,0),_t=_e(qe,Kn,Ge+0),Or=_e(qe,Sr,Ge+1),nn=_e(qe,Te,Ge+2),di=ui(Or);if(!_t.trim()){Me.push({name:_t,cpf:Or,cep:nn,reason:"Nome obrigatrio"});return}if(!di){Me.push({name:_t,cpf:Or,cep:nn,reason:"CPF obrigatrio"});return}if(!bu(di)){Me.push({name:_t,cpf:Or,cep:nn,reason:"CPF invlido"});return}if(Be.has(di)){Me.push({name:_t,cpf:Or,cep:nn,reason:"CPF duplicado no arquivo"});return}Be.add(di),nt.push({name:_t.trim(),cpf:di,cep:nn})});const{data:$e}=await K.from("customers").select("cpf").eq("clinic_id",d),Ie=new Set(($e||[]).map(Oe=>ui(Oe.cpf||"")).filter(Boolean)),At=nt.filter(Oe=>Ie.has(Oe.cpf)?(Me.push({name:Oe.name,cpf:Oe.cpf,cep:Oe.cep,reason:"CPF j existe na clnica"}),!1):!0);if(At.length){const Oe=At.map(Ge=>({name:Ge.name,cpf:Ge.cpf,cep:Ge.cep||null,clinic_id:d})),{error:qe}=await K.from("customers").insert(Oe);if(qe)throw qe}J({imported:At.length,rejected:Me}),_a()}catch(I){alert("Erro ao importar clientes: "+I.message)}finally{q(!1)}};E.useEffect(()=>{d&&(Sn(),wa(),_a(),On(),al(),il())},[d]);const Ap=async S=>{if(S.preventDefault(),!d){alert("Nenhuma clnica ativa definida.");return}if(f.trim()){m(!0);try{if(v){const{error:I}=await K.from("categories").update({name:f}).eq("id",v);if(I)throw I}else{const{error:I}=await K.from("categories").insert([{name:f,tipo:l,cor_opcional:l==="receita"?"#0ea5e9":"#ef4444",clinic_id:d}]);if(I)throw I}h(""),g(null),Sn()}catch(I){alert("Erro ao criar: "+I.message)}finally{m(!1)}}},kp=async S=>{if(confirm("Excluir categoria?"))try{const{error:I}=await K.from("categories").delete().eq("id",S);if(I)throw I;v===S&&(g(null),h("")),Sn()}catch(I){alert("Erro: "+I.message)}},Np=async S=>{if(S.preventDefault(),!d){alert("Nenhuma clnica ativa definida.");return}if(!x.bandeira.trim())return;const I=parseInt(x.min_installments||"1",10)||1,Y=parseInt(x.max_installments||"1",10)||1;if(I>Y){alert("Intervalo de parcelas invlido (mnimo maior que mximo).");return}_(!0);try{const H=parseFloat(x.taxa_percent.replace(",","."))||0;if(O){const{error:oe}=await K.from("card_fees").update({bandeira:x.bandeira,taxa_percent:H,metodo:x.metodo,min_installments:I,max_installments:Y,clinic_id:d}).eq("id",O);if(oe)throw oe}else{const{error:oe}=await K.from("card_fees").insert([{bandeira:x.bandeira,taxa_percent:H,metodo:x.metodo,min_installments:I,max_installments:Y,clinic_id:d}]);if(oe)throw oe}j({bandeira:"",taxa_percent:"0",metodo:"Carto de Crdito",min_installments:"1",max_installments:"1"}),P(null),wa()}catch(H){alert("Erro ao salvar taxa: "+H.message)}finally{_(!1)}},Cp=async S=>{if(!confirm("Excluir taxa?"))return;const{error:I}=await K.from("card_fees").delete().eq("id",S);I||(O===S&&(P(null),j({bandeira:"",taxa_percent:"0",metodo:"Carto de Crdito",min_installments:"1",max_installments:"1"})),wa())},jr=async S=>{if(S.preventDefault(),C(null),!d){C("Nenhuma clnica ativa encontrada.");return}if(!$.name.trim())return;const I=ui($.cpf),Y=ui($.cep);if(I&&!bu(I)){C("CPF invlido.");return}if(Y&&Y.length!==8){C("CEP invlido (use 8 dgitos).");return}if(I){const{data:H}=await K.from("customers").select("id").eq("cpf",I).eq("clinic_id",d).maybeSingle();if(H&&H.id!==F){C("CPF j cadastrado.");return}}B(!0);try{if(F){const{error:H}=await K.from("customers").update({name:$.name,cpf:I||null,cep:Y||null,clinic_id:d}).eq("id",F);if(H)throw H}else{const{error:H}=await K.from("customers").insert([{name:$.name,cpf:I||null,cep:Y||null,clinic_id:d}]);if(H)throw H}L({name:"",cpf:"",cep:""}),A(null),_a()}catch(H){alert("Erro ao salvar cliente: "+H.message)}finally{B(!1)}},Hn=async S=>{if(!confirm("Excluir cliente?"))return;const{error:I}=await K.from("customers").delete().eq("id",S);I||(F===S&&(A(null),L({name:"",cpf:"",cep:""})),_a())},fo=o.filter(S=>S.tipo===l);return u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Configuraes"}),u.jsx("p",{className:"text-gray-500",children:"Cadastre categorias, taxas, clientes e clnicas"})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsx("button",{onClick:()=>Vn("categorias"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="categorias"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Categorias"}),u.jsx("button",{onClick:()=>Vn("taxas"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="taxas"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Taxas de Carto"}),u.jsx("button",{onClick:()=>Vn("clientes"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="clientes"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Clientes"}),u.jsx("button",{onClick:()=>Vn("procedimentos"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="procedimentos"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Procedimentos"}),u.jsx("button",{onClick:()=>Vn("profissionais"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="profissionais"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Profissionais"}),u.jsx("button",{onClick:()=>Vn("fornecedores"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${e==="fornecedores"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Fornecedores"})]}),e==="categorias"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-100",children:[u.jsx("button",{onClick:()=>c("receita"),className:`flex-1 py-4 text-sm font-medium text-center transition-colors ${l==="receita"?"text-brand-600 border-b-2 border-brand-600 bg-brand-50":"text-gray-500 hover:text-gray-700"}`,children:"Categorias de Receitas"}),u.jsx("button",{onClick:()=>c("despesa"),className:`flex-1 py-4 text-sm font-medium text-center transition-colors ${l==="despesa"?"text-red-600 border-b-2 border-red-600 bg-red-50":"text-gray-500 hover:text-gray-700"}`,children:"Categorias de Despesas"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("form",{onSubmit:Ap,className:"flex gap-3 mb-8",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(bC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{value:f,onChange:S=>h(S.target.value),placeholder:`Nova categoria de ${l}...`,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500"})]}),u.jsxs("button",{type:"submit",disabled:p||!f.trim(),className:"px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 flex items-center gap-2",children:[p?u.jsx(Ut,{size:18,className:"animate-spin"}):u.jsx(Wr,{size:18}),v?"Atualizar":"Adicionar"]})]}),a?u.jsx("div",{className:"text-center py-8 text-gray-400",children:"Carregando..."}):u.jsxs("ul",{className:"divide-y divide-gray-100",children:[fo.map(S=>u.jsxs("li",{className:"py-3 flex items-center justify-between hover:bg-gray-50 px-2 rounded-lg -mx-2 transition-colors",children:[u.jsx("span",{className:"font-medium text-gray-700",children:S.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{g(S.id),h(S.name)},className:"text-xs text-gray-500 hover:text-brand-600",children:"Editar"}),u.jsx("button",{onClick:()=>kp(S.id),className:"p-2 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-50 transition-colors",children:u.jsx(Gl,{size:16})})]})]},S.id)),fo.length===0&&u.jsx("li",{className:"text-center py-8 text-gray-400 italic",children:"Nenhuma categoria cadastrada."})]})]})]}),e==="taxas"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(gC,{size:18})," Taxas por Bandeira"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre a taxa (%) por bandeira de carto de crdito."})]})}),u.jsxs("form",{onSubmit:Np,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bandeira"}),u.jsx("input",{required:!0,value:x.bandeira,onChange:S=>j({...x,bandeira:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Ex: Visa, Master, Elo"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taxa (%)"}),u.jsx("input",{required:!0,type:"number",step:"0.01",value:x.taxa_percent,onChange:S=>j({...x,taxa_percent:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas (mn)"}),u.jsx("input",{required:!0,type:"number",min:"1",value:x.min_installments,onChange:S=>j({...x,min_installments:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parcelas (mx)"}),u.jsx("input",{required:!0,type:"number",min:"1",value:x.max_installments,onChange:S=>j({...x,max_installments:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("button",{type:"submit",disabled:w,className:"w-full px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2 justify-center",children:[w?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),O?"Atualizar":"Salvar"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.map(S=>u.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:S.bandeira}),u.jsxs("p",{className:"text-sm text-gray-500",children:[S.metodo,"  ",S.min_installments,"x at ",S.max_installments,"x"]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-brand-600 font-bold",children:[S.taxa_percent,"%"]}),u.jsx("button",{onClick:()=>{P(S.id),j({bandeira:S.bandeira,taxa_percent:String(S.taxa_percent),metodo:S.metodo,min_installments:String(S.min_installments||1),max_installments:String(S.max_installments||1)})},className:"text-gray-400 hover:text-brand-600",children:"Editar"}),u.jsx("button",{onClick:()=>Cp(S.id),className:"text-gray-400 hover:text-red-600",children:u.jsx(Gl,{size:16})})]})]},S.id)),y.length===0&&u.jsx("div",{className:"text-sm text-gray-400",children:"Nenhuma taxa cadastrada."})]})]}),e==="clientes"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(Xl,{size:18})," Clientes"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Registre clientes com CPF e CEP para relacionar aos lanamentos."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("a",{href:`data:text/csv;charset=utf-8,${encodeURIComponent(`Nome,CPF,CEP
Fulano da Silva,12345678909,01000-000
Maria Souza,98765432100,20000-000`)}`,download:"modelo_clientes.csv",className:"px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg flex items-center gap-2",children:[u.jsx(na,{size:14})," Modelo CSV"]}),u.jsxs("label",{className:`px-3 py-2 text-sm bg-brand-600 text-white rounded-lg flex items-center gap-2 cursor-pointer hover:bg-brand-700 ${D?"opacity-60 pointer-events-none":""}`,children:[u.jsx(xy,{size:14})," ",D?"Importando...":"Importar CSV",u.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:async S=>{var I;(I=S.target.files)!=null&&I.length&&(await Pp(S.target.files[0]),S.target.value="")}})]})]})]}),V&&u.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 bg-gray-50 text-sm",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Relatrio de importao"}),u.jsxs("p",{className:"text-gray-700",children:["Importados: ",V.imported]}),V.rejected.length>0&&u.jsxs("div",{className:"mt-2 text-gray-700",children:[u.jsx("p",{className:"font-medium mb-1",children:"Registros recusados:"}),u.jsx("ul",{className:"list-disc pl-4 space-y-1",children:V.rejected.map((S,I)=>u.jsxs("li",{children:[u.jsx("span",{className:"font-semibold",children:S.name||"(sem nome)"}),"  CPF: ",S.cpf||"(vazio)","  CEP: ",S.cep||"-","  ",S.reason]},I))})]})]}),u.jsxs("form",{onSubmit:jr,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),u.jsx("input",{required:!0,value:$.name,onChange:S=>L({...$,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Nome completo"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),u.jsx("input",{value:$.cpf,onChange:S=>L({...$,cpf:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Somente nmeros"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),u.jsx("input",{value:$.cep,onChange:S=>L({...$,cep:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"00000-000"})]}),u.jsx("div",{className:"md:col-span-4 flex justify-end",children:u.jsxs("button",{type:"submit",disabled:M,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2",children:[M?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),F?"Atualizar Cliente":"Salvar Cliente"]})})]}),U&&u.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:U}),u.jsxs("div",{className:"border border-gray-100 rounded-lg divide-y",children:[k.map(S=>u.jsxs("div",{className:"p-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:S.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["CPF: ",S.cpf||"-","  CEP: ",S.cep||"-"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{A(S.id),L({name:S.name||"",cpf:S.cpf||"",cep:S.cep||""})},className:"text-gray-400 hover:text-brand-600 text-sm",children:"Editar"}),u.jsx("button",{onClick:()=>Hn(S.id),className:"text-gray-400 hover:text-red-600",children:u.jsx(Gl,{size:16})})]})]},S.id)),k.length===0&&u.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:"Nenhum cliente cadastrado."})]})]}),e==="procedimentos"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(Wb,{size:16})," Procedimentos realizados"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre procedimentos individualmente ou importe via CSV."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("a",{href:`data:text/csv;charset=utf-8,${encodeURIComponent(`#,Categoria,Procedimento,Custo insumo,Tempo (min),Valor cobrado
1,Consulta,Consulta Geral,50,30,200`)}`,download:"modelo_procedimentos.csv",className:"px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg flex items-center gap-2",children:[u.jsx(na,{size:14})," Modelo CSV"]}),u.jsxs("label",{className:`px-3 py-2 text-sm bg-brand-600 text-white rounded-lg flex items-center gap-2 cursor-pointer hover:bg-brand-700 ${ne?"opacity-60 pointer-events-none":""}`,children:[u.jsx(xy,{size:14})," ",ne?"Importando...":"Importar CSV",u.jsx("input",{type:"file",accept:".csv,text/csv",className:"hidden",onChange:async S=>{var Y;if(!((Y=S.target.files)!=null&&Y.length))return;if(!d){alert("Nenhuma clnica ativa para importar procedimentos.");return}const I=S.target.files[0];G(!0);try{const oe=(await I.text()).replace(/^\uFEFF/,"").split(/\r?\n/).filter(Ie=>Ie.trim().length>0);if(!oe.length)throw new Error("Arquivo vazio");const ge=oe[0],me=(ge.match(/,/g)||[]).length,Je=(ge.match(/;/g)||[]).length>me?";":",",Ee=Ie=>{const At=[];let Oe="",qe=!1;for(let Ge=0;Ge<Ie.length;Ge++){const _t=Ie[Ge];if(_t==='"'){qe=!qe;continue}_t===Je&&!qe?(At.push(Oe),Oe=""):Oe+=_t}return At.push(Oe),At.map(Ge=>Ge.trim())},Br=Ee(ge).map(Ie=>Ie.toLowerCase()),Pe=Br.some(Ie=>Ie.includes("procedimento")||Ie.includes("categoria")),Kn=Pe?oe.slice(1):oe,Sr=Ie=>{const At=Br.findIndex(Oe=>Ie.some(qe=>Oe.includes(qe)));return At>=0?At:-1},Te=Pe?Sr(["categoria"]):-1,Be=Pe?Sr(["procedimento"]):-1,Me=Pe?Sr(["custo"]):-1,nt=Pe?Sr(["tempo"]):-1,_e=Pe?Sr(["valor"]):-1,$e=Kn.map(Ie=>{const At=Ee(Ie),Oe=!Pe&&At.length>=6?1:0,qe=fi=>{if(fi==null||fi==="")return null;const Tp=fi.replace(/\./g,"").replace(",","."),xu=Number(Tp);return Number.isFinite(xu)?xu:null},Ge=(fi,Tp)=>{const xu=fi>=0?fi:Tp;return At[xu]??""},_t=Ge(Te,Oe+0),Or=Ge(Be,Oe+1),nn=Ge(Me,Oe+2),di=Ge(nt,Oe+3),GT=Ge(_e,Oe+4);return{categoria:_t||null,procedimento:Or||"",custo_insumo:qe(nn),tempo_minutos:qe(di),valor_cobrado:qe(GT),clinic_id:d}}).filter(Ie=>Ie.procedimento);if($e.length){const{error:Ie}=await K.from("procedures").insert($e);if(Ie)throw Ie;On()}else alert("Nenhuma linha vlida encontrada no CSV.")}catch(H){alert("Erro ao importar CSV: "+H.message)}finally{G(!1),S.target.value=""}}})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 justify-between items-center",children:[u.jsx("input",{type:"text",value:ce,onChange:S=>Re(S.target.value),placeholder:"Buscar procedimento...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-500 flex-1 min-w-[220px]"}),u.jsx("button",{onClick:async()=>{if(!X.length||!confirm("Apagar procedimentos selecionados?"))return;const{error:S}=await K.from("procedures").delete().in("id",X);S||(de([]),On())},className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg border border-red-200 text-sm mr-2 disabled:opacity-50",disabled:!X.length,children:"Apagar selecionados"}),u.jsxs("button",{onClick:()=>{Ke(null),xe({categoria:"",procedimento:"",valor_cobrado:"",custo_insumo:"",tempo_minutos:""}),T(!0)},className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 flex items-center gap-2",children:[u.jsx(Wr,{size:16})," Novo procedimento"]})]}),u.jsx("div",{className:"border border-gray-100 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-600 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2",children:u.jsx("input",{type:"checkbox",checked:X.length>0&&X.length===re.length,onChange:S=>{S.target.checked?de(re.map(I=>I.id)):de([])}})}),u.jsx("th",{className:"px-4 py-2 text-left",children:"#"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Categoria"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Procedimento"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Custo insumo"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Tempo (min)"}),u.jsx("th",{className:"px-4 py-2 text-left",children:"Valor cobrado"}),u.jsx("th",{className:"px-4 py-2 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[re.filter(S=>{var I;return(I=S.procedimento)==null?void 0:I.toLowerCase().includes(ce.toLowerCase())}).map((S,I)=>{const Y=X.includes(S.id);return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 text-gray-700",children:u.jsx("input",{type:"checkbox",checked:Y,onChange:H=>{H.target.checked?de(oe=>[...oe,S.id]):de(oe=>oe.filter(ge=>ge!==S.id))}})}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:I+1}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:S.categoria||"-"}),u.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800",children:S.procedimento}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:S.custo_insumo??"-"}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:S.tempo_minutos??"-"}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:S.valor_cobrado??"-"}),u.jsxs("td",{className:"px-4 py-2 text-right",children:[u.jsx("button",{onClick:()=>{Ke(S.id),xe({categoria:S.categoria||"",procedimento:S.procedimento||"",valor_cobrado:S.valor_cobrado||"",custo_insumo:S.custo_insumo||"",tempo_minutos:S.tempo_minutos||""}),T(!0)},className:"text-brand-600 text-sm mr-3",children:"Editar"}),u.jsx("button",{onClick:async()=>{if(!confirm("Excluir procedimento?"))return;const{error:H}=await K.from("procedures").delete().eq("id",S.id);H||On()},className:"text-red-600 text-sm",children:"Apagar"})]})]},S.id)}),re.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-sm text-gray-400",children:"Nenhum procedimento cadastrado."})})]})]})}),Se&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:He?"Editar procedimento":"Novo procedimento"}),u.jsx("button",{onClick:()=>{T(!1),Ke(null)},className:"text-gray-500 hover:text-gray-700",children:""})]}),u.jsxs("form",{onSubmit:async S=>{if(S.preventDefault(),!!le.procedimento.trim()){if(!d){alert("Nenhuma clnica ativa para salvar procedimento.");return}te(!0);try{const I={categoria:le.categoria||null,procedimento:le.procedimento,valor_cobrado:le.valor_cobrado?Number(le.valor_cobrado):null,custo_insumo:le.custo_insumo?Number(le.custo_insumo):null,tempo_minutos:le.tempo_minutos?Number(le.tempo_minutos):null,clinic_id:d};if(He){const{error:Y}=await K.from("procedures").update(I).eq("id",He);if(Y)throw Y}else{const{error:Y}=await K.from("procedures").insert([I]);if(Y)throw Y}xe({categoria:"",procedimento:"",valor_cobrado:"",custo_insumo:"",tempo_minutos:""}),Ke(null),T(!1),On()}catch(I){alert("Erro ao salvar procedimento: "+I.message)}finally{te(!1)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),u.jsx("input",{value:le.categoria,onChange:S=>xe({...le,categoria:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Ex: Consulta"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Procedimento"}),u.jsx("input",{required:!0,value:le.procedimento,onChange:S=>xe({...le,procedimento:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Nome do procedimento"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor cobrado"}),u.jsx("input",{type:"number",value:le.valor_cobrado,onChange:S=>xe({...le,valor_cobrado:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo insumo"}),u.jsx("input",{type:"number",value:le.custo_insumo,onChange:S=>xe({...le,custo_insumo:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo (min)"}),u.jsx("input",{type:"number",value:le.tempo_minutos,onChange:S=>xe({...le,tempo_minutos:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T(!1),Ke(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:ee,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2",children:[ee?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),He?"Atualizar":"Salvar"]})]})]})]})})]}),e==="profissionais"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(Xl,{size:16})," Profissionais"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre profissionais para venda e execuo."})]})}),u.jsxs("form",{onSubmit:async S=>{if(S.preventDefault(),!!vt.nome.trim()){li(!0);try{if(jn){const{error:I}=await K.from("professionals").update({nome:vt.nome,tipo:vt.tipo,clinic_id:d}).eq("id",jn);if(I)throw I}else{const{error:I}=await K.from("professionals").insert([{nome:vt.nome,tipo:vt.tipo,clinic_id:d}]);if(I)throw I}Vt({nome:"",tipo:"venda"}),Wn(null),al()}catch(I){alert("Erro ao salvar profissional: "+I.message)}finally{li(!1)}}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),u.jsx("input",{value:vt.nome,onChange:S=>Vt({...vt,nome:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Nome do profissional"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),u.jsxs("select",{value:vt.tipo,onChange:S=>Vt({...vt,tipo:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"venda",children:"Venda"}),u.jsx("option",{value:"execucao",children:"Execuo"})]})]}),u.jsx("div",{className:"md:col-span-3 flex justify-end",children:u.jsxs("button",{type:"submit",disabled:Qt,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2",children:[Qt?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),jn?"Atualizar":"Salvar"]})})]}),u.jsxs("div",{className:"border border-gray-100 rounded-lg divide-y",children:[gt.map(S=>u.jsxs("div",{className:"p-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:S.nome}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Tipo: ",S.tipo]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{Wn(S.id),Vt({nome:S.nome||"",tipo:S.tipo||"venda"})},className:"text-sm text-brand-600",children:"Editar"}),u.jsx("button",{onClick:async()=>{if(!confirm("Excluir profissional?"))return;const{error:I}=await K.from("professionals").delete().eq("id",S.id);I||al()},className:"text-sm text-red-600",children:"Apagar"})]})]},S.id)),gt.length===0&&u.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:"Nenhum profissional cadastrado."})]})]}),e==="fornecedores"&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(Xl,{size:16})," Fornecedores"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre fornecedores para usar no lanamento de despesas."})]})}),u.jsxs("form",{onSubmit:async S=>{if(S.preventDefault(),!!z.nome.trim()){yu(!0);try{if(rn){const{error:I}=await K.from("suppliers").update({nome:z.nome,cnpj:z.cnpj,telefone:z.telefone,clinic_id:d}).eq("id",rn);if(I)throw I}else{const{error:I}=await K.from("suppliers").insert([{nome:z.nome,cnpj:z.cnpj,telefone:z.telefone,clinic_id:d}]);if(I)throw I}wt({nome:"",cnpj:"",telefone:""}),De(null),il()}catch(I){alert("Erro ao salvar fornecedor: "+I.message)}finally{yu(!1)}}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da empresa"}),u.jsx("input",{value:z.nome,onChange:S=>wt({...z,nome:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Fornecedor Ltda"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),u.jsx("input",{value:z.cnpj,onChange:S=>wt({...z,cnpj:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Somente nmeros"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),u.jsx("input",{value:z.telefone,onChange:S=>wt({...z,telefone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"(00) 00000-0000"})]}),u.jsx("div",{className:"md:col-span-3 flex justify-end",children:u.jsxs("button",{type:"submit",disabled:nl,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2",children:[nl?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),rn?"Atualizar":"Salvar"]})})]}),u.jsxs("div",{className:"border border-gray-100 rounded-lg divide-y",children:[ci.map(S=>u.jsxs("div",{className:"p-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:S.nome}),u.jsxs("p",{className:"text-xs text-gray-500",children:["CNPJ: ",S.cnpj||"-","  Tel: ",S.telefone||"-"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{De(S.id),wt({nome:S.nome||"",cnpj:S.cnpj||"",telefone:S.telefone||""})},className:"text-sm text-brand-600",children:"Editar"}),u.jsx("button",{onClick:async()=>{if(!confirm("Excluir fornecedor?"))return;const{error:I}=await K.from("suppliers").delete().eq("id",S.id);I||il()},className:"text-sm text-red-600",children:"Apagar"})]})]},S.id)),ci.length===0&&u.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:"Nenhum fornecedor cadastrado."})]})]})]})},boe=()=>{const e=[{value:"/",label:"Dashboard"},{value:"/incomes",label:"Receitas"},{value:"/expenses",label:"Despesas"},{value:"/card-analysis",label:"Anlise de carto"},{value:"/reconciliation",label:"Conciliao bancria"},{value:"/accounts",label:"Contas bancrias"},{value:"/settings",label:"Configuraes"},{value:"/settings?section=categorias",label:"Configuraes  Categorias"},{value:"/settings?section=taxas",label:"Configuraes  Taxas"},{value:"/settings?section=clientes",label:"Configuraes  Clientes"},{value:"/settings?section=procedimentos",label:"Configuraes  Procedimentos"},{value:"/settings?section=profissionais",label:"Configuraes  Profissionais"},{value:"/settings?section=fornecedores",label:"Configuraes  Fornecedores"},{value:"/commercial/dashboard",label:"Comercial  Dashboard"},{value:"/commercial/ranking",label:"Comercial  Ranking dos clientes"},{value:"/commercial/recurrence",label:"Comercial  Recorrncia"},{value:"/commercial/geo",label:"Comercial  Geolocalizao"},{value:"/admin",label:"Admin"}],t=E.useMemo(()=>Object.fromEntries(e.map(T=>[T.value,T.label])),[]),[r,n]=E.useState("overview"),[a,i]=E.useState(!0),[o,s]=E.useState([]),[l,c]=E.useState({name:"",responsavel_nome:"",documento:"",email_contato:"",telefone_contato:"",plano:"basico",paginas_liberadas:[],ativo:!0}),[d,f]=E.useState(null),[h,p]=E.useState([]),[m,v]=E.useState(""),[g,y]=E.useState("todas"),[b,x]=E.useState([]),[j,w]=E.useState({clinic_id:"",name:"",email:"",role:"user",ativo:!0,paginas_liberadas:[]}),[_,O]=E.useState(null),[P,k]=E.useState([]),[R,$]=E.useState(""),[L,U]=E.useState("user"),[C,M]=E.useState([]),[B,F]=E.useState(!1),[A,D]=E.useState(!1),[q,V]=E.useState([]),[J,re]=E.useState(!0),[pe,le]=E.useState({clinic_id:"",email:"",role:"user"}),[xe,He]=E.useState(!1),[Ke,ee]=E.useState(null),te=async()=>{i(!0);try{const{data:T,error:X}=await K.from("clinics").select("*, bank_accounts (id), categories (id), clinic_users (id, ativo)").order("created_at",{ascending:!1});if(X)throw X;s(T||[])}catch(T){console.error("Erro ao carregar clnicas:",T)}finally{i(!1)}},ne=async(T,X)=>{if(!T.length)return;const{error:de}=await K.from("clinics").update({ativo:X}).in("id",T);if(de){alert("Erro ao atualizar clnicas: "+de.message);return}p([]),te()};E.useEffect(()=>{te(),K.from("clinic_users").select("*").order("created_at",{ascending:!1}).then(({data:T})=>{T&&x(T)}),K.from("clinic_invites").select("*").order("created_at",{ascending:!1}).then(({data:T,error:X})=>{if(X){console.warn("Convites indisponveis (tabela ausente?):",X.message),re(!1);return}V(T||[])}),K.auth.getSession().then(({data:T})=>{var X;return ee(((X=T.session)==null?void 0:X.user.id)||null)})},[]);const G=E.useMemo(()=>{const T=o.length,X=o.reduce((Re,gt)=>{var Wt;return Re+(((Wt=gt.clinic_users)==null?void 0:Wt.length)||0)},0),de=o.reduce((Re,gt)=>{var Wt;return Re+(((Wt=gt.clinic_users)==null?void 0:Wt.filter(vt=>vt.ativo!==!1).length)||0)},0),ce=o.reduce((Re,gt)=>{var Wt;return Re+(((Wt=gt.bank_accounts)==null?void 0:Wt.length)||0)},0);return{totalClinics:T,totalUsers:X,totalUsersAtivos:de,totalAccounts:ce}},[o]),Se=E.useMemo(()=>o.filter(T=>{var ce;const X=(ce=T.name)==null?void 0:ce.toLowerCase().includes(m.toLowerCase()),de=g==="todas"||g==="ativas"&&T.ativo!==!1||g==="inativas"&&T.ativo===!1;return X&&de}),[o,m,g]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(yC,{size:22})," Administrador"]}),u.jsx("p",{className:"text-gray-500",children:"Viso geral de todos os clientes (multiusurio)"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>n("overview"),className:`px-3 py-2 text-sm rounded-lg border ${r==="overview"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Viso geral"}),u.jsx("button",{onClick:()=>n("clinics"),className:`px-3 py-2 text-sm rounded-lg border ${r==="clinics"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Clnicas"}),u.jsx("button",{onClick:()=>n("users"),className:`px-3 py-2 text-sm rounded-lg border ${r==="users"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:"Usurios"}),u.jsxs("button",{onClick:te,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg flex items-center gap-2 text-sm text-gray-700 hover:bg-gray-50",children:[u.jsx(vC,{size:16})," Atualizar"]})]})]}),r==="overview"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-50 text-brand-600 flex items-center justify-center",children:u.jsx(wS,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Clnicas"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:G.totalClinics})]})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:u.jsx($ne,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Usurios"}),u.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[G.totalUsers," ",u.jsxs("span",{className:"text-xs text-gray-500",children:["(",G.totalUsersAtivos," ativos)"]})]})]})]}),u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center",children:u.jsx(mu,{size:20})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Contas Bancrias"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:G.totalAccounts})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800",children:"Clnicas"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Dados gerais de todos os clientes"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("input",{type:"text",value:m,onChange:T=>v(T.target.value),placeholder:"Buscar clnica por nome...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-500"}),u.jsxs("select",{value:g,onChange:T=>y(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:ring-2 focus:ring-brand-500",children:[u.jsx("option",{value:"todas",children:"Todas"}),u.jsx("option",{value:"ativas",children:"Ativas"}),u.jsx("option",{value:"inativas",children:"Inativas"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-500 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3",children:"Nome"}),u.jsx("th",{className:"px-6 py-3",children:"Criada em"}),u.jsx("th",{className:"px-6 py-3",children:"Plano"}),u.jsx("th",{className:"px-6 py-3",children:"Status"}),u.jsx("th",{className:"px-6 py-3",children:"Usurios"}),u.jsx("th",{className:"px-6 py-3",children:"Contas"}),u.jsx("th",{className:"px-6 py-3",children:"Categorias"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-6 text-center text-gray-400",children:"Carregando..."})}),!a&&Se.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-6 py-6 text-center text-gray-400",children:"Nenhuma clnica encontrada."})}),!a&&Se.map(T=>{var X,de,ce;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 font-semibold text-gray-800",children:T.name}),u.jsx("td",{className:"px-6 py-4 text-gray-600",children:Mt(T.created_at)}),u.jsx("td",{className:"px-6 py-4 text-gray-600 capitalize",children:T.plano||""}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${T.ativo===!1?"bg-gray-100 text-gray-600":"bg-emerald-50 text-emerald-700"}`,children:T.ativo===!1?"Inativa":"Ativa"})}),u.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[((X=T.clinic_users)==null?void 0:X.length)||0,T.clinic_users&&T.clinic_users.length>0&&u.jsxs("span",{className:"text-xs text-gray-500",children:["  ",T.clinic_users.filter(Re=>Re.ativo!==!1).length," ativos"]})]}),u.jsx("td",{className:"px-6 py-4 text-gray-600",children:((de=T.bank_accounts)==null?void 0:de.length)||0}),u.jsx("td",{className:"px-6 py-4 text-gray-600",children:((ce=T.categories)==null?void 0:ce.length)||0})]},T.id)})]})]})})]})]}),r==="clinics"&&u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(wS,{size:18})," Clnicas"]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Gesto completa das clnicas"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>ne(h,!0),className:"px-3 py-2 text-sm bg-emerald-50 text-emerald-700 rounded-lg border border-emerald-100",children:"Ativar selecionadas"}),u.jsx("button",{onClick:()=>ne(h,!1),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded-lg border border-red-100",children:"Desativar selecionadas"})]})]}),u.jsxs("form",{onSubmit:async T=>{if(T.preventDefault(),!!l.name.trim()){F(!0);try{if(d){const{error:X}=await K.from("clinics").update(l).eq("id",d);if(X)throw X}else{const{error:X}=await K.from("clinics").insert([{...l}]);if(X)throw X}c({name:"",responsavel_nome:"",documento:"",email_contato:"",telefone_contato:"",plano:"basico",paginas_liberadas:[],ativo:!0}),f(null),te()}catch(X){alert("Erro ao salvar clnica: "+X.message)}finally{F(!1)}}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Clnica"}),u.jsx("input",{value:l.name,onChange:T=>c(X=>({...X,name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),u.jsx("input",{value:l.responsavel_nome,onChange:T=>c(X=>({...X,responsavel_nome:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ/CPF"}),u.jsx("input",{value:l.documento,onChange:T=>c(X=>({...X,documento:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),u.jsx("input",{value:l.email_contato,onChange:T=>c(X=>({...X,email_contato:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),u.jsx("input",{value:l.telefone_contato,onChange:T=>c(X=>({...X,telefone_contato:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plano"}),u.jsxs("select",{value:l.plano,onChange:T=>c(X=>({...X,plano:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"basico",children:"Bsico"}),u.jsx("option",{value:"pro",children:"Pro"}),u.jsx("option",{value:"enterprise",children:"Enterprise"})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pginas liberadas"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{type:"button",onClick:()=>c(T=>({...T,paginas_liberadas:e.map(X=>X.value)})),className:"px-2 py-1 text-xs bg-emerald-50 text-emerald-700 rounded border border-emerald-100",children:"Selecionar tudo"}),u.jsx("button",{type:"button",onClick:()=>c(T=>({...T,paginas_liberadas:[]})),className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded border border-red-100",children:"Limpar"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.map(T=>{const X=l.paginas_liberadas.includes(T.value);return u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 border border-gray-200 rounded-lg px-2 py-1",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:de=>{de.target.checked?c(ce=>({...ce,paginas_liberadas:[...ce.paginas_liberadas,T.value]})):c(ce=>({...ce,paginas_liberadas:ce.paginas_liberadas.filter(Re=>Re!==T.value)}))}}),T.label]},T.value)})})]}),u.jsxs("div",{className:"flex items-end gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx("input",{type:"checkbox",checked:l.ativo,onChange:T=>c(X=>({...X,ativo:T.target.checked})),className:"h-4 w-4 text-brand-600 border-gray-300 rounded"}),"Ativa"]}),u.jsxs("button",{type:"submit",disabled:B,className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2 justify-center",children:[B?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),d?"Atualizar":"Salvar"]})]})]}),u.jsx("input",{type:"text",value:m,onChange:T=>v(T.target.value),placeholder:"Buscar clnica por nome...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-500"}),u.jsxs("div",{className:"border border-gray-100 rounded-lg divide-y",children:[Se.map(T=>{const X=h.includes(T.id);return u.jsxs("div",{className:"p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:de=>{de.target.checked?p(ce=>[...ce,T.id]):p(ce=>ce.filter(Re=>Re!==T.id))}}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-gray-800",children:[T.name," ",!T.ativo&&u.jsx("span",{className:"text-xs text-red-600",children:"(inativa)"})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",T.id,"  Plano: ",T.plano||""]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Contato: ",T.responsavel_nome||"-","  ",T.email_contato||"-","  ",T.telefone_contato||"-"]}),T.paginas_liberadas&&T.paginas_liberadas.length>0&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Pginas: ",T.paginas_liberadas.map(de=>t[de]||de).join(", ")]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{f(T.id),c({name:T.name||"",responsavel_nome:T.responsavel_nome||"",documento:T.documento||"",email_contato:T.email_contato||"",telefone_contato:T.telefone_contato||"",plano:T.plano||"basico",paginas_liberadas:T.paginas_liberadas||[],ativo:T.ativo??!0})},className:"text-sm text-brand-600",children:"Editar"}),u.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.ativo?"bg-emerald-50 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:T.ativo?"Ativa":"Inativa"})]})]},T.id)}),Se.length===0&&u.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:"Nenhuma clnica cadastrada."})]})]}),r==="users"&&u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-md font-semibold text-gray-800 flex items-center gap-2",children:[u.jsx(Wb,{size:16})," Usurios da Clnica"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>K.from("clinic_users").update({ativo:!0}).in("id",P).then(()=>K.from("clinic_users").select("*").order("created_at",{ascending:!1}).then(({data:T})=>T&&x(T))),className:"px-3 py-2 text-sm bg-emerald-50 text-emerald-700 rounded-lg border border-emerald-100",children:"Ativar"}),u.jsx("button",{onClick:()=>K.from("clinic_users").update({ativo:!1}).in("id",P).then(()=>K.from("clinic_users").select("*").order("created_at",{ascending:!1}).then(({data:T})=>T&&x(T))),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded-lg border border-red-100",children:"Desativar"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"md:col-span-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:"Convidar usurio"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Gere um convite por e-mail (role: owner/admin/user)"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"email",value:pe.email,onChange:T=>le(X=>({...X,email:T.target.value})),placeholder:"email@dominio.com",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-500"}),u.jsxs("select",{value:pe.clinic_id,onChange:T=>le(X=>({...X,clinic_id:T.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:ring-2 focus:ring-brand-500",children:[u.jsx("option",{value:"",children:"Clnica..."}),o.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]}),u.jsxs("select",{value:pe.role,onChange:T=>le(X=>({...X,role:T.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white outline-none focus:ring-2 focus:ring-brand-500",children:[u.jsx("option",{value:"owner",children:"Owner"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"Usurio"})]}),u.jsx("button",{type:"button",disabled:xe||!J,onClick:async()=>{if(!J){alert("Convites indisponveis: tabela clinic_invites no encontrada no Supabase.");return}if(!pe.email||!pe.clinic_id){alert("Informe e-mail e clnica");return}He(!0);try{const T=crypto.randomUUID(),X=new Date(Date.now()+7*24*60*60*1e3).toISOString(),{error:de,data:ce}=await K.from("clinic_invites").insert([{clinic_id:pe.clinic_id,email:pe.email,role:pe.role,token:T,invited_by:Ke,expires_at:X}]).select().single();if(de)throw de;alert(`Convite gerado. Token: ${ce.token}. Envie o link /accept-invite?token=${ce.token}`);const{data:Re}=await K.from("clinic_invites").select("*").order("created_at",{ascending:!1});Re&&V(Re),le({clinic_id:"",email:"",role:"user"})}catch(T){alert("Erro ao enviar convite: "+T.message)}finally{He(!1)}},className:`px-4 py-2 rounded-lg text-sm ${J?"bg-brand-600 text-white hover:bg-brand-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:J?xe?"Enviando...":"Enviar convite":"Convites indisponveis"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-white text-gray-500 border border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2",children:"E-mail"}),u.jsx("th",{className:"px-3 py-2",children:"Clnica"}),u.jsx("th",{className:"px-3 py-2",children:"Role"}),u.jsx("th",{className:"px-3 py-2",children:"Expira"}),u.jsx("th",{className:"px-3 py-2",children:"Token"}),u.jsx("th",{className:"px-3 py-2 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[J?q.map(T=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-gray-800",children:T.email}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:T.clinic_id}),u.jsx("td",{className:"px-3 py-2 text-gray-600 capitalize",children:T.role}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:Mt(T.expires_at)}),u.jsx("td",{className:"px-3 py-2 text-xs text-gray-500 break-all",children:T.token}),u.jsx("td",{className:"px-3 py-2 text-right",children:u.jsx("button",{onClick:async()=>{if(!confirm("Revogar convite?"))return;const{error:X}=await K.from("clinic_invites").delete().eq("id",T.id);if(X){alert(X.message);return}V(de=>de.filter(ce=>ce.id!==T.id))},className:"text-sm text-red-600 hover:underline",children:"Revogar"})})]},T.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-3 py-3 text-center text-gray-400",children:"Convites indisponveis (tabela clinic_invites ausente)."})}),J&&q.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-3 py-3 text-center text-gray-400",children:"Nenhum convite pendente."})})]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clnica"}),u.jsxs("select",{value:j.clinic_id,onChange:T=>w({...j,clinic_id:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"",children:"Selecione..."}),o.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),u.jsx("input",{value:j.name,onChange:T=>w({...j,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"Nome do usurio"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),u.jsx("input",{type:"email",value:j.email,onChange:T=>w({...j,email:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none",placeholder:"email@dominio.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papel/Acesso"}),u.jsxs("select",{value:j.role,onChange:T=>w({...j,role:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"owner",children:"Owner"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"Usurio"})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pginas liberadas"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{type:"button",onClick:()=>w(T=>({...T,paginas_liberadas:e.map(X=>X.value)})),className:"px-2 py-1 text-xs bg-emerald-50 text-emerald-700 rounded border border-emerald-100",children:"Selecionar tudo"}),u.jsx("button",{type:"button",onClick:()=>w(T=>({...T,paginas_liberadas:[]})),className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded border border-red-100",children:"Limpar"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.map(T=>{const X=j.paginas_liberadas.includes(T.value);return u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 border border-gray-200 rounded-lg px-2 py-1",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:de=>{de.target.checked?w(ce=>({...ce,paginas_liberadas:[...ce.paginas_liberadas,T.value]})):w(ce=>({...ce,paginas_liberadas:ce.paginas_liberadas.filter(Re=>Re!==T.value)}))}}),T.label]},T.value)})})]}),u.jsxs("div",{className:"flex items-end gap-3",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx("input",{type:"checkbox",checked:j.ativo,onChange:T=>w(X=>({...X,ativo:T.target.checked})),className:"h-4 w-4 text-brand-600 border-gray-300 rounded"}),"Ativo"]}),u.jsxs("button",{type:"button",onClick:async()=>{D(!0);try{if(_){const{error:X}=await K.from("clinic_users").update(j).eq("id",_);if(X)throw X}else{const{error:X}=await K.from("clinic_users").insert([j]);if(X)throw X}const{data:T}=await K.from("clinic_users").select("*").order("created_at",{ascending:!1});T&&x(T),w({clinic_id:"",name:"",email:"",role:"user",ativo:!0,paginas_liberadas:[]}),O(null)}catch(T){alert("Erro ao salvar usurio: "+T.message)}finally{D(!1)}},className:"px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 flex items-center gap-2 justify-center",children:[A?u.jsx(Ut,{size:16,className:"animate-spin"}):u.jsx(Wr,{size:16}),_?"Atualizar":"Adicionar"]})]})]}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:R,onChange:T=>$(T.target.value),placeholder:"Buscar usurio por nome...",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:ring-2 focus:ring-brand-500 flex-1"}),u.jsx("button",{onClick:()=>{K.from("clinic_users").update({role:L,paginas_liberadas:C}).in("id",P).then(()=>K.from("clinic_users").select("*").order("created_at",{ascending:!1}).then(({data:T})=>T&&x(T)))},className:"px-3 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700",children:"Aplicar papel/pginas"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aplicar papel aos selecionados"}),u.jsxs("select",{value:L,onChange:T=>U(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-brand-500 outline-none bg-white",children:[u.jsx("option",{value:"owner",children:"Owner"}),u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"user",children:"Usurio"})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pginas liberadas (aplicar aos selecionados)"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{type:"button",onClick:()=>M(e.map(T=>T.value)),className:"px-2 py-1 text-xs bg-emerald-50 text-emerald-700 rounded border border-emerald-100",children:"Selecionar tudo"}),u.jsx("button",{type:"button",onClick:()=>M([]),className:"px-2 py-1 text-xs bg-red-50 text-red-700 rounded border border-red-100",children:"Limpar"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.map(T=>{const X=C.includes(T.value);return u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 border border-gray-200 rounded-lg px-2 py-1",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:de=>{de.target.checked?M(ce=>[...ce,T.value]):M(ce=>ce.filter(Re=>Re!==T.value))}}),T.label]},T.value)})})]})]}),u.jsxs("div",{className:"border border-gray-100 rounded-lg divide-y",children:[b.filter(T=>{var X;return(X=T.name)==null?void 0:X.toLowerCase().includes(R.toLowerCase())}).map(T=>{const X=P.includes(T.id);return u.jsxs("div",{className:"p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:X,onChange:de=>{de.target.checked?k(ce=>[...ce,T.id]):k(ce=>ce.filter(Re=>Re!==T.id))}}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-gray-800",children:[T.name," ",u.jsxs("span",{className:"text-xs text-gray-500",children:["(",T.role||"user",")"]})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[T.email,"  Clnica: ",T.clinic_id]}),T.paginas_liberadas&&T.paginas_liberadas.length>0&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Pginas: ",T.paginas_liberadas.map(de=>t[de]||de).join(", ")]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{O(T.id),w({clinic_id:T.clinic_id,name:T.name||"",email:T.email||"",role:T.role||"user",ativo:T.ativo??!0,paginas_liberadas:T.paginas_liberadas||[]})},className:"text-sm text-brand-600",children:"Editar"}),u.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.ativo?"bg-emerald-50 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:T.ativo?"Ativo":"Inativo"})]})]},T.id)}),b.length===0&&u.jsx("div",{className:"p-4 text-sm text-gray-400 text-center",children:"Nenhum usurio cadastrado."})]})]})]})},YS=(e,t)=>{if(!e)return"";const r=new Date(e);return isNaN(r.getTime())?e:(r.setDate(r.getDate()+t),r.toISOString().split("T")[0])},zm=e=>{const t=new Date,r=t.toISOString().split("T")[0],n=new Date(t);switch(e){case"dia":break;case"semana":n.setDate(t.getDate()-7);break;case"quinzenal":n.setDate(t.getDate()-15);break;case"mes":n.setMonth(t.getMonth()-1);break;case"ano":n.setFullYear(t.getFullYear()-1);break}return{start:n.toISOString().split("T")[0],end:r}},qm=(e,t=1)=>{const r=e==null?void 0:e.data_competencia;if(!r)return"";const n=(e.forma_pagamento||"").toLowerCase();return n.includes("dbito")||n.includes("debito")?YS(r,1):n.includes("crdito")||n.includes("credito")?YS(r,30*t):r},xoe=e=>{const t=new Date(e);return isNaN(t.getTime())?null:t},JS=(e,t)=>{const r=xoe(e);if(!r)return e;const n=r.getFullYear(),a=`${r.getMonth()+1}`.padStart(2,"0"),i=`${r.getDate()}`.padStart(2,"0");switch(t){case"dia":return`${n}-${a}-${i}`;case"semana":{const o=new Date(r.getTime()),s=(r.getDay()+6)%7;o.setDate(r.getDate()-s+3);const l=new Date(o.getFullYear(),0,4);return`Semana ${1+Math.round(((o.getTime()-l.getTime())/864e5-3)/7)}/${n}`}case"quinzenal":return`${a}/${n} - ${r.getDate()<=15?"1 quinzena":"2 quinzena"}`;case"mes":return`${a}/${n}`;case"ano":return`${n}`;default:return e}},woe=()=>{const[e,t]=E.useState([]),[r,n]=E.useState("mes"),[a,i]=E.useState(zm("mes").start),[o,s]=E.useState(zm("mes").end),[l,c]=E.useState("vendas"),[d,f]=E.useState({column:"data_competencia",direction:"asc"}),[h,p]=E.useState({column:"data_recebimento",direction:"asc"}),[m,v]=E.useState(null),g=E.useMemo(()=>new Date().toISOString().split("T")[0],[]),y=async()=>{try{v(null);let C="id, data_competencia, valor_bruto, valor_liquido, valor, forma_pagamento, paciente, parcelas, bandeira, nsu",M=K.from("revenues").select(C);a&&(M=M.gte("data_competencia",a)),o&&(M=M.lte("data_competencia",o));let{data:B,error:F}=await M;if(F&&`${F.message}`.toLowerCase().includes("nsu")&&(C="id, data_competencia, valor_bruto, valor_liquido, valor, forma_pagamento, paciente, parcelas, bandeira",M=K.from("revenues").select(C),a&&(M=M.gte("data_competencia",a)),o&&(M=M.lte("data_competencia",o)),{data:B,error:F}=await M),F)throw F;t(B||[])}catch(C){console.error(C),v((C==null?void 0:C.message)||"Erro ao carregar dados"),t([])}};E.useEffect(()=>{const{start:C,end:M}=zm(r);i(C),s(M)},[r]),E.useEffect(()=>{y()},[a,o]);const b=C=>{const M=[];return C.forEach(B=>{if(!B.data_competencia)return;const F=Math.max(1,Number(B.parcelas||1));for(let A=1;A<=F;A++){const D=Number(B.valor_bruto||B.valor_liquido||0)/F,q=Number(B.valor_liquido||B.valor_bruto||0)/F,V=B.data_competencia,J=qm(B,A)||V;M.push({...B,parcelaNumero:A,parcelaTotal:F,valorParcela:D,valorParcelaLiquido:q,data_recebimento:J,data_venda:V})}}),M},x=(C,M)=>{const B=M.direction==="asc"?1:-1;return[...C].sort((F,A)=>{const D=F[M.column]??"",q=A[M.column]??"";return D<q?-1*B:D>q?1*B:0})},j=E.useMemo(()=>e.filter(C=>C.data_competencia>=a&&C.data_competencia<=o),[e,a,o]),w=E.useMemo(()=>b(e),[e]),_=E.useMemo(()=>{const C=new Map;return j.forEach(M=>{const B=JS(M.data_competencia,r),F=C.get(B)||{bucket:B,bruto:0,liquido:0};F.bruto+=Number(M.valor_bruto||0),F.liquido+=Number(M.valor_liquido||0),C.set(B,F)}),Array.from(C.values()).sort((M,B)=>M.bucket.localeCompare(B.bucket))},[j,r]),O=E.useMemo(()=>{const C=new Map,M=a>g?a:g;return w.filter(F=>F.data_recebimento&&F.data_recebimento>=M&&F.data_recebimento<=o).forEach(F=>{const A=F.data_recebimento,D=JS(A,r),q=C.get(D)||{bucket:D,liquido:0};q.liquido+=Number(F.valorParcelaLiquido||F.valor_liquido||0),C.set(D,q)}),Array.from(C.values()).sort((F,A)=>F.bucket.localeCompare(A.bucket))},[w,a,o,g,r]),P=E.useMemo(()=>{const C=e.filter(M=>M.data_competencia>=a&&M.data_competencia<=o);return x(b(C),d)},[e,a,o,d]),k=E.useMemo(()=>{const C=a>g?a:g,M=w.filter(B=>B.data_recebimento&&B.data_recebimento>=C&&B.data_recebimento<=o);return x(M,h)},[w,a,o,h,g]),R=(C,M)=>{M==="vendas"?f(B=>({column:C,direction:B.column===C&&B.direction==="asc"?"desc":"asc"})):p(B=>({column:C,direction:B.column===C&&B.direction==="asc"?"desc":"asc"}))},$=(C,M)=>{const F=[["Paciente","Data venda","Data recebimento","Parcela","Valor venda","Valor parcela","Valor parcela lquido","Forma pagamento","NSU","Bandeira"].join(";"),...C.map(V=>[V.paciente||"-",Mt(V.data_venda||V.data_competencia),Mt(V.data_recebimento||qm(V)),`${V.parcelaNumero||1}/${V.parcelaTotal||1}`,fe(Number(V.valor_bruto||V.valor||V.valor_liquido||0)),fe(Number(V.valorParcela||0)),fe(Number(V.valorParcelaLiquido||0)),V.forma_pagamento||"-",V.nsu||"-",V.bandeira||"-"].join(";"))].join(`
`),A=new Blob([F],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(A),q=document.createElement("a");q.href=D,q.setAttribute("download",`${M}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},L=(C,M)=>{const B=C.map(A=>`
      <tr>
        <td>${A.paciente||"-"}</td>
        <td>${Mt(A.data_venda||A.data_competencia)}</td>
        <td>${Mt(A.data_recebimento||qm(A))}</td>
        <td>${A.parcelaNumero||1}/${A.parcelaTotal||1}</td>
        <td>${fe(Number(A.valor_bruto||A.valor||A.valor_liquido||0))}</td>
        <td>${fe(Number(A.valorParcela||0))}</td>
        <td>${fe(Number(A.valorParcelaLiquido||0))}</td>
        <td>${A.forma_pagamento||"-"}</td>
        <td>${A.nsu||"-"}</td>
        <td>${A.bandeira||"-"}</td>
      </tr>
    `).join(""),F=window.open("","_blank");F&&(F.document.write(`
      <html>
        <head>
          <title>${M}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 16px; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; font-size: 12px; }
            th { background: #f3f4f6; text-align: left; }
          </style>
        </head>
        <body>
          <h2>${M}</h2>
          <table>
            <thead>
              <tr>
                <th>Paciente</th><th>Data venda</th><th>Data recebimento</th><th>Parcela</th><th>Valor venda</th><th>Valor parcela</th><th>Valor parcela lquido</th><th>Forma pagamento</th><th>NSU</th><th>Bandeira</th>
              </tr>
            </thead>
            <tbody>${B}</tbody>
          </table>
        </body>
      </html>
    `),F.document.close(),F.print())},U=E.useMemo(()=>{const C=e.reduce((A,D)=>A+Number(D.valor_bruto||0),0),M=e.reduce((A,D)=>A+Number(D.valor_liquido||0),0),B=a>g?a:g,F=w.reduce((A,D)=>{const q=D.data_recebimento;return q&&q>=B&&q<=o?A+Number(D.valorParcelaLiquido||D.valor_liquido||0):A},0);return{vendidoBruto:C,vendidoLiquido:M,receberPeriodo:F}},[e,w,a,o,g]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Anlise de Carto"}),u.jsx("p",{className:"text-gray-500",children:"Compare vendas e recebveis considerando taxas e prazos de carto."})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[["dia","semana","quinzenal","mes","ano"].map(C=>u.jsx("button",{onClick:()=>n(C),className:`px-3 py-2 rounded-lg text-sm border ${r===C?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,children:C[0].toUpperCase()+C.slice(1)},C)),u.jsxs("button",{onClick:y,className:"px-3 py-2 border border-gray-200 rounded-lg text-gray-700 flex items-center gap-2",children:[u.jsx(vC,{size:16})," Atualizar"]})]})]}),u.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 justify-between",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:u.jsx(to,{size:16})}),u.jsx("input",{type:"date",value:a,onChange:C=>i(C.target.value),className:"pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]}),u.jsx("span",{className:"text-gray-400",children:"at"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:u.jsx(to,{size:16})}),u.jsx("input",{type:"date",value:o,onChange:C=>s(C.target.value),className:"pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]})]}),u.jsxs("div",{className:"flex gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Vendido (bruto)"}),u.jsx("p",{className:"text-lg font-semibold text-gray-800",children:fe(U.vendidoBruto)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"Vendido (lquido c/ taxa)"}),u.jsx("p",{className:"text-lg font-semibold text-gray-800",children:fe(U.vendidoLiquido)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-500",children:"A receber no perodo"}),u.jsx("p",{className:"text-lg font-semibold text-emerald-700",children:fe(U.receberPeriodo)})]})]})]})}),u.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[m&&u.jsxs("div",{className:"mb-3 p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:["Erro ao carregar dados: ",m]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[u.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm border ${l==="vendas"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,onClick:()=>c("vendas"),children:[u.jsx(vy,{size:16})," Vendas"]}),u.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm border ${l==="recebiveis"?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-700 border-gray-200"}`,onClick:()=>c("recebiveis"),children:[u.jsx(by,{size:16})," Recebveis"]})]}),l==="vendas"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 text-gray-700 font-semibold",children:[u.jsx(yy,{size:16})," Vendas por data (bruto x lquido)"]}),u.jsx("div",{className:"h-72",children:u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(pC,{data:_,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"gradBruto",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#64748b",stopOpacity:.35}),u.jsx("stop",{offset:"95%",stopColor:"#64748b",stopOpacity:0})]}),u.jsxs("linearGradient",{id:"gradLiquido",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.4}),u.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})]}),u.jsx(Es,{strokeDasharray:"3 3",vertical:!1}),u.jsx(Fn,{dataKey:"bucket"}),u.jsx(Un,{}),u.jsx(sr,{formatter:C=>fe(C),labelFormatter:Mt}),u.jsx(oa,{}),u.jsx(Bn,{type:"monotone",dataKey:"bruto",stroke:"#64748b",fill:"url(#gradBruto)",name:"Bruto"}),u.jsx(Bn,{type:"monotone",dataKey:"liquido",stroke:"#0ea5e9",fill:"url(#gradLiquido)",name:"Lquido (c/ taxa)"})]})})}),u.jsxs("div",{className:"flex justify-between items-center mt-3",children:[u.jsx("span",{className:"text-sm text-gray-600 flex items-center gap-2 font-semibold",children:"Detalhe de vendas"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>$(P,"onepay-vendas"),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," CSV"]}),u.jsxs("button",{onClick:()=>L(P,"Vendas"),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," PDF"]})]})]}),u.jsx("div",{className:"mt-2 overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm border-t border-gray-100",children:[u.jsx("thead",{children:u.jsx("tr",{className:"text-left text-gray-500",children:[{key:"paciente",label:"Paciente"},{key:"data_venda",label:"Data venda"},{key:"data_recebimento",label:"Data recebimento"},{key:"parcelaNumero",label:"Parcela"},{key:"valor_bruto",label:"Valor venda"},{key:"valorParcela",label:"Valor parcela"},{key:"valorParcelaLiquido",label:"Valor parcela lquido"},{key:"forma_pagamento",label:"Forma pagamento"},{key:"nsu",label:"NSU"},{key:"bandeira",label:"Bandeira"}].map(C=>u.jsx("th",{className:"py-2 pr-3 font-medium cursor-pointer select-none",onClick:()=>R(C.key,"vendas"),children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.label," ",u.jsx(gy,{size:12,className:"text-gray-400"})]})},C.key))})}),u.jsxs("tbody",{children:[P.map(C=>u.jsxs("tr",{className:"border-t border-gray-100",children:[u.jsx("td",{className:"py-2 pr-3 text-gray-800",children:C.paciente||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:Mt(C.data_venda||C.data_competencia)}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:Mt(C.data_recebimento)}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:`${C.parcelaNumero||1} de ${C.parcelaTotal||1}`}),u.jsx("td",{className:"py-2 pr-3 text-gray-900 font-semibold",children:fe(Number(C.valor_bruto||C.valor||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-900",children:fe(Number(C.valorParcela||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-900",children:fe(Number(C.valorParcelaLiquido||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.forma_pagamento||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.nsu||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.bandeira||"-"})]},`${C.id}-${C.parcelaNumero}`)),P.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:9,className:"py-3 text-center text-gray-400",children:"Nenhum registro no perodo selecionado."})})]})]})})]}),l==="recebiveis"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 text-gray-700 font-semibold",children:[u.jsx(yy,{size:16})," Recebveis futuros (lquido)"]}),u.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Mostrando apenas recebveis a partir de hoje (",Mt(g),") para facilitar a previso de entradas futuras."]}),u.jsx("div",{className:"h-72",children:u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(hC,{data:O,children:[u.jsx(Es,{strokeDasharray:"3 3"}),u.jsx(Fn,{dataKey:"bucket"}),u.jsx(Un,{}),u.jsx(sr,{formatter:C=>fe(C),labelFormatter:Mt}),u.jsx(oa,{}),u.jsx(oi,{dataKey:"liquido",fill:"#22c55e",name:"Lquido a receber",radius:[6,6,0,0]})]})})}),u.jsxs("div",{className:"flex justify-between items-center mt-3",children:[u.jsx("span",{className:"text-sm text-gray-600 flex items-center gap-2 font-semibold",children:"Detalhe de recebveis"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>$(k,"onepay-recebiveis"),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," CSV"]}),u.jsxs("button",{onClick:()=>L(k,"Recebiveis"),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," PDF"]})]})]}),u.jsx("div",{className:"mt-2 overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm border-t border-gray-100",children:[u.jsx("thead",{children:u.jsx("tr",{className:"text-left text-gray-500",children:[{key:"paciente",label:"Paciente"},{key:"data_venda",label:"Data venda"},{key:"data_recebimento",label:"Data recebimento"},{key:"parcelaNumero",label:"Parcela"},{key:"valor_bruto",label:"Valor venda"},{key:"valorParcela",label:"Valor parcela"},{key:"valorParcelaLiquido",label:"Valor parcela lquido"},{key:"forma_pagamento",label:"Forma pagamento"},{key:"nsu",label:"NSU"},{key:"bandeira",label:"Bandeira"}].map(C=>u.jsx("th",{className:"py-2 pr-3 font-medium cursor-pointer select-none",onClick:()=>R(C.key,"recebiveis"),children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[C.label," ",u.jsx(gy,{size:12,className:"text-gray-400"})]})},C.key))})}),u.jsxs("tbody",{children:[k.map(C=>u.jsxs("tr",{className:"border-t border-gray-100",children:[u.jsx("td",{className:"py-2 pr-3 text-gray-800",children:C.paciente||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:Mt(C.data_venda||C.data_competencia)}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:Mt(C.data_recebimento)}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:`${C.parcelaNumero||1} de ${C.parcelaTotal||1}`}),u.jsx("td",{className:"py-2 pr-3 text-gray-900 font-semibold",children:fe(Number(C.valor_bruto||C.valor||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-900",children:fe(Number(C.valorParcela||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-900",children:fe(Number(C.valorParcelaLiquido||0))}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.forma_pagamento||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.nsu||"-"}),u.jsx("td",{className:"py-2 pr-3 text-gray-600",children:C.bandeira||"-"})]},`${C.id}-${C.parcelaNumero}`)),k.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:9,className:"py-3 text-center text-gray-400",children:"Nenhum recebvel no perodo selecionado."})})]})]})})]})]})]})},_oe=()=>{const e=iu(),[t,r]=E.useState("loading"),[n,a]=E.useState("Validando login...");return E.useEffect(()=>{(async()=>{try{const o=new URL(window.location.href);let s=o.searchParams.get("code"),l=o.searchParams.get("error_description")||o.searchParams.get("error");if(!s&&o.hash.includes("?")){const d=o.hash.split("?")[1],f=new URLSearchParams(d);s=f.get("code"),l=l||f.get("error_description")||f.get("error")}if(l){r("error"),a(l);return}if(!s){r("error"),a("Cdigo de autenticao no encontrado no callback.");return}const{error:c}=await K.auth.exchangeCodeForSession(s);if(c)throw c;r("success"),a("Autenticado! Redirecionando..."),e("/",{replace:!0})}catch(o){r("error"),a((o==null?void 0:o.message)||"Erro ao validar login.")}})()},[e]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:u.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 w-full max-w-md text-center space-y-2",children:[u.jsxs("div",{className:"text-lg font-semibold",children:[t==="loading"&&"Conectando...",t==="success"&&"Sucesso!",t==="error"&&"Algo deu errado"]}),u.jsx("p",{className:"text-sm text-gray-600",children:n}),t==="error"&&u.jsx("button",{onClick:()=>e("/login"),className:"mt-3 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-md hover:bg-brand-700",children:"Voltar para login"})]})})};async function joe(e,t){var i;const{data:r,error:n}=await K.from("clinic_invites").select("*").eq("token",e).gt("expires_at",new Date().toISOString()).maybeSingle();if(n)throw n;if(!r)throw new Error("Convite invlido ou expirado");const{error:a}=await K.from("clinic_users").insert({clinic_id:r.clinic_id,email:r.email,name:((i=r.email)==null?void 0:i.split("@")[0])||"Usurio",role:r.role,ativo:!0});if(a)throw a;return await K.from("clinic_invites").delete().eq("id",r.id),r}const Soe=()=>{const[e]=M0(),t=e.get("token"),[r,n]=E.useState("checking"),[a,i]=E.useState("Validando convite..."),[o,s]=E.useState(!1);return E.useEffect(()=>{(async()=>{if(!t){n("error"),i("Token no informado.");return}const{data:{session:c}}=await K.auth.getSession();if(!c){n("need-auth"),i("Faa login para aceitar o convite.");return}try{await joe(t,c.user.id),n("success"),i("Convite aceito com sucesso! Redirecionando..."),setTimeout(()=>s(!0),1200)}catch(d){n("error"),i(d.message||"Erro ao aceitar convite.")}})()},[t]),o?u.jsx(mc,{to:"/",replace:!0}):r==="need-auth"?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"bg-white shadow-lg border border-gray-200 rounded-lg p-6 max-w-md w-full space-y-3 text-center",children:[u.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Login necessrio"}),u.jsx("p",{className:"text-sm text-gray-600",children:a}),u.jsx("a",{href:`/login?redirectTo=/accept-invite%3Ftoken%3D${encodeURIComponent(t||"")}`,className:"inline-flex justify-center px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 text-sm",children:"Ir para login"})]})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"bg-white shadow-lg border border-gray-200 rounded-lg p-6 max-w-md w-full space-y-3 text-center",children:[u.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Convite"}),u.jsx("p",{className:"text-sm text-gray-600",children:a})]})})},Ooe=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8 max-w-md w-full text-center space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Acesso negado"}),u.jsx("p",{className:"text-gray-600",children:"Voc no tem permisso para acessar esta pgina."}),u.jsxs("div",{className:"flex justify-center gap-3 text-sm",children:[u.jsx(Fl,{to:"/",className:"px-4 py-2 rounded-lg bg-brand-600 text-white hover:bg-brand-700",children:"Ir para o incio"}),u.jsx(Fl,{to:"/login",className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-50",children:"Login"})]})]})});async function Ep(e){const{clinicId:t,from:r,to:n}=e;let a=K.from("revenues").select("*").order("data_competencia",{ascending:!0});t&&(a=a.eq("clinic_id",t)),r&&(a=a.gte("data_competencia",r)),n&&(a=a.lte("data_competencia",n));const{data:i}=await a,{data:o}=await K.from("revenue_procedures").select("*"),s=t?(o||[]).filter(d=>d.clinic_id===t):o||[],{data:l}=await K.from("customers").select("*"),c=t?(l||[]).filter(d=>d.clinic_id===t):l||[];return{revenues:i||[],revenueProcedures:s,customers:c}}function VT(e){const t={};return e.revenues.forEach(r=>{const n=(r.paciente||"Sem nome").trim()||"Sem nome";t[n]||(t[n]={faturamento:0,atendimentos:0,procedimentos:new Set,procedimentosCount:0,datas:new Set});const a=t[n],i=Number(r.valor_liquido??r.valor??0);a.faturamento+=isFinite(i)?i:0,a.atendimentos+=1,r.data_competencia&&a.datas.add(r.data_competencia),e.revenueProcedures.filter(s=>s.revenue_id===r.id).forEach(s=>{s.procedimento&&a.procedimentos.add(s.procedimento),a.procedimentosCount+=s.quantidade||0})}),Object.entries(t).map(([r,n])=>{const a=n.atendimentos?n.faturamento/n.atendimentos:0,i=n.datas.size;return{name:r,faturamento:n.faturamento,atendimentos:n.atendimentos,ticket:a,recorrencia:i,procedimentosCount:n.procedimentosCount,procedimentos:Array.from(n.procedimentos)}})}function HT(e,t,r){const n={};e.revenues.forEach(c=>{if(!c.data_competencia||t&&c.data_competencia<t||r&&c.data_competencia>r)return;const d=(c.paciente||"Sem nome").trim()||"Sem nome";n[d]||(n[d]=new Set),n[d].add(c.data_competencia)});const a=Object.entries(n).map(([c,d])=>({name:c,atendimentos:d.size,dates:Array.from(d).sort(),status:d.size>1?"Recorrente":"No recorrente"})),i=a.length,o=a.filter(c=>c.atendimentos>1).length,s=i-o,l=i?o/i*100:0;return{rows:a,total:i,recorrentes:o,naoRecorrentes:s,percentual:l}}const Eoe=()=>{const{clinicId:e,isAdmin:t,selectedClinicId:r}=_n(),[n,a]=E.useState(!0),[i,o]=E.useState("faturamento"),[s,l]=E.useState("desc"),[c,d]=E.useState([]);E.useEffect(()=>{(async()=>{if(!e&&!t)return;a(!0);const m=await Ep({clinicId:t?r||void 0:e});d(VT(m)),a(!1)})()},[e,t,r]);const f=E.useMemo(()=>{const p=s==="asc"?1:-1;return[...c].sort((m,v)=>m[i]<v[i]?-1*p:m[i]>v[i]?1*p:0)},[c,i,s]),h=p=>{i===p?l(m=>m==="asc"?"desc":"asc"):(o(p),l("desc"))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Comercial  Ranking dos Clientes"}),u.jsx("p",{className:"text-gray-500",children:"Ranking analtico por faturamento, ticket e recorrncia."}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center gap-2 text-sm text-gray-600",children:["Clinic: ",e||""]}),n?u.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-500",children:[u.jsx(Ut,{className:"animate-spin mr-2",size:20})," Carregando..."]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 text-gray-600",children:u.jsx("tr",{children:[["name","Cliente"],["faturamento","Faturamento"],["atendimentos","Atendimentos"],["ticket","Ticket mdio"],["recorrencia","Recorrncia (datas)"],["procedimentosCount","Qtd. procedimentos"],["procedimentos","Procedimentos"]].map(([p,m])=>u.jsx("th",{className:"px-4 py-3 text-left",children:p==="procedimentos"?m:u.jsxs("button",{onClick:()=>h(p),className:"inline-flex items-center gap-1 text-gray-700 hover:text-brand-600",children:[m," ",u.jsx(gy,{size:14})]})},p))})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[f.map((p,m)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800",children:p.name}),u.jsx("td",{className:"px-4 py-2 text-gray-800",children:fe(p.faturamento||0)}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:p.atendimentos}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:fe(p.ticket||0)}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:p.recorrencia}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:p.procedimentosCount}),u.jsx("td",{className:"px-4 py-2 text-gray-600",children:p.procedimentos.join(", ")||""})]},m)),f.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-400",children:"Sem dados para a clnica."})})]})]})})]})]})},QS=e=>e.toISOString().slice(0,10);function Poe(e){const t=new Date,r=new Date;return e==="anual"?r.setFullYear(r.getFullYear()-1):r.setMonth(r.getMonth()-6),{from:QS(r),to:QS(t)}}const Aoe=()=>{const{clinicId:e,isAdmin:t,selectedClinicId:r}=_n(),[n,a]=E.useState("anual"),[i,o]=E.useState(!0),[s,l]=E.useState([]),[c,d]=E.useState({total:0,recorrentes:0,naoRecorrentes:0,percentual:0}),{from:f,to:h}=E.useMemo(()=>Poe(n),[n]);E.useEffect(()=>{(async()=>{if(!e&&!t)return;o(!0);const v=await Ep({clinicId:t?r||void 0:e,from:f,to:h}),g=HT(v,f,h);l(g.rows),d({total:g.total,recorrentes:g.recorrentes,naoRecorrentes:g.naoRecorrentes,percentual:g.percentual}),o(!1)})()},[e,t,r,f,h]);const p=()=>{const m=s.map(g=>`<tr>
      <td>${g.name}</td>
      <td>${g.atendimentos}</td>
      <td>${g.dates.join(", ")}</td>
      <td>${g.status}</td>
    </tr>`).join(""),v=window.open("","_blank");v&&(v.document.write(`
      <html><head><title>Recorrncia</title>
      <style>table{border-collapse:collapse;width:100%;font-family:Arial;}th,td{border:1px solid #ddd;padding:6px;font-size:12px;}th{background:#f3f4f6;text-align:left;}</style>
      </head><body>
      <h3>Recorrncia (${f} a ${h})</h3>
      <table><thead><tr><th>Cliente</th><th>Qtd atendimentos</th><th>Datas</th><th>Status</th></tr></thead>
      <tbody>${m}</tbody>
      </table>
      </body></html>
    `),v.document.close(),v.print())};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Comercial  Recorrncia"}),u.jsx("p",{className:"text-gray-500",children:"Anlise de recorrncia por perodo."}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[u.jsx(to,{size:16})," Perodo:",u.jsxs("select",{value:n,onChange:m=>a(m.target.value),className:"text-sm bg-transparent focus:outline-none",children:[u.jsx("option",{value:"anual",children:"ltimos 12 meses"}),u.jsx("option",{value:"semestral",children:"ltimos 6 meses"})]})]}),u.jsxs("span",{className:"text-sm text-gray-600",children:["De ",f," at ",h]}),u.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 text-sm border rounded-lg text-gray-700 hover:bg-gray-50",children:[u.jsx(na,{size:14})," PDF"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Total"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:c.total})]}),u.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Recorrentes"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:c.recorrentes})]}),u.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"No recorrentes"}),u.jsx("p",{className:"text-xl font-bold text-gray-800",children:c.naoRecorrentes})]}),u.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-lg",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"% Recorrncia"}),u.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[c.percentual.toFixed(1),"%"]})]})]}),u.jsx("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm overflow-hidden",children:i?u.jsxs("div",{className:"h-48 flex items-center justify-center text-gray-500",children:[u.jsx(Ut,{className:"animate-spin mr-2",size:20})," Carregando..."]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-600 border-b border-gray-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Cliente"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Qtd atendimentos"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Datas"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.map((m,v)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800",children:m.name}),u.jsx("td",{className:"px-4 py-2 text-gray-700",children:m.atendimentos}),u.jsx("td",{className:"px-4 py-2 text-gray-600",children:m.dates.join(", ")}),u.jsx("td",{className:`px-4 py-2 text-xs font-semibold ${m.status==="Recorrente"?"text-emerald-700":"text-gray-600"}`,children:m.status})]},v)),s.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-400",children:"Sem dados no perodo."})})]})]})})})]})},koe=()=>{const{clinicId:e,isAdmin:t,selectedClinicId:r}=_n(),[n,a]=E.useState(!0),[i,o]=E.useState([]),[s,l]=E.useState([]),[c,d]=E.useState({percentual:0});E.useEffect(()=>{(async()=>{if(!e&&!t)return;a(!0);const m=await Ep({clinicId:t?r||void 0:e});o(m.revenues),l(VT(m));const v=HT(m);d({percentual:v.percentual}),a(!1)})()},[e,t,r]);const f=E.useMemo(()=>{const p={};return i.forEach(m=>{const v=m.data_competencia||m.data_recebimento||"";if(!v)return;const g=v.slice(0,7),y=Number(m.valor_liquido??m.valor??0);p[g]=(p[g]||0)+(isFinite(y)?y:0)}),Object.entries(p).sort(([m],[v])=>m.localeCompare(v)).map(([m,v])=>({month:m,total:v}))},[i]),h=E.useMemo(()=>{const p={};return s.forEach(m=>{m.procedimentos.forEach(v=>{p[v]=(p[v]||0)+1})}),Object.entries(p).map(([m,v])=>({name:m,qty:v})).sort((m,v)=>v.qty-m.qty).slice(0,5)},[s]);return n?u.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-500",children:[u.jsx(Ut,{className:"animate-spin mr-2",size:20})," Carregando..."]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Comercial  Dashboard"}),u.jsx("p",{className:"text-gray-500",children:"Viso consolidada de vendas, ticket e recorrncia."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-4",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Faturamento total"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:fe(i.reduce((p,m)=>p+Number(m.valor_liquido??m.valor??0),0))})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-4",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"Ticket mdio global"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:(()=>{const p=i.length||1,m=i.reduce((v,g)=>v+Number(g.valor_liquido??g.valor??0),0);return fe(m/p)})()})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg p-4",children:[u.jsx("p",{className:"text-xs uppercase text-gray-500",children:"% Recorrncia"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.percentual.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-3",children:"Evoluo de vendas"}),u.jsx("div",{className:"h-64",children:u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(pC,{data:f,children:[u.jsx(Es,{strokeDasharray:"3 3"}),u.jsx(Fn,{dataKey:"month"}),u.jsx(Un,{}),u.jsx(sr,{formatter:p=>fe(Number(p||0))}),u.jsx(Bn,{type:"monotone",dataKey:"total",stroke:"#2563eb",fill:"#dbeafe"})]})})})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-3",children:"Procedimentos mais vendidos"}),u.jsx("div",{className:"h-64",children:u.jsx(us,{width:"100%",height:"100%",children:u.jsxs(hC,{data:h,children:[u.jsx(Es,{strokeDasharray:"3 3"}),u.jsx(Fn,{dataKey:"name"}),u.jsx(Un,{allowDecimals:!1}),u.jsx(sr,{}),u.jsx(oi,{dataKey:"qty",fill:"#10b981"})]})})})]})]})]})},Noe=async e=>{const t=e.replace(/\D/g,"");if(t.length<5)return null;const r=`https://nominatim.openstreetmap.org/search?postalcode=${t}&country=Brazil&format=json&limit=1`,n=await fetch(r,{headers:{"Accept-Language":"pt-BR","User-Agent":"OnePay-App"}});if(!n.ok)return null;const a=await n.json();return!a||!a[0]?null:{name:t,cep:e,lat:parseFloat(a[0].lat),lng:parseFloat(a[0].lon)}},Coe=()=>{const{effectiveClinicId:e,isAdmin:t,selectedClinicId:r}=_n(),[n,a]=E.useState(!0),[i,o]=E.useState([]);E.useEffect(()=>{(async()=>{if(!e&&!t)return;a(!0);const c=await Ep({clinicId:t?r||void 0:e||void 0}),d=Array.from(new Set(c.customers.map(h=>h.cep||"").filter(Boolean))),f=[];for(const h of d){const p=await Noe(h);p&&f.push(p)}o(f),a(!1)})()},[e,t,r]);const s=E.useMemo(()=>{if(!i.length)return{lat:-14.235,lng:-51.925};const l=i.reduce((d,f)=>d+f.lat,0)/i.length,c=i.reduce((d,f)=>d+f.lng,0)/i.length;return{lat:l,lng:c}},[i]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Comercial  Geolocalizao"}),u.jsx("p",{className:"text-gray-500",children:"Distribuio de clientes por CEP (Brasil)."}),n?u.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-500",children:[u.jsx(Ut,{className:"animate-spin mr-2",size:20})," Geocodificando..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"Mapa (OpenStreetMap)"}),u.jsx("div",{className:"h-80 rounded-lg overflow-hidden border",children:u.jsx("iframe",{title:"map",width:"100%",height:"100%",src:`https://www.openstreetmap.org/export/embed.html?bbox=${s.lng-2}%2C${s.lat-2}%2C${s.lng+2}%2C${s.lat+2}&layer=mapnik`})}),u.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Pinos aproximados por CEP (no exibidos no iframe por limite de tempo; listados abaixo)."})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4",children:[u.jsx("p",{className:"font-semibold text-gray-800 mb-3",children:"Pontos geocodificados"}),u.jsxs("div",{className:"space-y-2",children:[i.map((l,c)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(One,{size:16,className:"text-brand-600"}),u.jsxs("span",{children:["CEP ",l.cep,"  Lat ",l.lat.toFixed(4),"  Lng ",l.lng.toFixed(4)]})]},c)),i.length===0&&u.jsx("p",{className:"text-gray-400 text-sm",children:"Nenhum CEP vlido encontrado."})]})]})]})]})},ZS={INCOME:"income",EXPENSE:"expense"},Toe=()=>{const{isAdmin:e,selectedClinicId:t,setSelectedClinicId:r}=_n(),[n,a]=E.useState([]),[i,o]=E.useState(!1);return E.useEffect(()=>{if(!e)return;(async()=>{o(!0);const{data:l}=await K.from("clinics").select("id, name").order("created_at",{ascending:!1});a(l||[]),o(!1)})()},[e]),e?u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-600",children:"Clnica:"}),u.jsxs("select",{value:t||"",onChange:s=>r(s.target.value||null),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-gray-700",children:[u.jsx("option",{value:"",children:"Todas"}),n.map(s=>u.jsx("option",{value:s.id,children:s.name},s.id))]}),i&&u.jsx("span",{className:"text-xs text-gray-400",children:"Carregando..."})]}):null},$oe=({children:e})=>{const t=ao(),[r,n]=N.useState(!1),[a,i]=N.useState(!1),{isAdmin:o}=_n(),[s,l]=N.useState(()=>{if(typeof window>"u")return{};try{const p=window.localStorage.getItem("sidebarExpandedSections");return p?JSON.parse(p):{}}catch{return{}}}),c=[{name:"Dashboard",href:"/",icon:_ne},{name:"Receitas",href:"/incomes",icon:by},{name:"Despesas",href:"/expenses",icon:Tne},{name:"Analise de carto",href:"/card-analysis",icon:vy},{name:"Conciliao bancria",href:"/reconciliation",icon:Qu},{name:"Configuraes",href:"/settings",icon:Cne,children:[{name:"Contas Bancrias",href:"/accounts",icon:mu},{name:"Categorias",href:"/settings?section=categorias",icon:bC},{name:"Taxas",href:"/settings?section=taxas",icon:gC},{name:"Clientes",href:"/settings?section=clientes",icon:Xl},{name:"Procedimentos",href:"/settings?section=procedimentos",icon:Wb},{name:"Profissionais",href:"/settings?section=profissionais",icon:Xl},{name:"Fornecedores",href:"/settings?section=fornecedores",icon:Qu}]},{name:"Comercial",href:"/commercial/dashboard",icon:vne,children:[{name:"Dashboard",href:"/commercial/dashboard",icon:vy},{name:"Ranking dos Clientes",href:"/commercial/ranking",icon:Qu},{name:"Recorrncia",href:"/commercial/recurrence",icon:by},{name:"Geolocalizao",href:"/commercial/geo",icon:Qu}]},{name:"Admin",href:"/admin",icon:yC}],d=p=>p==="/"&&t.pathname!=="/"?!1:t.pathname.startsWith(p),f=p=>{l(m=>{const v={...m,[p]:!m[p]};return typeof window<"u"&&window.localStorage.setItem("sidebarExpandedSections",JSON.stringify(v)),v})},h=N.useMemo(()=>{const p={};return c.forEach(m=>{m.children&&(d(m.href)||m.children.some(v=>d(v.href)))&&(p[m.name]=!0)}),p},[t.pathname]);return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[u.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow",onClick:()=>n(!r),children:u.jsx(Ene,{size:24})}),u.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out
        ${r?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:static lg:block
        ${a?"lg:w-20":"lg:w-64"}
      `,children:u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-gray-100",children:[u.jsxs("div",{className:`flex items-center gap-2 text-brand-600 font-bold text-xl ${a?"justify-center w-full":""}`,children:[u.jsx("img",{src:"/logo-onepay.svg",alt:"OnePay",className:"w-8 h-8"}),!a&&"OnePay"]}),u.jsx("button",{onClick:()=>i(!a),className:"hidden lg:inline-flex ml-auto text-gray-400 hover:text-gray-600","aria-label":a?"Expandir menu":"Recolher menu",children:a?u.jsx(wne,{size:18}):u.jsx(xne,{size:18})})]}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:c.map(p=>{const m=h[p.name],v=s[p.name]??m,g=!!(p.children&&p.children.length),y=p.name==="Configuraes";return u.jsxs("div",{children:[g&&y?u.jsxs("div",{className:`
                      flex items-center gap-3 ${a?"justify-center px-2":"px-4"} py-3 text-sm font-medium rounded-lg transition-colors
                      ${d(p.href)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                    `,children:[u.jsxs(Fl,{to:p.href,className:"flex items-center gap-3 flex-1",children:[u.jsx(p.icon,{size:20}),!a&&u.jsx("span",{children:p.name})]}),!a&&u.jsx("button",{onClick:()=>f(p.name),className:"text-gray-500 hover:text-gray-700",children:v?u.jsx(_S,{size:16}):u.jsx(jS,{size:16})})]}):g?u.jsxs("div",{className:`
                        flex items-center gap-3 ${a?"justify-center px-2":"px-4"} py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer
                        ${d(p.href)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                      `,onClick:()=>f(p.name),children:[u.jsx(p.icon,{size:20}),!a&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"flex-1",children:p.name}),v?u.jsx(_S,{size:16}):u.jsx(jS,{size:16})]})]}):u.jsxs(Fl,{to:p.href,className:`
                        flex items-center gap-3 ${a?"justify-center px-2":"px-4"} py-3 text-sm font-medium rounded-lg transition-colors
                        ${d(p.href)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                      `,children:[u.jsx(p.icon,{size:20}),!a&&p.name]}),!a&&g&&v&&u.jsx("div",{className:"ml-6 mt-1 space-y-1",children:p.children.map(b=>u.jsxs(Fl,{to:b.href,className:`
                            flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors
                            ${d(b.href)?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                          `,children:[u.jsx(b.icon,{size:16}),b.name]},b.name))})]},p.name)})}),u.jsxs("div",{className:"p-4 border-t border-gray-100",children:[u.jsxs("button",{onClick:async()=>{await K.auth.signOut(),window.location.href="/login"},className:`w-full text-left flex items-center gap-3 ${a?"justify-center px-2":"px-4"} py-3 text-sm font-medium text-gray-600 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors`,children:[u.jsx(Sne,{size:20}),!a&&"Sair"]}),!a&&u.jsxs("div",{className:"mt-4 px-4 text-xs text-gray-400 text-center",children:["Clnica Demo S.A.",u.jsx("br",{}),"v1.0.0"]})]})]})}),u.jsxs("main",{className:"flex-1 overflow-auto",children:[u.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-8 lg:hidden",children:[u.jsx("div",{className:"w-8"})," ",u.jsx("span",{className:"font-semibold text-gray-700",children:"OnePay"})]}),u.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-3",children:[o&&u.jsx("div",{className:"flex justify-end",children:u.jsx(Toe,{})}),e]})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black/20 z-30 lg:hidden",onClick:()=>n(!1)})]})},qr=({children:e})=>{const{session:t,loading:r}=_n();return r?u.jsx("div",{className:"h-screen flex items-center justify-center text-gray-500",children:"Carregando..."}):t?u.jsx($oe,{children:e}):u.jsx(mc,{to:"/login",replace:!0})},Ioe=({allow:e,children:t})=>{const{role:r,loading:n,session:a}=_n();return n?u.jsx("div",{className:"h-screen flex items-center justify-center text-gray-500",children:"Carregando..."}):a?e.includes(r||"user")?u.jsx(u.Fragment,{children:t}):u.jsx(mc,{to:"/access-denied",replace:!0}):u.jsx(mc,{to:"/login",replace:!0})};function Roe(){return u.jsx(wR,{children:u.jsx(foe,{children:u.jsxs(hR,{children:[u.jsx(Dt,{path:"/login",element:u.jsx(goe,{})}),u.jsx(Dt,{path:"/auth/callback",element:u.jsx(_oe,{})}),u.jsx(Dt,{path:"/accept-invite",element:u.jsx(Soe,{})}),u.jsx(Dt,{path:"/access-denied",element:u.jsx(Ooe,{})}),u.jsx(Dt,{path:"/",element:u.jsx(qr,{children:u.jsx(hoe,{})})}),u.jsx(Dt,{path:"/incomes",element:u.jsx(qr,{children:u.jsx(XS,{type:ZS.INCOME})})}),u.jsx(Dt,{path:"/expenses",element:u.jsx(qr,{children:u.jsx(XS,{type:ZS.EXPENSE})})}),u.jsx(Dt,{path:"/reconciliation",element:u.jsx(qr,{children:u.jsx(moe,{})})}),u.jsx(Dt,{path:"/accounts",element:u.jsx(qr,{children:u.jsx(voe,{})})}),u.jsx(Dt,{path:"/settings",element:u.jsx(qr,{children:u.jsx(yoe,{})})}),u.jsx(Dt,{path:"/card-analysis",element:u.jsx(qr,{children:u.jsx(woe,{})})}),u.jsx(Dt,{path:"/commercial/dashboard",element:u.jsx(qr,{children:u.jsx(koe,{})})}),u.jsx(Dt,{path:"/commercial/ranking",element:u.jsx(qr,{children:u.jsx(Eoe,{})})}),u.jsx(Dt,{path:"/commercial/recurrence",element:u.jsx(qr,{children:u.jsx(Aoe,{})})}),u.jsx(Dt,{path:"/commercial/geo",element:u.jsx(qr,{children:u.jsx(Coe,{})})}),u.jsx(Dt,{path:"/admin",element:u.jsx(qr,{children:u.jsx(Ioe,{allow:["owner","admin"],children:u.jsx(boe,{})})})}),u.jsx(Dt,{path:"*",element:u.jsx(mc,{to:"/"})})]})})})}const KT=document.getElementById("root");if(!KT)throw new Error("Could not find root element to mount to");const Doe=Wm.createRoot(KT);Doe.render(u.jsx(N.StrictMode,{children:u.jsx(Roe,{})}));
